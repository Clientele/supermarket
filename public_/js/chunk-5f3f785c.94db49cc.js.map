{"version":3,"sources":["webpack:///./src/views/sales/customers/CustomerDetails.vue?0b81","webpack:///src/views/sales/customers/CustomerDetails.vue","webpack:///./src/views/sales/customers/CustomerDetails.vue?c702","webpack:///./src/views/sales/customers/CustomerDetails.vue?ea72","webpack:///./src/views/sales/customers/CustomerDetails.vue?c951","webpack:///./src/http/handler.js","webpack:///./src/assets/ajab/images/user_.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","customer","customer_name","phone_number_1","phone_number_2","email","creator","name","on","$event","verifyCustomer","ref","orders","scopedSlots","_u","key","fn","data","_l","item","rowIndex","id","place","place_name","district","district_name","region","region_name","created_at","slot","confirmDeleteRecord","_e","userFormVisible","closeCustomerForm","staticRenderFns","components","props","customerId","String","Number","user_data","user_not_found","userFormDialog","computed","$store","state","general","watch","fetchCustomerDetails","methods","axios","console","log","error","deleteCustomer","$vs","dialog","type","color","title","text","accept","acceptText","showCustomerForm","commit","navigateToCustomers","$router","push","fetchCustomerOrders","handleApiError","notify","iconPack","icon","happilyNotify","sadlyNotify","created","component","parseError","statusCode","handle","response","JSON","stringify","message","status","router","catch","module","exports"],"mappings":"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","file":"js/chunk-5f3f785c.94db49cc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"page-user-view\"}},[_c('div',{attrs:{\"id\":\"user-data\"}},[_c('vx-card',{staticClass:\"mb-base\",attrs:{\"title\":\"Customer\"}},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col\",attrs:{\"id\":\"avatar-col\"}},[_c('div',{staticClass:\"img-container mb-4\"},[_c('img',{staticClass:\"rounded w-full\",attrs:{\"src\":require('@/assets/ajab/images/user_.png')}})])]),_c('div',{staticClass:\"vx-col flex-1\",attrs:{\"id\":\"account-info-col-1\"}},[_c('table',[_c('tr',[_c('td',{staticClass:\"font-semibold\"},[_vm._v(\"Name\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.customer.customer_name))])]),_c('tr',[_c('td',{staticClass:\"font-semibold\"},[_vm._v(\"Phone \")]),_c('td',[_vm._v(_vm._s(_vm.customer.phone_number_1)+\", \"+_vm._s(_vm.customer.phone_number_2)+\" \")])]),_c('tr',[_c('td',{staticClass:\"font-semibold\"},[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.customer.email))])])])]),_c('div',{staticClass:\"vx-col flex-1\",attrs:{\"id\":\"account-info-col-2\"}},[_c('table',[_c('tr',[_c('td',{staticClass:\"font-semibold\"},[_vm._v(\"Status\")]),_c('td',[_vm._v(\"Active\")])]),_c('tr',[_c('td',{staticClass:\"font-semibold\"},[_vm._v(\"Last Seen\")]),_c('td',[_vm._v(\"January 7th 2020\")])]),_c('tr',[_c('td',{staticClass:\"font-semibold\"},[_vm._v(\"Added by\")]),_c('td',[_vm._v(_vm._s(_vm.customer.creator? _vm.customer.creator.name : \"Unknown\"))])])])]),_c('div',{staticClass:\"vx-col w-full flex\",attrs:{\"id\":\"account-manage-buttons\"}},[(!(_vm.customer.verified))?_c('vs-button',{staticClass:\"mr-4\",attrs:{\"icon-pack\":\"feather\",\"color\":\"secondary\",\"icon\":\"icon-check\"},on:{\"click\":function($event){return _vm.verifyCustomer()}}},[_vm._v(\"Verify\")]):_c('vs-chip',{attrs:{\"size\":\"large\",\"color\":\"success\"}},[_c('vs-avatar',{attrs:{\"color\":\"secondary\",\"icon-pack\":\"feather\",\"icon\":\"icon-check\"}}),_vm._v(\"\\n             Verified\\n           \")],1)],1)])]),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col   w-full\"},[_c('vx-card',{attrs:{\"title\":\"Orders\"}},[_c('vs-table',{ref:\"table\",attrs:{\"pagination\":\"\",\"max-items\":100,\"data\":_vm.orders},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('tbody',_vm._l((data),function(item,rowIndex){return _c('vs-tr',{key:rowIndex,attrs:{\"data\":item}},[_c('vs-td',[_c('p',{staticClass:\"product-name font-medium truncate\"},[_vm._v(_vm._s(item.id))])]),_c('vs-td',[_c('p',{staticClass:\"product-category\"},[_vm._v(\"\\n                    \"+_vm._s(item.place ?  item.place.place_name : \" \")+\"\\n                    \"+_vm._s(item.district? item.district.district_name : \" \")+\"\\n                    \"+_vm._s(item.region? item.region.region_name : \" \")+\"\\n                  \")])]),_c('vs-td',[(item.is_delivered)?_c('vs-chip',{attrs:{\"color\":\"success\"}},[_vm._v(\"Delivered\")]):(item.is_cancelled)?_c('vs-chip',{attrs:{\"color\":\"danger\"}},[_vm._v(\"Cancelled\")]):_c('vs-chip',{attrs:{\"color\":\"#8a5a44\"}},[_vm._v(\"Pending\")])],1),_c('vs-td',[_vm._v(\" \"+_vm._s(item.created_at))]),_c('vs-td',{staticClass:\"whitespace-no-wrap\"},[_c('vs-button',{staticClass:\"mr-2\",attrs:{\"color\":\"secondary\",\"size\":\"small\",\"type\":\"border\"}},[_vm._v(\"View\")])],1),_c('vs-td')],1)}),1)]}}])},[_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"name\"}},[_vm._v(\"#\")]),_c('vs-th',[_vm._v(\"Address\")]),_c('vs-th',[_vm._v(\"Status\")]),_c('vs-th',[_vm._v(\"Date\")]),_c('vs-th'),_c('vs-th',[_vm._v(\"Sales Person\")])],1)],2)],1)],1)]),_c('div',{staticClass:\"vx-row my-6\"},[_c('div',{staticClass:\"vx-col lg:w-1/2 w-full\"},[_c('div',{staticClass:\"flex\"},[_c('vs-button',{attrs:{\"type\":\"border\",\"color\":\"danger\",\"icon-pack\":\"feather\",\"icon\":\"icon-trash\"},on:{\"click\":_vm.confirmDeleteRecord}},[_vm._v(\"Delete Customer\")]),(_vm.customer.verified)?_c('vs-button',{staticClass:\"ml-6\",attrs:{\"type\":\"border\",\"icon-pack\":\"feather\"},on:{\"click\":function($event){return _vm.verifyCustomer(false)}}},[_vm._v(\"Unverify Customer\")]):_vm._e()],1)])])],1),_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":\"Customer Info\",\"active\":_vm.userFormVisible},on:{\"close\":function($event){return _vm.closeCustomerForm()},\"update:active\":function($event){_vm.userFormVisible=$event}}},[_c('div')])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n  <div id=\"page-user-view\">\n\n    <div id=\"user-data\"  >\n\n      <vx-card title=\"Customer\" class=\"mb-base\">\n\n        <div class=\"vx-row\">\n\n          <!-- Avatar Col -->\n          <div class=\"vx-col\" id=\"avatar-col\">\n            <div class=\"img-container mb-4\">\n              <img  :src=\"require('@/assets/ajab/images/user_.png')\" class=\"rounded w-full\" />\n            </div>\n          </div>\n          <!-- [end] Avatar Col -->\n\n          <!-- Primary Information - Col 1 -->\n          <div class=\"vx-col flex-1\" id=\"account-info-col-1\">\n            <table>\n              <tr>\n                <td class=\"font-semibold\">Name</td>\n                <td> {{  customer.customer_name }}</td>\n              </tr>\n              <tr>\n                <td class=\"font-semibold\">Phone </td>\n                <td>{{  customer.phone_number_1 }}, {{  customer.phone_number_2 }} </td>\n              </tr>\n              <tr>\n                <td class=\"font-semibold\">Email</td>\n                <td>{{  customer.email }}</td>\n              </tr>\n            </table>\n          </div>\n          <!-- / Primary Information - Col 1 -->\n\n          <!-- Information - Status, Role, Last seen-->\n          <div class=\"vx-col flex-1\" id=\"account-info-col-2\">\n            <table>\n              <tr>\n                <td class=\"font-semibold\">Status</td>\n                <td>Active</td>\n              </tr>\n\n              <tr>\n                <td class=\"font-semibold\">Last Seen</td>\n                <td>January 7th 2020</td>\n              </tr>\n              <tr>\n                <td class=\"font-semibold\">Added by</td>\n                <td>{{  customer.creator? customer.creator.name : \"Unknown\"  }}</td>\n              </tr>\n            </table>\n          </div>\n\n           <div class=\"vx-col w-full flex\" id=\"account-manage-buttons\">\n            <vs-button v-if=\"!(customer.verified)\" @click=\"verifyCustomer()\" icon-pack=\"feather\" color=\"secondary\"\n                       icon=\"icon-check\" class=\"mr-4\">Verify</vs-button>\n\n             <vs-chip size=\"large\" v-else color=\"success\">\n               <vs-avatar color=\"secondary\" icon-pack=\"feather\" icon=\"icon-check\" />\n               Verified\n             </vs-chip>\n          </div>\n\n        </div>\n\n      </vx-card>\n\n      <!-- Orders  -->\n      <div class=\"vx-row\">\n        <div class=\"vx-col   w-full\">\n          <vx-card title=\"Orders\">\n            <vs-table ref=\"table\"  pagination :max-items=\"100\"  :data=\"orders\">\n\n              <template slot=\"thead\">\n                <vs-th sort-key=\"name\">#</vs-th>\n                 <vs-th >Address</vs-th>\n                <vs-th >Status</vs-th>\n                <vs-th>Date</vs-th>\n                <vs-th></vs-th>\n                <vs-th>Sales Person</vs-th>\n              </template>\n\n              <template slot-scope=\"{data}\">\n                <tbody>\n                <vs-tr :data=\"item\" :key=\"rowIndex\" v-for=\"(item, rowIndex) in data\">\n\n                  <vs-td>\n                    <p class=\"product-name font-medium truncate\">{{ item.id   }}</p>\n                  </vs-td>\n\n                  <vs-td>\n                    <p class=\"product-category\">\n                      {{ item.place ?  item.place.place_name : \" \"  }}\n                      {{ item.district? item.district.district_name : \" \"  }}\n                      {{ item.region? item.region.region_name : \" \"  }}\n                    </p>\n                  </vs-td>\n\n\n                  <vs-td>\n                    <vs-chip color=\"success\" v-if=\"item.is_delivered\">Delivered</vs-chip>\n                    <vs-chip color=\"danger\" v-else-if=\"item.is_cancelled\">Cancelled</vs-chip>\n                    <vs-chip color=\"#8a5a44\" v-else>Pending</vs-chip>\n                  </vs-td>\n\n                  <vs-td> {{ item.created_at }}</vs-td>\n\n                  <vs-td class=\"whitespace-no-wrap\">\n                    <vs-button color=\"secondary\" class=\"mr-2\" size=\"small\" type=\"border\"  >View</vs-button>\n                  </vs-td>\n\n                  <vs-td> </vs-td>\n\n                </vs-tr>\n                </tbody>\n              </template>\n            </vs-table>\n          </vx-card>\n\n        </div>\n\n       </div>\n\n      <div class=\"vx-row my-6\">\n        <div class=\"vx-col lg:w-1/2 w-full\">\n        <div class=\"flex\">\n          <vs-button type=\"border\" color=\"danger\" icon-pack=\"feather\" icon=\"icon-trash\"\n                     @click=\"confirmDeleteRecord\">Delete Customer</vs-button>\n\n          <vs-button type=\"border\" class=\"ml-6\"  icon-pack=\"feather\" v-if=\"customer.verified\"\n                     @click=\"verifyCustomer(false)\">Unverify Customer</vs-button>\n        </div>\n        </div>\n      </div>\n\n\n    </div>\n\n    <!-- Customer form -->\n    <vs-popup @close=\"closeCustomerForm()\"\n              fullscreen title=\"Customer Info\" :active.sync=\"userFormVisible\">\n      <div >\n      </div>\n    </vs-popup>\n    <!-- [end] Customer form -->\n\n  </div>\n</template>\n\n<script>\n\nimport axios from \"@/axios\";\nimport {handle} from \"@/http/handler\";\n\nexport default {\n  components: {\n  },\n  props: {\n    customerId: [String, Number]\n  },\n  data () {\n    return {\n      user_data: null,\n      user_not_found: false,\n      customer: {\n        \"id\": '',\n        \"user_id\": '',\n        \"customer_name\": '',\n        \"phone_number\": '',\n        \"email\": '',\n        \"created_at\": ''\n      },\n\n      userFormDialog: false,\n      orders: []\n    }\n  },\n  computed: {\n    userFormVisible(){\n      return this.$store.state.general.userFormVisible;\n    }\n  },\n\n  watch: {\n    userFormVisible: function (newValue) {\n      this.fetchCustomerDetails();\n    }\n  },\n  methods: {\n\n    fetchCustomerDetails() {\n      axios.get('/resources/sales/customer/details?id='+this.customerId)\n     .then((response) => {\n        this.customer = response.data.payload.customer;\n      }).catch((error) => {\n        console.log(error)\n        this.handleApiError(error)\n      })\n    },\n\n    deleteCustomer() {\n      axios.post('/config/customer/user/remove',{\n        id : this.customerId\n      }).then((response) => {\n        this.$router.go(-1);\n      }).catch((error) => {\n        console.log(error)\n        this.handleApiError(error)\n      })\n    },\n\n    verifyCustomer(value = true) {\n      axios.post('/sales/customer/verify',{\n        id : this.customerId, value:  value\n      }).then((response) => {\n        this.happilyNotify(\"Verification status updated\");\n        this.fetchCustomerDetails();\n      }).catch((error) => {\n        console.log(error)\n        this.handleApiError(error)\n      })\n    },\n\n    confirmDeleteRecord () {\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: 'Confirm Delete',\n        text: `You are about to delete \"${this.customer.customer_name}\"`,\n        accept: this.deleteCustomer,\n        acceptText: 'Delete'\n      })\n    },\n\n    showCustomerForm() {\n      this.$store.commit('general/TOGGLE_USER_FORM', true)\n    },\n    closeCustomerForm() {\n      this.$store.commit('general/TOGGLE_USER_FORM', false)\n    },\n    navigateToCustomers(){\n      this.$router.push({ name: 'sales-customers'})\n    },\n\n    /** orders **/\n    fetchCustomerOrders(){\n        axios.get('/resources/sales/customer/orders?customer_id='+this.customerId)\n          .then((response) => {\n            this.orders = response.data.payload.orders.data;\n           }).catch((error) => {\n          console.log(error)\n          this.handleApiError(error)\n        })\n    },\n\n    /** Helpers **/\n    handleApiError(error){\n      this.$vs.notify({\n        title: 'Error',\n        text: handle(error),\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: 'danger'\n      })\n    },\n\n    happilyNotify(message){\n      this.$vs.notify({ title: 'Success',  text: message, color: 'success'})\n    },\n\n    sadlyNotify(message){\n      this.$vs.notify({ title: 'Error',  text: message, color: 'danger',position:'bottom-left'})\n    }\n\n  },\n\n  created () {\n    console.log(\"CustomerDetails: CustomerID:\"+this.customerId);\n    if(this.customerId){\n      this.fetchCustomerDetails();\n      this.fetchCustomerOrders();\n    }else{\n     this.navigateToCustomers();\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n#avatar-col {\n  width: 10rem;\n}\n\n#page-user-view {\n  table {\n    td {\n      vertical-align: top;\n      min-width: 140px;\n      padding-bottom: .8rem;\n      word-break: break-all;\n    }\n\n    &:not(.permissions-table) {\n      td {\n        @media screen and (max-width:370px) {\n          display: block;\n        }\n      }\n    }\n  }\n}\n\n@media screen and (min-width:1201px) and (max-width:1211px),\nonly screen and (min-width:636px) and (max-width:991px) {\n  #account-info-col-1 {\n    width: calc(100% - 12rem) !important;\n  }\n\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerDetails.vue?vue&type=template&id=5105bd0a&\"\nimport script from \"./CustomerDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerDetails.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerDetails.vue?vue&type=style&index=0&lang=scss&\"","import router from '@/router'\n\nfunction parseError(statusCode) {\n  switch (statusCode) {\n    case 400:\n    {\n      return \"Server could not understand the request\";\n    }break;\n\n    case 401:\n    {\n      return \"You have not logged in\";\n    }break;\n\n    case 402:\n    {\n      return \"Payment required\";\n    }break;\n\n    case 403:\n    {\n      return \"Resource is forbbidden\";\n    }\n      break;\n    case 404:\n    {\n      return \"URL/Resource Not found\";\n    }\n      break;\n    case 405:\n    {\n      return \"Request method not allowed\";\n    }\n      break;\n    case 406:\n    {\n      return \"Not Acceptable\";\n    }\n      break;\n    case 407:\n    {\n      return \"Proxy authentication required\";\n    }\n      break;\n\n    case 408:\n    {\n      return \"Request timeout\";\n    }\n      break;\n    case 413:\n    {\n      return \"Payload Too Large\";\n    }\n      break;\n\n    case 415:\n    {\n      return \"Unsupported Media Type\";\n    }\n      break;\n\n    case 413:\n    {\n      return \"Payload Too Large\";\n    }break;\n    case 422:\n    {\n      return \"Could not process request\";\n    }break;\n\n    case 429:\n    {\n      return \"Too Many Requests\";\n    }\n      break;\n\n/// 5xx\n    case 500:\n    {\n      return \"Internal Server Error\";\n    }\n      break;\n\n    case 504:\n    {\n      return \"Gateway Timeout\";\n    }\n      break;\n\n    case 504:\n    {\n      return \"Network Authentication Required\";\n    }\n      break;\n\n    default:\n      return \"Error Code:\"+statusCode\n  }\n}\n\nexport function handle(error) {\n\n   if(error.response){\n     console.log(JSON.stringify(error.response.data.message));\n\n     if(error.response.status==401){\n      console.log(\"redirecting....\");\n       router.push('/login').catch(() => {})\n      return \"Not logged in\";\n    }else{\n     let message = error.response.data? error.response.data.message:   error.response.message;\n     return message+\" -\"+parseError(error.response.status ) ;\n    }\n\n   }else{\n    console.log(error);\n  }\n\n  return \"An error occurred\"\n\n}\n","module.exports = __webpack_public_path__ + \"img/user_.60c70b0f.png\";"],"sourceRoot":""}