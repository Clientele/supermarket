{"version":3,"sources":["webpack:///./src/views/config/access/Roles.vue?0e1e","webpack:///./src/views/config/access/Roles.vue?fb9e","webpack:///src/views/config/access/Roles.vue","webpack:///./src/views/config/access/Roles.vue?d279","webpack:///./src/views/config/access/Roles.vue?6f5c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_v","on","$event","showRoleNameDialog","_l","role","index","key","viewRoleDetails","slot","class","style","background","_s","name","member_count","role_permissions","length","roleNameForm","selectedRole","addNewRole","model","value","callback","$$v","$set","expression","roleDetailsDialog","closeRole","heading","values","permissionsName","permission","updateRolePermissions","confirmRoleRemoval","staticRenderFns","components","data","roles","id","permissionsDataModel","statusOptions","roleOptions","methods","console","log","JSON","stringify","Users","view","includes","create","update","delete","Vendors","Products","Inventory","Depots","Vehicles","Addresses","axios","permissions","response","error","newPermissions","push","users","filter","role_name","$vs","notify","color","title","text","dialog","type","accept","removeRole","fetchRoles","created","component"],"mappings":"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","file":"js/chunk-54630bbc.4aa2ba32.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=style&index=0&id=053c1d6c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"vx-row pb-6\"},[_c('div',{staticClass:\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 \"},[_c('h2',{staticClass:\"font-bold\",staticStyle:{\"line-height\":\"48px !important\",\"display\":\"flex\",\"vertical-align\":\"middle !important\"}},[_c('vs-icon',{staticClass:\"inline pt-2 mr-4\",attrs:{\"size\":\"32px\",\"icon\":\"verified_user\"}}),_vm._v(\"\\n        Roles & Permissions\\n      \")],1)]),_c('div',{staticClass:\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/4 xl:w-1/4\"},[_c('vs-button',{attrs:{\"color\":\"#c38e70\",\"icon\":\"add_circle\",\"type\":\"filled\"},on:{\"click\":function($event){return _vm.showRoleNameDialog()}}},[_vm._v(\"Add Role\")])],1)]),_c('div',{staticClass:\"good-outlined-card px-6 py-6\"},[_c('div',{staticClass:\"vx-row\"},_vm._l((_vm.roles),function(role,index){return _c('div',{key:index,staticClass:\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/4 xl:w-1/4 mb-6\",on:{\"click\":function($event){return _vm.viewRoleDetails(role)}}},[_c('vx-card',{staticClass:\"overflow-hidden\"},[_c('div',{attrs:{\"slot\":\"no-body\"},slot:\"no-body\"},[_c('div',{staticClass:\"p-6\",class:{\n            'flex justify-between flex-row-reverse items-center': true,\n            'text-center': false,\n            'pb-0': false\n          }},[_c('feather-icon',{staticClass:\"p-3 inline-flex rounded-full\",class:[\"text-success\", {'mb-4': false}],style:({background: \"rgba(var(--vs-success),.15)\"}),attrs:{\"icon\":\"UsersIcon\"}}),_c('div',{staticClass:\"truncate\"},[_c('h5',{staticClass:\"mb-1 \"},[_vm._v(_vm._s(role.name))]),_c('span',[_vm._v(_vm._s(role.member_count)+\" Users\")]),_c('br'),_c('span',[_vm._v(_vm._s(role.role_permissions.length)+\" Permissions\")])])],1)])])],1)}),0)]),_c('vs-prompt',{attrs:{\"title\":\"Role Name\",\"accept-text\":\"Save\",\"cancel-text\":\"Cancel\",\"color\":\"#118ab2\",\"active\":_vm.roleNameForm},on:{\"cancel\":function($event){_vm.selectedRole.name=''},\"accept\":function($event){return _vm.addNewRole()},\"update:active\":function($event){_vm.roleNameForm=$event}}},[_c('div',{staticClass:\"con-exemple-prompt\"},[_c('vs-input',{staticClass:\"mt-3 w-full\",attrs:{\"placeholder\":\"Role\",\"vs-placeholder\":\"Role\"},model:{value:(_vm.selectedRole.name),callback:function ($$v) {_vm.$set(_vm.selectedRole, \"name\", $$v)},expression:\"selectedRole.name\"}})],1)]),_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":_vm.selectedRole.name,\"active\":_vm.roleDetailsDialog},on:{\"close\":function($event){return _vm.closeRole()},\"update:active\":function($event){_vm.roleDetailsDialog=$event}}},[_c('div',[_c('vx-card',{staticClass:\"mt-base\",attrs:{\"no-shadow\":\"\",\"card-border\":\"\"}},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('div',{staticClass:\"flex items-end px-3\"},[_c('feather-icon',{staticClass:\"mr-2\",attrs:{\"svgClasses\":\"w-6 h-6\",\"icon\":\"LockIcon\"}}),_c('span',{staticClass:\"font-medium text-lg leading-none\"},[_vm._v(\"Permissions\")])],1),_c('vs-divider')],1)]),_c('div',{staticClass:\"block overflow-x-auto\"},[_c('table',{staticClass:\"w-full\"},[_c('tr',_vm._l((['Module' ]),function(heading){return _c('th',{key:heading,staticClass:\"font-semibold text-base text-left px-3 py-2\"},[_vm._v(_vm._s(heading)+\"\\n              \")])}),0),_vm._l((_vm.permissionsDataModel),function(values,permissionsName){return _c('tr',{key:permissionsName},[_c('td',{staticClass:\"px-3 py-2\"},[_vm._v(_vm._s(permissionsName))]),_vm._l((values),function(permission,name){return _c('td',{key:name+permission,staticClass:\"px-3 py-2\"},[_c('div',{staticClass:\"flex \"},[_c('vs-checkbox',{model:{value:(values[name]),callback:function ($$v) {_vm.$set(values, name, $$v)},expression:\"values[name]\"}}),_vm._v(\"    \"+_vm._s(name)+\"\\n                \")],1)])})],2)})],2)])]),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('div',{staticClass:\"mt-8 flex flex-wrap items-center  \"},[_c('div',{staticClass:\"flex-grow\"},[_c('vs-button',{staticClass:\"mr-6\",attrs:{\"type\":\"border\",\"color\":\"warning\"},on:{\"click\":function($event){_vm.roleDetailsDialog=false}}},[_vm._v(\"Cancel\")]),_c('vs-button',{staticClass:\"ml-auto mt-2\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.updateRolePermissions()}}},[_vm._v(\"Save Changes\")])],1),_c('vs-button',{attrs:{\"color\":\"danger\"},on:{\"click\":function($event){return _vm.confirmRoleRemoval()}}},[_vm._v(\"Delete Role\")])],1)])])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n<template>\n  <div>\n\n    <div class=\"vx-row pb-6\">\n\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 \">\n        <h2 class=\"font-bold\"\n            style=\"line-height: 48px !important; display:flex;  vertical-align: middle !important;   \">\n          <vs-icon class=\"inline pt-2 mr-4\" size=\"32px\" icon=\"verified_user\"></vs-icon>\n          Roles & Permissions\n        </h2>\n      </div>\n\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/4 xl:w-1/4\">\n        <vs-button @click=\"showRoleNameDialog()\" color=\"#c38e70\" icon=\"add_circle\" type=\"filled\">Add Role</vs-button>\n      </div>\n    </div>\n\n    <!-- Roles -->\n    <div class=\"good-outlined-card px-6 py-6\">\n      <div class=\"vx-row\">\n        <div @click=\"viewRoleDetails(role)\" class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/4 xl:w-1/4 mb-6\"\n             v-for=\"(role, index) in roles\" :key=\"index\">\n          <vx-card class=\"overflow-hidden\">\n            <div slot=\"no-body\">\n              <div class=\"p-6\" :class=\"{\n              'flex justify-between flex-row-reverse items-center': true,\n              'text-center': false,\n              'pb-0': false\n            }\">\n                <feather-icon :icon=\"`UsersIcon`\" class=\"p-3 inline-flex rounded-full\"\n                              :class=\"[`text-success`, {'mb-4': false}]\"\n                              :style=\"{background: `rgba(var(--vs-success),.15)`}\"></feather-icon>\n                <div class=\"truncate\">\n                  <h5 class=\"mb-1 \">{{ role.name }}</h5>\n                  <span>{{ role.member_count }} Users</span> <br/>\n                  <span>{{ role.role_permissions.length }} Permissions</span>\n                </div>\n              </div>\n\n            </div>\n          </vx-card>\n        </div>\n\n      </div>\n    </div>\n\n\n    <!-- Role Form -->\n    <vs-prompt :title=\"`Role Name`\" :accept-text=\"`Save`\" :cancel-text=\"`Cancel`\"\n               @cancel=\"selectedRole.name=''\" :color=\"`#118ab2`\"\n               @accept=\"addNewRole()\"\n               :active.sync=\"roleNameForm\">\n      <div class=\"con-exemple-prompt\">\n        <vs-input placeholder=\"Role\" vs-placeholder=\"Role\" v-model=\"selectedRole.name\" class=\"mt-3 w-full\"/>\n      </div>\n    </vs-prompt>\n    <!-- [end] Role Form -->\n\n    <!-- Role Details -->\n    <vs-popup @close=\"closeRole()\" fullscreen :title=\"selectedRole.name\" :active.sync=\"roleDetailsDialog\">\n      <div>\n\n        <!-- Permissions -->\n        <vx-card class=\"mt-base\" no-shadow card-border>\n\n          <div class=\"vx-row\">\n            <div class=\"vx-col w-full\">\n              <div class=\"flex items-end px-3\">\n                <feather-icon svgClasses=\"w-6 h-6\" icon=\"LockIcon\" class=\"mr-2\"/>\n                <span class=\"font-medium text-lg leading-none\">Permissions</span>\n              </div>\n              <vs-divider/>\n            </div>\n          </div>\n\n          <div class=\"block overflow-x-auto\">\n            <table class=\"w-full\">\n              <tr>\n                <!--\n                  You can also use `Object.keys(Object.values(data_local.permissions)[0])` this logic if you consider,\n                  our data structure. You just have to loop over above variable to get table headers.\n                  Below we made it simple. So, everyone can understand.\n                 -->\n                <th class=\"font-semibold text-base text-left px-3 py-2\"\n                    v-for=\"heading in ['Module' ]\" :key=\"heading\">{{ heading }}\n                </th>\n              </tr>\n\n              <tr v-for=\"(values, permissionsName) in permissionsDataModel\" :key=\"permissionsName\">\n                <td class=\"px-3 py-2\">{{ permissionsName }}</td>\n                <td v-for=\"(permission, name) in values\" class=\"px-3 py-2\" :key=\"name+permission\">\n                  <div class=\"flex \">\n                    <vs-checkbox v-model=\"values[name]\" />    {{  name }}\n                  </div>\n                </td>\n              </tr>\n            </table>\n          </div>\n\n        </vx-card>\n\n        <!-- Save & Reset Button -->\n        <div class=\"vx-row\">\n          <div class=\"vx-col w-full\">\n            <div class=\"mt-8 flex flex-wrap items-center  \">\n              <div class=\"flex-grow\">\n                <vs-button class=\"mr-6\" @click=\"roleDetailsDialog=false\" type=\"border\" color=\"warning\">Cancel</vs-button>\n                <vs-button color=\"success\" class=\"ml-auto mt-2\" @click=\"updateRolePermissions()\">Save Changes</vs-button>\n              </div>\n              <vs-button @click=\"confirmRoleRemoval()\"  color=\"danger\">Delete Role</vs-button>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </vs-popup>\n    <!-- [end] Role Details -->\n\n\n  </div>\n</template>\n\n<script>\nimport axios from '../../../axios';\n\nexport default {\n  components: {},\n  data() {\n    return {\n      roleNameForm: false,\n\n      roles: [],\n\n      roleDetailsDialog: false,\n      selectedRole: {\n        id: '',\n        name: '',\n        role_permissions: []\n      },\n\n      permissionsDataModel: {},\n\n\n      statusOptions: [\n        {label: 'Active', value: 'active'},\n        {label: 'Blocked', value: 'blocked'},\n        {label: 'Deactivated', value: 'deactivated'}\n      ],\n      roleOptions: [\n        {label: 'Admin', value: 'admin'},\n        {label: 'User', value: 'user'},\n        {label: 'Staff', value: 'staff'}\n      ]\n\n\n    }\n  },\n  methods: {\n    showRoleNameDialog() {\n      this.selectedRole = {};\n      this.selectedRole.role_permissions = [];\n      this.roleNameForm = true;\n    },\n\n    viewRoleDetails(role) {\n      this.selectedRole = role;\n      this.roleDetailsDialog = true;\n\n      console.log(JSON.stringify(this.selectedRole.role_permissions));\n      this.permissionsDataModel = {\n        Users: {\n          view: this.selectedRole.role_permissions.includes('View Users'),\n          create: this.selectedRole.role_permissions.includes('Create Users'),\n          update: this.selectedRole.role_permissions.includes('Update Users'),\n          delete: this.selectedRole.role_permissions.includes('Delete Users')\n        },\n        Vendors: {\n          \"View\": false,\n          \"Register\": false,\n          \"Update\": false,\n          \"Remove\": false\n        },\n        Products: {\n          \"View\": false,\n          \"Add\": false,\n          \"Update\": false,\n          \"Remove\": false\n        },\n        \"Product Categories\": {\n          \"View\": false,\n          \"Add\": false,\n          \"Update\": false,\n          \"Delete\": false\n        },\n        Inventory: { \"View Stock\": false, \"Issue stock\": false, \"Receive\" : false,  \"Remove\": false},\n        Depots: { \"View\": false, \"Add\": false, \"Update\": false,  \"Remove\": false},\n        Vehicles: { \"View\": false, \"Add\": false, \"Update\": false,  \"Remove\": false},\n        Addresses: { \"View\": false, \"Create\": false, \"Update\": false,  \"Remove\": false},\n        \"Reports module\": { \"View\": false    },\n       }\n\n    },\n\n    closeRole() {\n      this.roleDetailsDialog = false;\n    },\n\n    addNewRole() {\n      axios.post('/config/staff/role/add', {\n        name: this.selectedRole.name,\n        permissions: this.selectedRole.role_permissions\n      }).then((response) => {\n        console.log(JSON.stringify(response.data));\n        this.roles = response.data.payload.roles;\n\n        this.selectedRole.name = '';\n        this.selectedRole.role_permissions = [];\n        this.fetchRoles();\n      }).catch((error) => {\n        console.log(error)\n      })\n\n    },\n\n    updateRolePermissions() {\n      let newPermissions = [];\n      newPermissions.push(this.permissionsDataModel.users.view ? \"View Users\" : null);\n      newPermissions.push(this.permissionsDataModel.users.create ? \"Create Users\" : null);\n      newPermissions.push(this.permissionsDataModel.users.update ? \"Update Users\" : null);\n      newPermissions.push(this.permissionsDataModel.users.delete ? \"Delete Users\" : null);\n\n      //remove nullified permissions\n      newPermissions = newPermissions.filter( permission => permission != null)\n      console.log(JSON.stringify(newPermissions))\n\n      axios.post('/config/staff/role/update', {\n        role_name: this.selectedRole.name,\n        permissions: newPermissions\n      }).then((response) => {\n          this.roleDetailsDialog = false;\n          this.fetchRoles();\n       }).catch((error) => {\n        console.log(error)\n      })\n      this.$vs.notify({\n        color: 'success',\n        title: 'Success',\n        text: 'Role Updated'\n      })\n\n\n    },\n\n\n    confirmRoleRemoval() {\n      this.roleDetailsDialog = false;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to remove this role',\n        accept: this.removeRole\n      })\n    },\n\n    removeRole(){\n\n      axios.post('/config/staff/role/remove', {\n        name: this.selectedRole.name\n      }).then((response) => {\n        this.fetchRoles();\n        this.roleDetailsDialog = false;\n      }).catch((error) => {\n        console.log(error)\n      })\n      this.$vs.notify({\n        color: 'success',\n        title: 'Success',\n        text: 'Role Removed'\n      })\n    },\n\n\n    fetchRoles() {\n      axios.get('/resources/staff/roles/full')\n        .then((response) => {\n          this.roles = response.data.payload.roles;\n        }).catch((error) => {\n        console.log(error)\n      })\n    }\n\n\n  },\n  created() {\n    this.fetchRoles();\n  }\n}\n</script>\n\n<style scoped>\n.good-outlined-card {\n  border: 1px solid #e5e5e5;\n  border-radius: 8px;\n\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=053c1d6c&scoped=true&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Roles.vue?vue&type=style&index=0&id=053c1d6c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"053c1d6c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}