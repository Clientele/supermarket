{"version":3,"sources":["webpack:///./src/views/sales/orders/OrderDetails.vue?c543","webpack:///./src/views/sales/orders/OrderDetails.vue?b1f6","webpack:///src/views/sales/orders/OrderDetails.vue","webpack:///./src/views/sales/orders/OrderDetails.vue?8a0b","webpack:///./src/views/sales/orders/OrderDetails.vue?cf14"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","selectedOrder","on","$event","confirmOrderCancellation","_s","customer","customer_name","phone_number_1","phone_number_2","email","place","place_name","district","district_name","region","region_name","class","staff","staff_name","phone_number","staticStyle","directives","name","rawName","value","expression","availableStaff","setSalesPerson","model","callback","$$v","selectedStaff","errors","has","first","_l","orderProduct","index","key","slot","delivered_quantity","ordered_quantity","_e","showAvailableProductsToDeliver","product","product_name","variant","variant_name","selling_price","confirmOrderItemRejection","deliveryForm","selectedTruckedProduct","deliverProduct","quantityToDeliver","remaining_quantity","created_at","truckedProduct","availableTruckedProducts","length","staticRenderFns","props","passedOrder","components","Table","vSelect","data","orders","orderDetailsVisible","itemsPerPage","isMounted","showOrderFormSidebar","sidebarData","selectedOrderRegionId","availableRegions","cartProducts","quantity","selectedOrderProduct","selectedOrderProductVariant","products","productVariants","customerQuery","customers","selectedOrderCustomer","locationQuery","addressesRawResults","selectedOrderAddress","cancellationReason","cancellationForm","selectedOrderedProduct","watch","fetchOrders","searchLocations","searchCustomer","computed","currentPage","$refs","table","currentx","addresses","map","resultItem","type","location","location_name","searchable","place_id","id","district_id","region_id","country","country_id","methods","fetchOrderDetails","console","info","axios","log","error","orderedProduct","happilyNotify","promptCancellation","cancelletionReason","$vs","dialog","color","title","text","accept","rejectOrder","orderItem","rejectOrderItem","fetchProducts","fetchStaff","JSON","stringify","selectedDepot","fetchProductVariants","pickCustomer","removeCustomer","query","response","success","pickAddress","address","removeAddress","handleApiError","notify","iconPack","icon","sadlyNotify","created","mounted","$router","go","component"],"mappings":"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","file":"js/chunk-2fe7917a.8a937854.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetails.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list-container\",attrs:{\"id\":\"data-list-list-view\"}},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center flex-grow justify-between mb-6\"},[_c('div',{staticClass:\"flex  \"},[_c('vs-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"shopping_cart\",\"size\":\"large\",\"color\":\"primary\"}}),_c('h1',{staticClass:\"mr-6\"},[_vm._v(\"\\n        Order Details\\n      \")])],1),(!(_vm.selectedOrder.is_cancelled))?_c('vs-button',{attrs:{\"color\":\"warning\"},on:{\"click\":function($event){return _vm.confirmOrderCancellation()}}},[_vm._v(\" Cancel Order\")]):_c('vs-chip',{attrs:{\"color\":\"danger\"}},[_vm._v(\"Order Cancelled \")])],1),_c('vs-card',[_c('div',{staticClass:\"px-6 py-12\"},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/2\"},[_c('div',{staticClass:\"mb-2 \"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Customer\")])]),_c('div',[_c('table',[_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Name\")]),_c('td',[_vm._v(_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.customer_name : \"No Customer\"))])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Phone\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.phone_number_1 : \"No Phone\")+\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.phone_number_2 : \"\")+\"\\n                \")])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Email\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.email : \"Email\")+\"\\n                \")])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Address\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.place ? _vm.selectedOrder.place.place_name : \" \")+\"\\n                  \"+_vm._s(_vm.selectedOrder.district ? _vm.selectedOrder.district.district_name : \" \")+\"\\n                  \"+_vm._s(_vm.selectedOrder.region ? _vm.selectedOrder.region.region_name : \" \")+\"\\n                \")])])])]),_c('div',{staticClass:\"mb-6\"},[_c('div',{staticClass:\"mb-2 mt-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Sales Person\")])]),_c('table',[_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Name\")]),_c('td',[_c('span',{class:!(_vm.selectedOrder.staff) ? \"danger--text\":\"blue--text\"},[_vm._v(_vm._s(_vm.selectedOrder.staff ? _vm.selectedOrder.staff.staff_name : \"No sales person\"))])])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Phone\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.selectedOrder.staff ? _vm.selectedOrder.staff.phone_number : \"No Phone\"))])])]),_c('div',{staticClass:\"mt-4 mb-5 small-form\",staticStyle:{\"max-width\":\"320px\"}},[_c('h6',{staticClass:\"mb-4\"},[_vm._v(\" \"+_vm._s(_vm.selectedOrder.staff? \"Change\":\"Assign\")+\" Sales Person\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"clearable\":false,\"options\":_vm.availableStaff,\"name\":\"Staff\",\"label\":\"staff_name\",\"placeholder\":\"Select\"},on:{\"input\":function($event){return _vm.setSalesPerson()}},model:{value:(_vm.selectedStaff),callback:function ($$v) {_vm.selectedStaff=$$v},expression:\"selectedStaff\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('Staff')),expression:\"errors.has('Staff')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('Staff')))])],1)])]),(_vm.selectedOrder.order_products)?_c('div',{staticClass:\"vx-col md:w-1/2 \"},[_c('div',{staticClass:\"mb-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Ordered Products\")])]),_vm._l((_vm.selectedOrder.order_products),function(orderProduct,index){return _c('vx-card',{key:index,staticClass:\"overflow-hidden mb-6\"},[_c('div',{attrs:{\"slot\":\"no-body\"},slot:\"no-body\"},[_c('div',{staticClass:\"p-6 flex justify-between flex-row-reverse items-center\"},[(!(_vm.selectedOrder.is_cancelled) && !(orderProduct.is_rejected) && !(orderProduct.delivered_quantity >= orderProduct.ordered_quantity))?_c('vs-button',{staticClass:\"p-3 inline-flex\",attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.showAvailableProductsToDeliver(orderProduct)}}},[_vm._v(\"Deliver Products\")]):(_vm.selectedOrder.is_cancelled)?_c('vs-chip',{staticClass:\" inline-flex\",attrs:{\"color\":\"black\"}},[_vm._v(\"Order Cancelled \")]):(orderProduct.is_rejected)?_c('vs-chip',{staticClass:\" inline-flex\",attrs:{\"color\":\"grey\"}},[_vm._v(\"Product Rejected \")]):_vm._e(),((orderProduct.delivered_quantity >= orderProduct.ordered_quantity))?_c('vs-chip',{staticClass:\" inline-flex\",attrs:{\"color\":\"success\"}},[_vm._v(\"Fulfiled \")]):_vm._e(),_c('div',{staticClass:\"truncate\"},[_c('h3',{staticClass:\"mb-1 font-bold\"},[_vm._v(\"\\n                    \"+_vm._s(orderProduct.product ? orderProduct.product.product_name : \"\")+\"\\n                    \"+_vm._s(orderProduct.variant ? orderProduct.variant.variant_name : \" \")+\"\\n                  \")]),_c('ul',[_c('li',[_vm._v(\"Quantity \"+_vm._s(orderProduct.ordered_quantity))]),_c('li',[_vm._v(\"Delivered: \"+_vm._s(orderProduct.delivered_quantity))]),_c('li',[_vm._v(\"@TSH\"+_vm._s(orderProduct.selling_price))]),(!(_vm.selectedOrder.is_cancelled) && !(orderProduct.is_rejected) && !(orderProduct.delivered_quantity >= orderProduct.ordered_quantity))?_c('li',[_c('vs-button',{staticClass:\"mt-4 py-1 px-2\",attrs:{\"type\":\"border\"},on:{\"click\":function($event){return _vm.confirmOrderItemRejection(orderProduct)}}},[_vm._v(\"Reject Item\")])],1):_vm._e()])])],1)])])})],2):_vm._e()])])]),_c('vs-prompt',{attrs:{\"title\":\"Delivery\",\"accept-text\":\"Delivery\",\"cancel-text\":\"Cancel\",\"color\":\"#118ab2\",\"active\":_vm.deliveryForm},on:{\"cancel\":function($event){_vm.selectedTruckedProduct= null},\"accept\":function($event){return _vm.deliverProduct()},\"update:active\":function($event){_vm.deliveryForm=$event}}},[(_vm.selectedTruckedProduct)?_c('h4',{staticClass:\"my-6\"},[_vm._v(\"Quantity to deliver\")]):_c('h4',{staticClass:\"my-6\"},[_vm._v(\"Select stock\")]),(_vm.selectedTruckedProduct)?_c('div',{staticClass:\"mb-6\"},[_c('vs-input',{staticClass:\"mt-3 w-full\",attrs:{\"placeholder\":\"Quantity\",\"vs-placeholder\":\"Quantity\"},model:{value:(_vm.quantityToDeliver),callback:function ($$v) {_vm.quantityToDeliver=$$v},expression:\"quantityToDeliver\"}})],1):_vm._e(),(_vm.selectedTruckedProduct)?_c('div',{staticClass:\"product-item-active\"},[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.selectedTruckedProduct.product? _vm.selectedTruckedProduct.product.product_name : \"\")+\"\\n        \"+_vm._s(_vm.selectedTruckedProduct.variant? _vm.selectedTruckedProduct.variant.variant_name : \"\")+\"\\n      \")]),_c('p',[_vm._v(\"Remaining: \"+_vm._s(_vm.selectedTruckedProduct.remaining_quantity)+\" \")]),_c('p',[_vm._v(\"Created at: \"+_vm._s(_vm.selectedTruckedProduct.created_at)+\" \")])]):_c('div',_vm._l((_vm.availableTruckedProducts),function(truckedProduct,index){return _c('div',{key:index,staticClass:\"product-item\",on:{\"click\":function($event){_vm.selectedTruckedProduct=truckedProduct}}},[_c('div',[_c('p',[_vm._v(\"\\n           \"+_vm._s(truckedProduct.product? truckedProduct.product.product_name : \"\")+\"\\n           \"+_vm._s(truckedProduct.variant? truckedProduct.variant.variant_name : \"\")+\"\\n         \")]),_c('p',[_vm._v(\"Remaining: \"+_vm._s(truckedProduct.remaining_quantity)+\" \")])])])}),0),(_vm.availableTruckedProducts.length===0)?_c('div',{staticClass:\"my-6\"},[_c('span',{staticStyle:{\"color\":\"#e60000\"}},[_vm._v(\"No stock available in requested depot \")])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"data-list-list-view\" class=\"data-list-container\">\n\n    <div class=\"flex flex-wrap-reverse items-center flex-grow justify-between mb-6\">\n\n      <div class=\"flex  \">\n        <vs-icon class=\"mr-2\" icon=\"shopping_cart\" size=\"large\" color=\"primary\"></vs-icon>\n        <h1 class=\"mr-6\">\n          Order Details\n        </h1>\n      </div>\n\n      <vs-button v-if=\"!(selectedOrder.is_cancelled)\"   @click=\"confirmOrderCancellation()\" color=\"warning\"> Cancel Order</vs-button>\n      <vs-chip v-else color=\"danger\" >Order Cancelled </vs-chip>\n    </div>\n\n    <vs-card >\n      <div   class=\"px-6 py-12\">\n        <div class=\"vx-row\">\n\n          <!-- Customer info -->\n          <div class=\"vx-col md:w-1/2\">\n\n            <!-- Customer info -->\n            <div class=\"mb-2 \">\n              <span class=\"font-bold\">Customer</span>\n            </div>\n            <div>\n              <table>\n                <tr>\n                  <td class=\"pr-6\">Name</td>\n                  <td>{{ selectedOrder.customer ? selectedOrder.customer.customer_name : \"No Customer\" }}</td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Phone</td>\n                  <td>\n                    {{ selectedOrder.customer ? selectedOrder.customer.phone_number_1 : \"No Phone\" }}\n                    {{ selectedOrder.customer ? selectedOrder.customer.phone_number_2 : \"\" }}\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Email</td>\n                  <td>\n                    {{ selectedOrder.customer ? selectedOrder.customer.email : \"Email\" }}\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Address</td>\n                  <td>\n                    {{ selectedOrder.place ? selectedOrder.place.place_name : \" \" }}\n                    {{ selectedOrder.district ? selectedOrder.district.district_name : \" \" }}\n                    {{ selectedOrder.region ? selectedOrder.region.region_name : \" \" }}\n                  </td>\n                </tr>\n              </table>\n            </div>\n\n            <!-- Sales person -->\n            <div class=\"mb-6\">\n              <div class=\"mb-2 mt-6\">\n                <span class=\"font-bold\">Sales Person</span>\n              </div>\n              <table>\n                <tr>\n                  <td class=\"pr-6\">Name</td>\n                  <td>\n                    <span v-bind:class=\"!(selectedOrder.staff) ? `danger--text`:`blue--text`\" >{{ selectedOrder.staff ? selectedOrder.staff.staff_name : \"No sales person\" }}</span>\n                  </td>\n                </tr>\n\n                <tr>\n                  <td class=\"pr-6\">Phone</td>\n                  <td> {{ selectedOrder.staff ? selectedOrder.staff.phone_number : \"No Phone\" }}</td>\n                </tr>\n              </table>\n\n              <div style=\"max-width: 320px\" class=\"mt-4 mb-5 small-form\">\n                <h6 class=\"mb-4\"> {{selectedOrder.staff? \"Change\":\"Assign\" }} Sales Person</h6>\n                <v-select @input=\"setSalesPerson()\" v-model=\"selectedStaff\" :clearable=\"false\"\n                          :options=\"availableStaff\" v-validate=\"'required'\" name=\"Staff\" label=\"staff_name\"\n                          placeholder=\"Select\">\n                </v-select>\n                <span class=\"text-danger text-sm\" v-show=\"errors.has('Staff')\">{{ errors.first('Staff') }}</span>\n              </div>\n            </div>\n\n          </div>\n\n\n          <!-- Ordered product -->\n          <div class=\"vx-col md:w-1/2 \" v-if=\"selectedOrder.order_products\">\n            <div class=\"mb-6\">\n              <span class=\"font-bold\">Ordered Products</span>\n            </div>\n\n            <vx-card class=\"overflow-hidden mb-6\" v-for=\"(orderProduct,index) in selectedOrder.order_products\"\n                     :key=\"index\">\n              <div slot=\"no-body\">\n                <div class=\"p-6 flex justify-between flex-row-reverse items-center\">\n                  <vs-button v-if=\"!(selectedOrder.is_cancelled) && !(orderProduct.is_rejected) && !(orderProduct.delivered_quantity >= orderProduct.ordered_quantity)\"\n                             color=\"secondary\"\n                             @click=\"showAvailableProductsToDeliver(orderProduct)\" class=\"p-3 inline-flex\" >Deliver Products</vs-button>\n                  <vs-chip v-else-if=\"selectedOrder.is_cancelled\" color=\"black\" class=\" inline-flex\" >Order Cancelled </vs-chip>\n                  <vs-chip v-else-if=\"orderProduct.is_rejected\" color=\"grey\" class=\" inline-flex\" >Product Rejected </vs-chip>\n                  <vs-chip v-if=\"(orderProduct.delivered_quantity >= orderProduct.ordered_quantity)\"\n                           color=\"success\" class=\" inline-flex\" >Fulfiled </vs-chip>\n\n                  <div class=\"truncate\">\n                    <h3 class=\"mb-1 font-bold\">\n                      {{ orderProduct.product ? orderProduct.product.product_name : \"\" }}\n                      {{ orderProduct.variant ? orderProduct.variant.variant_name : \" \" }}\n                    </h3>\n                    <ul>\n                      <li>Quantity {{ orderProduct.ordered_quantity }}</li>\n                      <li>Delivered: {{ orderProduct.delivered_quantity }}</li>\n                      <li>@TSH{{ orderProduct.selling_price }}</li>\n                      <li v-if=\"!(selectedOrder.is_cancelled) && !(orderProduct.is_rejected) && !(orderProduct.delivered_quantity >= orderProduct.ordered_quantity)\">\n                        <vs-button @click=\"confirmOrderItemRejection(orderProduct)\" class=\"mt-4 py-1 px-2\" type=\"border\">Reject Item</vs-button>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n\n              </div>\n            </vx-card>\n          </div>\n\n        </div>\n      </div>\n    </vs-card>\n\n    <!-- Delivery Form -->\n\n    <!-- Dispatch Form -->\n    <vs-prompt :title=\"`Delivery`\" :accept-text=\"`Delivery`\" :cancel-text=\"`Cancel`\"\n               :color=\"`#118ab2`\"\n               @cancel=\"selectedTruckedProduct= null\"\n               @accept=\"deliverProduct()\"\n               :active.sync=\"deliveryForm\">\n\n      <!-- headings -->\n      <h4 class=\"my-6\" v-if=\"selectedTruckedProduct\">Quantity to deliver</h4>\n      <h4 class=\"my-6\" v-else >Select stock</h4>\n\n\n      <!-- input -->\n      <div class=\"mb-6\" v-if=\"selectedTruckedProduct\">\n        <vs-input placeholder=\"Quantity\" vs-placeholder=\"Quantity\" v-model=\"quantityToDeliver\" class=\"mt-3 w-full\"/>\n      </div>\n\n      <!-- stocks -->\n      <div v-if=\"selectedTruckedProduct\"  class=\"product-item-active\">\n        <p>\n          {{ selectedTruckedProduct.product? selectedTruckedProduct.product.product_name : \"\" }}\n          {{ selectedTruckedProduct.variant? selectedTruckedProduct.variant.variant_name : \"\" }}\n        </p>\n        <p>Remaining: {{ selectedTruckedProduct.remaining_quantity}} </p>\n        <p>Created at: {{ selectedTruckedProduct.created_at }} </p>\n      </div>\n\n      <div v-else>\n       <div @click=\"selectedTruckedProduct=truckedProduct\"\n            class=\"product-item\"\n            v-for=\"(truckedProduct, index) in availableTruckedProducts\" :key=\"index\">\n\n         <div>\n           <p>\n             {{ truckedProduct.product? truckedProduct.product.product_name : \"\" }}\n             {{ truckedProduct.variant? truckedProduct.variant.variant_name : \"\" }}\n           </p>\n           <p>Remaining: {{ truckedProduct.remaining_quantity}} </p>\n         </div>\n       </div>\n     </div>\n\n\n      <div class=\"my-6\" v-if=\"availableTruckedProducts.length===0\">\n        <span style=\"color: #e60000\">No stock available in requested depot </span>\n      </div>\n\n\n    </vs-prompt>\n    <!-- [end] Dispatch Form -->\n\n    <!-- [end] Cancel Form -->\n\n  </div>\n</template>\n\n<script>\nimport axios from \"@/axios\";\nimport vSelect from 'vue-select'\nimport {handle} from \"@/http/handler\";\nimport Table from \"@/views/ui-elements/table/Table\";\n\nexport default {\n  props: {\n    passedOrder : Object\n  },\n  components: {\n    Table,\n    vSelect\n  },\n\n  data() {\n    return {\n      selectedOrder: {},\n      orders: [],\n      orderDetailsVisible: false,\n\n      itemsPerPage: 4,\n      isMounted: false,\n\n      // Data Sidebar\n      showOrderFormSidebar: false,\n      sidebarData: {},\n\n      selectedOrderRegionId: {\"id\": null, \"region_name\": \"All Regions\"},\n      availableRegions: [],\n\n      deliveryForm: false,\n      cartProducts: [],\n      quantity: 1,\n      selectedOrderProduct: null,\n      selectedOrderProductVariant: null,\n\n      products: [],\n      productVariants: [],\n\n      customerQuery: '',\n      customers: [],\n      selectedOrderCustomer: null,\n\n      locationQuery: '',\n      addressesRawResults: [],\n      selectedOrderAddress: null,\n\n      availableStaff: [],\n      selectedStaff: {},\n\n      cancellationReason: '',\n      cancellationForm: false,\n\n      /**Order delivery **/\n      selectedOrderedProduct: null,\n      selectedTruckedProduct: null,\n      availableTruckedProducts: [],\n      quantityToDeliver: null\n\n    }\n  },\n\n  watch: {\n    selectedOrderRegionId: function (val) {\n      this.fetchOrders();\n    },\n    locationQuery(query) {\n      this.searchLocations();\n    },\n    customerQuery(query) {\n      this.searchCustomer();\n    }\n  },\n\n  computed: {\n    currentPage() {\n      if (this.isMounted) {\n        return this.$refs.table.currentx\n      }\n      return 0\n    },\n\n    addresses() {\n      return this.addressesRawResults.map(function (resultItem) {\n\n        let location = {};\n\n\n        if (resultItem.type === \"places\") {\n          location.location_name = resultItem.searchable.place_name\n          location.place_id = resultItem.searchable.id\n        }\n        if (resultItem.type === \"districts\") {\n          location.location_name = resultItem.searchable.district_name\n          location.district_id = resultItem.searchable.id\n        }\n        if (resultItem.type === \"regions\") {\n          location.location_name = resultItem.searchable.region_name\n          location.region_id = resultItem.searchable.id\n        }\n\n\n        if (resultItem.searchable.place) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.district.district_name;\n          location.place_id = resultItem.searchable.id;\n        }\n\n        if (resultItem.searchable.district) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.district.district_name;\n          location.district_id = resultItem.searchable.district.id;\n        }\n\n        if (resultItem.searchable.region) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.region.region_name;\n          location.region_id = resultItem.searchable.region.id;\n        }\n\n        if (resultItem.searchable.country) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.region.region_name;\n          location.country_id = resultItem.searchable.country.id;\n        }\n\n        return location;\n\n      })\n    }\n\n  },\n\n  methods: {\n\n    fetchOrderDetails() {\n      console.info(\"fetching details..\");\n      axios.get('/resources/sales/order?id=' + this.passedOrder.id)\n        .then((response) => {\n          this.selectedOrder = response.data.payload.order;\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    showAvailableProductsToDeliver(orderedProduct = {}) {\n      this.selectedOrderedProduct = orderedProduct;\n\n      if(this.selectedOrderedProduct.delivered_quantity  >= this.selectedOrderedProduct.ordered_quantity ){\n        this.happilyNotify(\"Order Already fulfilled\");\n        return ;\n      }\n\n      this.deliveryForm = true;\n      axios.post('/sales/order/delivery/available',\n        {order_product_id: this.selectedOrderedProduct.id })\n        .then((response) => {\n             this.availableTruckedProducts = response.data.payload;\n           }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    deliverProduct(){\n      axios.post('/sales/order/delivery/deliver',\n        {\n          order_product_id: this.selectedOrderedProduct.id,\n          trucked_product_id: this.selectedTruckedProduct.id,\n          quantity: this.quantityToDeliver,\n        })\n        .then((response) => {\n          this.selectedTruckedProduct = null;\n          this.selectedOrderedProduct = null;\n          this.quantity = null;\n          this.happilyNotify(\"Product delivered\");\n          this.fetchOrderDetails();\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    /**Sales person **/\n    setSalesPerson() {\n      axios.post('/sales/order/staff', {id: this.selectedOrder.id, staff_id: this.selectedStaff.id})\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n            this.happilyNotify(\"Updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    /*** Cancellation **/\n    promptCancellation(){\n      this.cancelletionReason = \"\"\n      this.cancellationForm = true;\n    },\n\n    confirmOrderCancellation() {\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to cancel this order',\n        accept: this.rejectOrder\n      })\n    },\n\n    rejectOrder() {\n      axios.post('/sales/order/cancel', {\n        id: this.selectedOrder.id,\n        cancellationReason: this.cancellationReason,\n      })\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n            this.happilyNotify(\"Updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    confirmOrderItemRejection(orderItem) {\n      this.selectedOrderProduct = orderItem;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to reject this item',\n        accept: this.rejectOrderItem\n      })\n    },\n\n\n    rejectOrderItem() {\n      axios.post('/sales/order/item/reject', {\n        id: this.selectedOrderProduct.id\n      })\n        .then((response) => {\n          if (response.data.success) {\n            this.happilyNotify(\"Order updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n\n    /*** Resources **/\n    fetchProducts() {\n      axios.get('/resources/products/products?category_id=')\n        .then((response) => {\n          this.products = response.data.payload.products.data;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    fetchStaff() {\n      console.info(\"fetching staff..\");\n      console.info(JSON.stringify(this.selectedDepot));\n      axios.post('/resources/staff/get')\n        .then((response) => {\n          this.availableStaff = response.data.payload.staff;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    fetchProductVariants() {\n      this.productVariants = [];\n      this.selectedOrderProductVariant = null;\n      axios.get('/resources/product/variants?product_id=' + this.selectedOrderProduct.id)\n        .then((response) => {\n          this.productVariants = response.data.payload.product_variants;\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n\n    /*** Customers **/\n    searchCustomer() {\n      console.log(\"Finding customer...\");\n      this.customers = [];\n      if (!(this.customerQuery)) {\n        return;\n      }\n      axios.get('/resources/sales/customer/find?query=' + this.customerQuery)\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n\n    },\n\n    pickCustomer(customer) {\n      this.customers = [];\n      this.selectedOrderCustomer = customer;\n    },\n\n    removeCustomer() {\n      this.selectedOrderCustomer = null;\n    },\n\n    /*** Location **/\n    searchLocations() {\n      this.addressesRawResults = [];\n\n      if (!(this.locationQuery)) {\n        return;\n      }\n      axios.post('/resources/addresses/find', {\n        query: this.locationQuery\n      }).then((response) => {\n        if (response.data.success) {\n          this.addressesRawResults = response.data.payload.addresses;\n        }\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    pickAddress(address) {\n      this.addressesRawResults = [];\n      this.selectedOrderAddress = address;\n    },\n\n    removeAddress() {\n      this.selectedOrderAddress = null;\n    },\n\n\n    /** Helpers **/\n    handleApiError(error) {\n      this.$vs.notify({\n        title: 'Error',\n        text: handle(error),\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: 'danger'\n      })\n    },\n\n    happilyNotify(message) {\n      this.$vs.notify({title: 'Success', text: message, color: 'success'})\n    },\n\n    sadlyNotify(message) {\n      this.$vs.notify({title: 'Error', text: message, color: 'danger', position: 'bottom-left'})\n    },\n\n\n  },\n\n  created() {\n    this.fetchStaff();\n  },\n  mounted() {\n    this.isMounted = true\n\n    if(this.passedOrder!=null){\n      console.log(\"orderId:\"+this.passedOrder.id);\n      this.fetchOrderDetails();\n    }else{\n      console.info(\"Order id not found, going back\")\n      this.$router.go(-1);\n    }\n  }\n}\n</script>\n\n\n<style lang=\"scss\">\n.small-form{\n  padding: 16px;\n  background-color: #edfafe;\n  border: 1px solid #b7e9f9;\n  border-radius: 6px;\n}\n.danger--text{\n  color: #e60000;\n}\n\n.blue--text{\n  color: #00aaff;\n}\n.product-item{\n  background-color: #f8fcff;\n  padding: 12px;\n  border: 1px solid #bde0fe;\n  margin-bottom: 32px;\n}\n\n.product-item-active{\n  background-color: #eaf7f0;\n  padding: 12px;\n  border: 1px solid #95d5b2;\n  margin-bottom: 32px;\n}\n\ndiv.product-item-active:hover, div.product-item:hover {\n  cursor: pointer;\n}\n\n.vs-card--content {\n  font-size: 1em !important;\n}\n\n.location-item {\n  border: 1px solid #e5e5e5;\n  background-color: #dbf4fc;\n}\n\n.selectedOrder-address {\n  border: 1px solid #2a9d8f;\n  background-color: #eaf5f4;\n  color: #2a9d8f;\n}\n\ndiv.location-item:hover {\n  background-color: #b7e9f9;\n  cursor: pointer;\n}\n\n#data-list-list-view {\n  .vs-con-table {\n\n    /*\n      Below media-queries is fix for responsiveness of action buttons\n      Note: If you change action buttons or layout of this page, Please remove below style\n    */\n    @media (max-width: 689px) {\n      .vs-table--search {\n        margin-left: 0;\n        max-width: unset;\n        width: 100%;\n\n        .vs-table--search-input {\n          width: 100%;\n        }\n      }\n    }\n\n    @media (max-width: 461px) {\n      .items-per-page-handler {\n        display: none;\n      }\n    }\n\n    @media (max-width: 341px) {\n      .data-list-btn-container {\n        width: 100%;\n\n        .dd-actions,\n        .btn-add-new {\n          width: 100%;\n          margin-right: 0 !important;\n        }\n      }\n    }\n\n    .product-name {\n      max-width: 23rem;\n    }\n\n    .vs-table--header {\n      display: flex;\n      flex-wrap: wrap;\n      margin-left: 1.5rem;\n      margin-right: 1.5rem;\n\n      > span {\n        display: flex;\n        flex-grow: 1;\n      }\n\n      .vs-table--search {\n        padding-top: 0;\n\n        .vs-table--search-input {\n          padding: 0.9rem 2.5rem;\n          font-size: 1rem;\n\n          & + i {\n            left: 1rem;\n          }\n\n          &:focus + i {\n            left: 1rem;\n          }\n        }\n      }\n    }\n\n    .vs-table {\n      border-collapse: separate;\n      border-spacing: 0 1.3rem;\n      padding: 0 1rem;\n\n      tr {\n        box-shadow: 0 4px 20px 0 rgba(0, 0, 0, .05);\n\n        td {\n          padding: 20px;\n\n          &:first-child {\n            border-top-left-radius: .5rem;\n            border-bottom-left-radius: .5rem;\n          }\n\n          &:last-child {\n            border-top-right-radius: .5rem;\n            border-bottom-right-radius: .5rem;\n          }\n        }\n\n        td.td-check {\n          padding: 20px !important;\n        }\n      }\n    }\n\n    .vs-table--thead {\n      th {\n        padding-top: 0;\n        padding-bottom: 0;\n\n        .vs-table-text {\n          text-transform: uppercase;\n          font-weight: 600;\n        }\n      }\n\n      th.td-check {\n        padding: 0 15px !important;\n      }\n\n      tr {\n        background: none;\n        box-shadow: none;\n      }\n    }\n\n    .vs-table--pagination {\n      justify-content: center;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderDetails.vue?vue&type=template&id=4fe7dfd2&\"\nimport script from \"./OrderDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderDetails.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}