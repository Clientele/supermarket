{"version":3,"sources":["webpack:///./src/views/sales/customers/Customers.vue?8ce5","webpack:///./src/views/sales/customers/CustomersSideForm.vue?00f5","webpack:///src/views/sales/customers/CustomersSideForm.vue","webpack:///./src/views/sales/customers/CustomersSideForm.vue?6bbe","webpack:///./src/views/sales/customers/CustomersSideForm.vue","webpack:///src/views/sales/customers/Customers.vue","webpack:///./src/views/sales/customers/Customers.vue?2871","webpack:///./src/views/sales/customers/Customers.vue?da49","webpack:///./src/views/sales/customers/Customers.vue?7a76","webpack:///./src/http/handler.js","webpack:///./src/views/sales/customers/CustomersSideForm.vue?9768"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","showCustomerFormSidebar","sidebarData","on","toggleDataSidebar","ref","itemsPerPage","refinedCustomers","$event","showCustomerDetails","scopedSlots","_u","key","fn","data","_l","item","rowIndex","_v","_s","customer_name","_f","location_name","editData","confirmCustomerDeletion","model","value","callback","$$v","selectedCustomer","expression","slot","id","availableRegions","selectedRegionId","showCustomerForm","staticRenderFns","isSidebarActiveLocal","stopPropagation","scrollbarTag","$vs","rtl","tag","settings","directives","name","rawName","customerInstance","$set","errors","has","first","selectedAddress","_e","locationQuery","address","index","pickAddress","removeAddress","isFormValid","saveCustomer","props","isSidebarActive","type","Boolean","required","Object","default","components","VuePerfectScrollbar","locationSearchDialog","searchTerm","addressesRawResults","email","phone_number_1","phone_number_2","country_id","zone_id","region_id","district_id","place_id","maxScrollbarLength","wheelSpeed","watch","val","entries","length","$validator","reset","searchLocations","computed","get","set","$emit","any","addresses","methods","console","log","JSON","stringify","axios","error","notify","query","handleApiError","title","text","iconPack","icon","color","happilyNotify","component","CustomerForm","vSelect","selected","rawCustomers","isMounted","currentPage","$refs","table","currentx","map","customer","place","place_name","district","region","fetchCustomers","loading","info","dialog","accept","removeCustomer","customerItem","$router","push","fetchRegions","created","mounted","parseError","statusCode","handle","response","message","status","router","catch"],"mappings":"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","file":"js/chunk-19012ad8.3a5ae8a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list-container\",attrs:{\"id\":\"data-list-list-view\"}},[_c('customer-form',{attrs:{\"isSidebarActive\":_vm.showCustomerFormSidebar,\"data\":_vm.sidebarData},on:{\"closeSidebar\":_vm.toggleDataSidebar}}),_c('vs-table',{ref:\"table\",attrs:{\"pagination\":\"\",\"max-items\":_vm.itemsPerPage,\"search\":\"\",\"data\":_vm.refinedCustomers},on:{\"selected\":function($event){return _vm.showCustomerDetails()}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('tbody',_vm._l((data),function(item,rowIndex){return _c('vs-tr',{key:rowIndex,attrs:{\"data\":item}},[_c('vs-td',[_c('p',{staticClass:\"product-name font-medium truncate\"},[_vm._v(_vm._s(item.customer_name))])]),_c('vs-td',[_c('p',{staticClass:\"product-category\"},[_vm._v(_vm._s(_vm._f(\"title\")(item.location_name))+\" \")])]),_c('vs-td',{staticClass:\"whitespace-no-wrap\"},[_c('vs-button',{staticClass:\"mr-2\",attrs:{\"color\":\"secondary\",\"size\":\"small\",\"type\":\"border\"},on:{\"click\":function($event){return _vm.editData(item)}}},[_vm._v(\"Edit\")])],1),_c('vs-td',{staticClass:\"whitespace-no-wrap\"},[_c('vs-button',{attrs:{\"color\":\"danger\",\"size\":\"small\",\"type\":\"border\"},on:{\"click\":function($event){return _vm.confirmCustomerDeletion(item)}}},[_vm._v(\"Delete\")])],1)],1)}),1)]}}]),model:{value:(_vm.selectedCustomer),callback:function ($$v) {_vm.selectedCustomer=$$v},expression:\"selectedCustomer\"}},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center flex-grow justify-between\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center data-list-btn-container\"},[_c('vs-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"groups\",\"size\":\"large\",\"color\":\"primary\"}}),_c('h1',{staticClass:\"mr-6\"},[_vm._v(\"\\n          Customers\\n        \")]),_c('v-select',{staticClass:\"mr-6\",attrs:{\"clearable\":false,\"reduce\":function (item) { return item.id; },\"options\":_vm.availableRegions,\"label\":\"region_name\"},model:{value:(_vm.selectedRegionId),callback:function ($$v) {_vm.selectedRegionId=$$v},expression:\"selectedRegionId\"}}),_c('vs-button',{staticClass:\"mr-4 vs-con-loading__container\",attrs:{\"icon\":\"add\",\"id\":\"customerLoading\"},on:{\"click\":_vm.showCustomerForm}},[_vm._v(\"Add Customer\")])],1)]),_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"name\"}},[_vm._v(\"Name\")]),_c('vs-th',{attrs:{\"sort-key\":\"category\"}},[_vm._v(\"Location\")]),_c('vs-th',[_vm._v(\"Action\")]),_c('vs-th',[_vm._v(\"Action \")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-sidebar',{staticClass:\"add-new-data-sidebar items-no-padding\",attrs:{\"click-not-close\":\"\",\"position-right\":\"\",\"parent\":\"body\",\"default-index\":\"1\",\"color\":\"primary\",\"spacer\":\"\"},model:{value:(_vm.isSidebarActiveLocal),callback:function ($$v) {_vm.isSidebarActiveLocal=$$v},expression:\"isSidebarActiveLocal\"}},[_c('div',{staticClass:\"mt-6 flex items-center justify-between px-6\"},[_c('h4',[_vm._v(\"Customer Information\")]),_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"icon\":\"XIcon\"},on:{\"click\":function($event){$event.stopPropagation();_vm.isSidebarActiveLocal = false}}})],1),_c('vs-divider',{staticClass:\"mb-0\"}),_c(_vm.scrollbarTag,{key:_vm.$vs.rtl,tag:\"component\",staticClass:\"scroll-area--data-list-add-new\",attrs:{\"settings\":_vm.settings}},[_c('div',{staticClass:\"p-6\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mt-5 w-full\",attrs:{\"label\":\"Customer Name\",\"name\":\"name\"},model:{value:(_vm.customerInstance.customer_name),callback:function ($$v) {_vm.$set(_vm.customerInstance, \"customer_name\", $$v)},expression:\"customerInstance.customer_name\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('item-name')),expression:\"errors.has('item-name')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('name')))]),_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mt-5 w-full\",attrs:{\"label\":\"Email Address\",\"name\":\"email\"},model:{value:(_vm.customerInstance.email),callback:function ($$v) {_vm.$set(_vm.customerInstance, \"email\", $$v)},expression:\"customerInstance.email\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('email')),expression:\"errors.has('email')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('email')))]),_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mt-5 w-full\",attrs:{\"label\":\"Phone 1\",\"name\":\"phone_number_1\"},model:{value:(_vm.customerInstance.phone_number_1),callback:function ($$v) {_vm.$set(_vm.customerInstance, \"phone_number_1\", $$v)},expression:\"customerInstance.phone_number_1\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('phone_number_1')),expression:\"errors.has('phone_number_1')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('phone_number_1')))]),_c('vs-input',{staticClass:\"mt-5 w-full\",attrs:{\"label\":\"Phone 2\",\"name\":\"phone_number_1\"},model:{value:(_vm.customerInstance.phone_number_2),callback:function ($$v) {_vm.$set(_vm.customerInstance, \"phone_number_2\", $$v)},expression:\"customerInstance.phone_number_2\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('phone_number_2')),expression:\"errors.has('phone_number_2')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('phone_number_2')))]),(!_vm.selectedAddress)?_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mt-5 w-full\",attrs:{\"label\":\"Location\",\"name\":\"location\"},model:{value:(_vm.locationQuery),callback:function ($$v) {_vm.locationQuery=$$v},expression:\"locationQuery\"}}):_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('location')),expression:\"errors.has('location')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('item-name')))]),_vm._l((_vm.addresses),function(address,index){return _c('div',{key:index,staticClass:\"location-item px-2 py-2 rounded mt-4\",on:{\"click\":function($event){return _vm.pickAddress(address)}}},[_c('ul',[_c('li',[_vm._v(_vm._s(address.location_name)+\" \")])])])}),(_vm.selectedAddress)?_c('div',{staticClass:\"mt-4\"},[_c('span',{staticClass:\" text-sm\"},[_vm._v(\"Depot Location\")])]):_vm._e(),(_vm.selectedAddress)?_c('div',{staticClass:\"selected-address px-2 py-2 rounded mt-4\"},[_c('div',{staticClass:\"flex flex-wrap items-center\"},[_c('div',{staticClass:\"flex-grow\"},[_vm._v(\"\\n            \"+_vm._s(_vm.selectedAddress.location_name)+\"\\n          \")]),_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-x\"},on:{\"click\":function($event){return _vm.removeAddress()}}})],1)]):_vm._e()],2)]),_c('div',{staticClass:\"flex flex-wrap items-center p-6\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('vs-button',{staticClass:\"mr-6\",attrs:{\"disabled\":!_vm.isFormValid},on:{\"click\":function($event){return _vm.saveCustomer()}}},[_vm._v(\"Submit\")]),_c('vs-button',{attrs:{\"type\":\"border\",\"color\":\"danger\"},on:{\"click\":function($event){_vm.isSidebarActiveLocal = false}}},[_vm._v(\"Cancel\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n  <vs-sidebar click-not-close position-right parent=\"body\" default-index=\"1\" color=\"primary\" class=\"add-new-data-sidebar items-no-padding\" spacer v-model=\"isSidebarActiveLocal\">\n    <div class=\"mt-6 flex items-center justify-between px-6\">\n        <h4>Customer Information</h4>\n        <feather-icon icon=\"XIcon\" @click.stop=\"isSidebarActiveLocal = false\" class=\"cursor-pointer\"></feather-icon>\n    </div>\n    <vs-divider class=\"mb-0\"></vs-divider>\n\n    <component :is=\"scrollbarTag\" class=\"scroll-area--data-list-add-new\" :settings=\"settings\" :key=\"$vs.rtl\">\n\n      <div class=\"p-6\">\n\n        <!-- DEPOT NAME -->\n        <vs-input label=\"Customer Name\" v-model=\"customerInstance.customer_name\" class=\"mt-5 w-full\" name=\"name\" v-validate=\"'required'\" />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('item-name')\">{{ errors.first('name') }}</span>\n\n        <vs-input label=\"Email Address\" v-model=\"customerInstance.email\" class=\"mt-5 w-full\" name=\"email\" v-validate=\"'required'\" />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('email')\">{{ errors.first('email') }}</span>\n\n        <vs-input label=\"Phone 1\" v-model=\"customerInstance.phone_number_1\" class=\"mt-5 w-full\" name=\"phone_number_1\" v-validate=\"'required'\" />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('phone_number_1')\">{{ errors.first('phone_number_1') }}</span>\n\n        <vs-input label=\"Phone 2\" v-model=\"customerInstance.phone_number_2\" class=\"mt-5 w-full\" name=\"phone_number_1\"   />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('phone_number_2')\">{{ errors.first('phone_number_2') }}</span>\n\n\n        <vs-input v-if=\"!selectedAddress\" label=\"Location\" v-model=\"locationQuery\" class=\"mt-5 w-full\" name=\"location\" v-validate=\"'required'\" />\n        <span class=\"text-danger text-sm\" v-show=\"errors.has('location')\">{{ errors.first('item-name') }}</span>\n\n\n        <!-- Address result -->\n        <div v-for=\"(address,index) in addresses\" :key=\"index\"\n             @click=\"pickAddress(address)\" class=\"location-item px-2 py-2 rounded mt-4\">\n          <ul>\n            <li>{{  address.location_name }} </li>\n          </ul>\n        </div>\n\n        <!-- selected address -->\n        <div class=\"mt-4\" v-if=\"selectedAddress\">\n          <span class=\" text-sm\" >Depot Location</span>\n        </div>\n        <div class=\"selected-address px-2 py-2 rounded mt-4\" v-if=\"selectedAddress\">\n          <div class=\"flex flex-wrap items-center\">\n            <div class=\"flex-grow\">\n              {{  selectedAddress.location_name }}\n            </div>\n            <vs-button @click=\"removeAddress()\" color=\"danger\" type=\"flat\" icon-pack=\"feather\" icon=\"icon-x\"></vs-button>\n          </div>\n        </div>\n\n      </div>\n    </component>\n\n    <div class=\"flex flex-wrap items-center p-6\" slot=\"footer\">\n      <vs-button class=\"mr-6\" @click=\"saveCustomer()\" :disabled=\"!isFormValid\">Submit</vs-button>\n      <vs-button type=\"border\" color=\"danger\" @click=\"isSidebarActiveLocal = false\">Cancel</vs-button>\n    </div>\n\n\n  </vs-sidebar>\n</template>\n\n<script>\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\nimport axios from \"@/axios\";\nimport handler, {handle} from \"@/http/handler\"\n\nexport default {\n  props: {\n    isSidebarActive: {\n      type: Boolean,\n      required: true\n    },\n    data: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  components: {\n    VuePerfectScrollbar\n  },\n  data () {\n    return {\n      /*** Location **/\n      locationQuery: '',\n      locationSearchDialog: false,\n      searchTerm: '',\n      addressesRawResults: [],\n      selectedAddress: null,\n      /*** [end] Location **/\n\n      customerInstance: {\n        customer_name: '',\n        email: '',\n        phone_number_1: '',\n        phone_number_2: '',\n\n        country_id: '',\n        zone_id: '',\n        region_id: '',\n        district_id: '',\n        place_id: ''\n      },\n\n      settings: {\n        maxScrollbarLength: 60,\n        wheelSpeed: .60\n      }\n    }\n  },\n  watch: {\n    isSidebarActive (val) {\n      if (!val) return\n      if (Object.entries(this.data).length === 0) {\n        this.$validator.reset()\n      } else {\n         this.customerInstance = this.data ;\n         this.selectedAddress = {};\n         this.selectedAddress.location_name =  this.data.location_name;\n         this.selectedAddress.country_id =  this.data.country_id;\n         this.selectedAddress.zone_id =  this.data.zone_id;\n         this.selectedAddress.region_id =  this.data.region_id;\n         this.selectedAddress.district_id =  this.data.district_id;\n         this.selectedAddress.place_id =  this.data.place_id;\n      }\n     },\n    locationQuery(query){\n      this.searchLocations();\n    }\n  },\n  computed: {\n    isSidebarActiveLocal: {\n      get () {\n        return this.isSidebarActive\n      },\n      set (val) {\n        if (!val) {\n          this.$emit('closeSidebar')\n          // this.$validator.reset()\n          // this.initValues()\n        }\n      }\n    },\n\n    isFormValid () {\n      return !this.errors.any()\n    },\n\n    scrollbarTag () { return this.$store.getters.scrollbarTag },\n\n    addresses(){\n     return this.addressesRawResults.map(function (resultItem) {\n\n       let location = {};\n\n\n       if(resultItem.type===\"places\"){\n         location.location_name = resultItem.searchable.place_name\n         location.place_id = resultItem.searchable.id\n       }\n       if(resultItem.type===\"districts\"){\n         location.location_name = resultItem.searchable.district_name\n         location.district_id = resultItem.searchable.id\n       }\n       if(resultItem.type===\"regions\"){\n         location.location_name = resultItem.searchable.region_name\n         location.region_id = resultItem.searchable.id\n       }\n\n\n       if(resultItem.searchable.place){\n         location.location_name = location.location_name+ \" \"+ resultItem.searchable.district.district_name;\n         location.place_id = resultItem.searchable.id;\n       }\n\n       if(resultItem.searchable.district){\n         location.location_name = location.location_name+ \" \"+ resultItem.searchable.district.district_name;\n         location.district_id = resultItem.searchable.district.id;\n       }\n\n       if(resultItem.searchable.region){\n         location.location_name = location.location_name+ \" \"+ resultItem.searchable.region.region_name;\n         location.region_id = resultItem.searchable.region.id;\n       }\n\n       if(resultItem.searchable.country){\n         location.location_name = location.location_name+ \" \"+ resultItem.searchable.region.region_name;\n         location.country_id = resultItem.searchable.country.id;\n       }\n\n       return location;\n\n     })\n    }\n  },\n\n  methods: {\n\n    /*** Addresses **/\n    pickAddress(address){\n      this.addressesRawResults = [];\n      this.selectedAddress = address;\n    },\n\n    removeAddress(){\n      this.selectedAddress = null;\n    },\n    /*** [end] Addresses **/\n\n    saveCustomer(){\n      if(this.selectedAddress==null){\n        this.$vs.notify({ title: 'Alert',  text: 'Select Address', color: 'danger'})\n        return ;\n      }\n\n      this.customerInstance.country_id =  this.selectedAddress.country_id;\n      this.customerInstance.region_id =  this.selectedAddress.region_id;\n      this.customerInstance.district_id =  this.selectedAddress.district_id;\n      this.customerInstance.place_id =  this.selectedAddress.place_id;\n\n      console.log(JSON.stringify(this.customerInstance));\n\n      axios.post('/sales/customer/add', this.customerInstance)\n        .then((response) => {\n          this.happilyNotify(\"Customer Updated\");\n          this.customerInstance = {};\n          this.selectedAddress = null;\n          this.$emit('closeSidebar')\n        }).catch((error) => {\n        console.log(error)\n        this.handleApiError(error);\n      })\n    },\n\n    searchLocations(){\n      this.addressesRawResults = [];\n\n      if(!(this.locationQuery)){\n        return ;\n      }\n\n      axios.post('/resources/addresses/find',{\n        query : this.locationQuery\n      }).then((response) => {\n\n        if(response.data.success){\n          this.addressesRawResults = response.data.payload.addresses;\n        }\n       }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    /** helper **/\n    handleApiError(error){\n      this.$vs.notify({\n        title: 'Error',\n        text: handle(error),\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: 'danger'\n      })\n    },\n\n    happilyNotify(message){\n      this.$vs.notify({ title: 'Success',  text: message, color: 'success'})\n    }\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.location-item{\n  border: 1px solid #e5e5e5;\n  background-color: #dbf4fc;\n}\n\n.selected-address{\n  border: 1px solid #2a9d8f;\n  background-color: #eaf5f4;\n   color: #2a9d8f;\n}\n\ndiv.location-item:hover{\n  background-color: #b7e9f9;\n  cursor: pointer;\n}\n\n.add-new-data-sidebar {\n  ::v-deep .vs-sidebar--background {\n    z-index: 52010;\n}\n\n  ::v-deep .vs-sidebar {\n    z-index: 52010;\n    width: 400px;\n    max-width: 90vw;\n\n    .img-upload {\n      margin-top: 2rem;\n\n      .con-img-upload {\n        padding: 0;\n      }\n\n      .con-input-upload {\n        width: 100%;\n        margin: 0;\n      }\n    }\n  }\n}\n.scroll-area--data-list-add-new {\n    // height: calc(var(--vh, 1vh) * 100 - 4.3rem);\n    height: calc(var(--vh, 1vh) * 100 - 16px - 45px - 82px);\n\n    &:not(.ps) {\n      overflow-y: auto;\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomersSideForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomersSideForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomersSideForm.vue?vue&type=template&id=050d38b0&scoped=true&\"\nimport script from \"./CustomersSideForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomersSideForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomersSideForm.vue?vue&type=style&index=0&id=050d38b0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"050d38b0\",\n  null\n  \n)\n\nexport default component.exports","\n<template>\n  <div id=\"data-list-list-view\" class=\"data-list-container\">\n\n    <customer-form :isSidebarActive=\"showCustomerFormSidebar\" @closeSidebar=\"toggleDataSidebar\" :data=\"sidebarData\" />\n\n    <vs-table ref=\"table\"  @selected=\"showCustomerDetails()\" v-model=\"selectedCustomer\" pagination :max-items=\"itemsPerPage\" search :data=\"refinedCustomers\">\n\n      <div slot=\"header\" class=\"flex flex-wrap-reverse items-center flex-grow justify-between\">\n\n        <div class=\"flex flex-wrap-reverse items-center data-list-btn-container\">\n\n          <vs-icon class=\"mr-2\" icon=\"groups\" size=\"large\" color=\"primary\"></vs-icon>\n          <h1 class=\"mr-6\">\n            Customers\n          </h1>\n\n          <!-- Filter By Region -->\n          <v-select v-model=\"selectedRegionId\" class=\"mr-6\" :clearable=\"false\" :reduce=\"item => item.id\"\n                    :options=\"availableRegions\" label=\"region_name\" />\n\n          <!-- Add Customer Button -->\n          <vs-button icon=\"add\" id=\"customerLoading\"  @click=\"showCustomerForm\"\n                     class=\"mr-4 vs-con-loading__container\">Add Customer</vs-button>\n\n        </div>\n\n      </div>\n\n      <template slot=\"thead\">\n        <vs-th sort-key=\"name\">Name</vs-th>\n        <vs-th sort-key=\"category\">Location</vs-th>\n         <vs-th>Action</vs-th>\n          <vs-th>Action </vs-th>\n      </template>\n\n      <template slot-scope=\"{data}\">\n        <tbody>\n        <vs-tr :data=\"item\" :key=\"rowIndex\" v-for=\"(item, rowIndex) in data\">\n\n          <vs-td>\n            <p class=\"product-name font-medium truncate\">{{ item.customer_name  }}</p>\n          </vs-td>\n\n          <vs-td>\n            <p class=\"product-category\">{{ item.location_name | title }} </p>\n          </vs-td>\n\n          <vs-td class=\"whitespace-no-wrap\">\n            <vs-button color=\"secondary\" class=\"mr-2\" size=\"small\" type=\"border\" @click=\"editData(item)\">Edit</vs-button>\n           </vs-td>\n\n\n          <vs-td class=\"whitespace-no-wrap\">\n            <vs-button color=\"danger\" size=\"small\" type=\"border\" @click=\"confirmCustomerDeletion(item)\">Delete</vs-button>\n           </vs-td>\n\n        </vs-tr>\n        </tbody>\n      </template>\n    </vs-table>\n  </div>\n</template>\n\n<script>\nimport CustomerForm from './CustomersSideForm'\nimport axios from \"@/axios\";\nimport vSelect from 'vue-select'\nimport {handle} from \"@/http/handler\";\n\nexport default {\n  components: {\n    CustomerForm,\n    vSelect\n  },\n\n  data () {\n    return {\n      selected: [],\n      rawCustomers: [],\n      customerInstance: null,\n\n      itemsPerPage: 4,\n      isMounted: false,\n      selectedCustomer: null,\n\n      // Data Sidebar\n      showCustomerFormSidebar: false,\n      sidebarData: {},\n\n      selectedRegionId: { \"id\": null, \"region_name\": \"All Regions\" },\n      availableRegions: []\n\n    }\n  },\n  computed: {\n    currentPage () {\n      if (this.isMounted) {\n        return this.$refs.table.currentx\n      }\n      return 0\n    },\n\n    refinedCustomers (){\n      return this.rawCustomers.map(function (customer) {\n\n        let name= \"\";\n        name = customer.place ? customer.place.place_name : \"\";\n        name = customer.district ? name + \" \"+customer.district.district_name : name;\n        name = customer.region ? name + \" \"+customer.region.region_name : name;\n\n        customer.location_name = name;\n        return  customer;\n      });\n    }\n\n  },\n  methods: {\n\n    fetchCustomers(){\n      console.log(JSON.stringify(this.selectedRegionId));\n\n      this.rawCustomers = [];\n      this.$vs.loading({ background: this.backgroundLoading, container: \"#customerLoading\", scale: 0.45 })\n      console.info(\"fetching customers..\");\n      axios.get('/resources/sales/customers?region_id='+this.selectedRegionId)\n        .then((response) => {\n          this.rawCustomers = response.data.payload.customers.data;\n          this.$vs.loading.close(\"#customerLoading > .con-vs-loading\")\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    confirmCustomerDeletion(customer){\n      this.customerInstance = customer;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to remove '+this.customerInstance.customer_name,\n        accept: this.removeCustomer\n      })\n    },\n\n    removeCustomer () {\n      this.$vs.loading({ background: this.backgroundLoading, container: \"#customerLoading\", scale: 0.45 })\n      axios.post('/sales/customer/remove', { id : this.customerInstance.id } )\n        .then((response) => {\n          this.fetchCustomers();\n          this.happilyNotify(\"Customer removed\")\n        }).catch((error) => {\n        console.log(error);\n        this.$vs.loading.close(\"#customerLoading > .con-vs-loading\");\n        this.handleApiError(error);\n\n      })\n\n    },\n\n    showCustomerForm () {\n      this.sidebarData = {}\n      this.toggleDataSidebar(true)\n    },\n\n    editData (customerItem) {\n      this.sidebarData = customerItem\n      this.toggleDataSidebar(true)\n    },\n\n    toggleDataSidebar (val = false) {\n      this.showCustomerFormSidebar = val\n      this.fetchCustomers();\n    },\n\n    showCustomerDetails(){\n      if(this.showCustomerFormSidebar===true){\n        return ;\n      }\n      this.$router.push({ name: 'sales-customer-details', params: { customerId: this.selectedCustomer.id  }});\n    },\n\n    /*** Resources **/\n    fetchRegions() {\n      console.info(\"fetching regions..\");\n      console.info(JSON.stringify(this.selectedCustomer));\n      axios.get('/resources/addresses/regions?country_id=1')\n        .then((response) => {\n          this.availableRegions = response.data.payload.regions;\n          this.availableRegions.unshift({ \"id\": null, \"region_name\": \"All Regions\" });\n\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    /** Helpers **/\n    handleApiError(error){\n      this.$vs.notify({\n        title: 'Error',\n        text: handle(error),\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: 'danger'\n      })\n    },\n\n    happilyNotify(message){\n      this.$vs.notify({ title: 'Success',  text: message, color: 'success'})\n    }\n\n  },\n  watch: {\n    selectedRegionId: function (val) {\n      this.fetchCustomers();\n    }\n  },\n\n  created () {\n    this.fetchRegions();\n   },\n  mounted () {\n    this.fetchCustomers();\n    this.isMounted = true\n  }\n}\n</script>\n\n<style lang=\"scss\">\n#data-list-list-view {\n  .vs-con-table {\n\n    /*\n      Below media-queries is fix for responsiveness of action buttons\n      Note: If you change action buttons or layout of this page, Please remove below style\n    */\n    @media (max-width: 689px) {\n      .vs-table--search {\n        margin-left: 0;\n        max-width: unset;\n        width: 100%;\n\n        .vs-table--search-input {\n          width: 100%;\n        }\n      }\n    }\n\n    @media (max-width: 461px) {\n      .items-per-page-handler {\n        display: none;\n      }\n    }\n\n    @media (max-width: 341px) {\n      .data-list-btn-container {\n        width: 100%;\n\n        .dd-actions,\n        .btn-add-new {\n          width: 100%;\n          margin-right: 0 !important;\n        }\n      }\n    }\n\n    .product-name {\n      max-width: 23rem;\n    }\n\n    .vs-table--header {\n      display: flex;\n      flex-wrap: wrap;\n      margin-left: 1.5rem;\n      margin-right: 1.5rem;\n      > span {\n        display: flex;\n        flex-grow: 1;\n      }\n\n      .vs-table--search{\n        padding-top: 0;\n\n        .vs-table--search-input {\n          padding: 0.9rem 2.5rem;\n          font-size: 1rem;\n\n          &+i {\n            left: 1rem;\n          }\n\n          &:focus+i {\n            left: 1rem;\n          }\n        }\n      }\n    }\n\n    .vs-table {\n      border-collapse: separate;\n      border-spacing: 0 1.3rem;\n      padding: 0 1rem;\n\n      tr{\n        box-shadow: 0 4px 20px 0 rgba(0,0,0,.05);\n        td{\n          padding: 20px;\n          &:first-child{\n            border-top-left-radius: .5rem;\n            border-bottom-left-radius: .5rem;\n          }\n          &:last-child{\n            border-top-right-radius: .5rem;\n            border-bottom-right-radius: .5rem;\n          }\n        }\n        td.td-check{\n          padding: 20px !important;\n        }\n      }\n    }\n\n    .vs-table--thead{\n      th {\n        padding-top: 0;\n        padding-bottom: 0;\n\n        .vs-table-text{\n          text-transform: uppercase;\n          font-weight: 600;\n        }\n      }\n      th.td-check{\n        padding: 0 15px !important;\n      }\n      tr{\n        background: none;\n        box-shadow: none;\n      }\n    }\n\n    .vs-table--pagination {\n      justify-content: center;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Customers.vue?vue&type=template&id=0e9e2db4&\"\nimport script from \"./Customers.vue?vue&type=script&lang=js&\"\nexport * from \"./Customers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Customers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customers.vue?vue&type=style&index=0&lang=scss&\"","import router from '@/router'\n\nfunction parseError(statusCode) {\n  switch (statusCode) {\n    case 400:\n    {\n      return \"Server could not understand the request\";\n    }break;\n\n    case 401:\n    {\n      return \"You have not logged in\";\n    }break;\n\n    case 402:\n    {\n      return \"Payment required\";\n    }break;\n\n    case 403:\n    {\n      return \"Resource is forbbidden\";\n    }\n      break;\n    case 404:\n    {\n      return \"URL/Resource Not found\";\n    }\n      break;\n    case 405:\n    {\n      return \"Request method not allowed\";\n    }\n      break;\n    case 406:\n    {\n      return \"Not Acceptable\";\n    }\n      break;\n    case 407:\n    {\n      return \"Proxy authentication required\";\n    }\n      break;\n\n    case 408:\n    {\n      return \"Request timeout\";\n    }\n      break;\n    case 413:\n    {\n      return \"Payload Too Large\";\n    }\n      break;\n\n    case 415:\n    {\n      return \"Unsupported Media Type\";\n    }\n      break;\n\n    case 413:\n    {\n      return \"Payload Too Large\";\n    }break;\n    case 422:\n    {\n      return \"Could not process request\";\n    }break;\n\n    case 429:\n    {\n      return \"Too Many Requests\";\n    }\n      break;\n\n/// 5xx\n    case 500:\n    {\n      return \"Internal Server Error\";\n    }\n      break;\n\n    case 504:\n    {\n      return \"Gateway Timeout\";\n    }\n      break;\n\n    case 504:\n    {\n      return \"Network Authentication Required\";\n    }\n      break;\n\n    default:\n      return \"Error Code:\"+statusCode\n  }\n}\n\nexport function handle(error) {\n\n   if(error.response){\n     console.log(JSON.stringify(error.response.data.message));\n\n     if(error.response.status==401){\n      console.log(\"redirecting....\");\n       router.push('/login').catch(() => {})\n      return \"Not logged in\";\n    }else{\n     let message = error.response.data? error.response.data.message:   error.response.message;\n     return message+\" -\"+parseError(error.response.status ) ;\n    }\n\n   }else{\n    console.log(error);\n  }\n\n  return \"An error occurred\"\n\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomersSideForm.vue?vue&type=style&index=0&id=050d38b0&lang=scss&scoped=true&\""],"sourceRoot":""}