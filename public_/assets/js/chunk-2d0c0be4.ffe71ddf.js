(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0be4"],{"42a1":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex flex-wrap items-center mb-6"},[a("div",{staticClass:"flex-grow"},[a("div",{staticClass:"flex flex-wrap "},[a("h2",{staticClass:"font-bold",staticStyle:{"line-height":"48px !important",display:"flex","vertical-align":"middle !important"}},[a("vs-icon",{staticClass:"inline pt-2 mr-4",attrs:{size:"32px",icon:"sort"}}),t._v("\n         Product Categories\n        ")],1),a("vs-button",{staticClass:"py-0 ml-4",attrs:{icon:"refresh",type:"flat"},on:{click:function(e){return t.fetchCategories()}}},[t._v("Refresh")])],1)]),a("vs-button",{attrs:{icon:"add"},on:{click:function(e){return t.showCategoryForm()}}},[t._v("Add Category")])],1),a("vx-card",[a("div",{staticClass:"px-6 py-6 rounded",staticStyle:{border:"1px solid #e5e5e5"}},[a("div",{staticClass:"flex flex-wrap items-center mb-4"},[this.selectedCategory.id?a("vs-button",{staticClass:"mr-4",attrs:{radius:"",color:"danger",icon:"keyboard_backspace"},on:{click:function(e){return t.backToParentCategories()}}}):t._e(),a("h4",[t._v("\n          "+t._s(this.selectedCategory.category_name?this.selectedCategory.category_name+" Subcategories ":"Categories")+"\n        ")])],1),a("vs-table",{attrs:{stripe:"",data:t.categories},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.data;return t._l(o,(function(e,s){return a("vs-tr",{key:s},[a("vs-td",{attrs:{data:o[s].region_name}},[t._v("\n              "+t._s(o[s].category_name)+"\n            ")]),a("vs-td",{attrs:{data:o[s].created_at}},[t._v("\n              "+t._s(o[s].created_at)+"\n            ")]),a("vs-td",{attrs:{data:o[s].id}},[a("vs-button",{staticClass:"mr-4",attrs:{type:"border",color:"secondary",size:"small"},on:{click:function(e){return t.showSubCategories(o[s])}}},[t._v("Open")]),a("vs-button",{staticClass:"mr-4",attrs:{type:"border",size:"small"},on:{click:function(e){return t.showCategoryForm(o[s])}}},[t._v("Edit")]),a("vs-button",{staticClass:"mr-4",attrs:{type:"border",color:"danger",size:"small"},on:{click:function(e){return t.confirmCategoryRemoval(o[s])}}},[t._v("Remove")])],1)],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v("Category Name")]),a("vs-th",[t._v("Added at")]),a("vs-th",[t._v("Action")])],1)],2)],1),a("vs-prompt",{attrs:{title:"Category Name","accept-text":"Save","cancel-text":"Cancel",color:"secondary",active:t.categoryFormDialog},on:{cancel:function(e){t.categoryInstance={}},accept:function(e){return t.saveCategory()},"update:active":function(e){t.categoryFormDialog=e}}},[a("div",[a("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"Category Name"},model:{value:t.categoryInstance.category_name,callback:function(e){t.$set(t.categoryInstance,"category_name",e)},expression:"categoryInstance.category_name"}})],1)])],1)],1)},s=[],r=a("bb36"),c={data:function(){return{categories:[],categoryInstance:{id:null,category_name:null,parent_category_id:null},categoryFormDialog:!1,selectedCategories:[],selectedCategory:{}}},methods:{fetchCategories:function(){var t=this;r["a"].get("/resources/products/categories?parent_id="+this.selectedCategory.id).then((function(e){t.categories=e.data.payload.categories})).catch((function(t){console.log(t)}))},showCategoryForm:function(t){this.categoryInstance=t||{},this.categoryFormDialog=!0},saveCategory:function(){var t=this;this.categoryInstance.parent_category_id=this.selectedCategory.id,r["a"].post("/products/category/add",this.categoryInstance).then((function(e){t.categoryFormDialog=!1,t.fetchCategories()})).catch((function(t){console.log(t)}))},confirmCategoryRemoval:function(t){this.categoryInstance=t,this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure you want to remove "+this.categoryInstance.category_name,accept:this.removeCategory})},removeCategory:function(){var t=this;r["a"].post("/products/category/remove",{id:this.categoryInstance.id}).then((function(e){t.fetchCategories()})).catch((function(t){console.log(t)}))},showSubCategories:function(t){this.selectedCategory=t,this.selectedCategories.push(t),this.fetchCategories()},backToParentCategories:function(){this.selectedCategories.pop(),0===this.selectedCategories.length?this.selectedCategory={}:this.selectedCategory=this.selectedCategories[this.selectedCategories.length-1],this.fetchCategories()}},created:function(){this.fetchCategories()}},n=c,i=a("2877"),l=Object(i["a"])(n,o,s,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0c0be4.ffe71ddf.js.map