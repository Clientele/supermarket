{"version":3,"sources":["webpack:///./src/views/products/products/ProductCategories.vue?eefa","webpack:///src/views/products/products/ProductCategories.vue","webpack:///./src/views/products/products/ProductCategories.vue?59d3","webpack:///./src/views/products/products/ProductCategories.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_v","on","$event","fetchCategories","showCategoryForm","selectedCategory","backToParentCategories","_e","_s","category_name","categories","scopedSlots","_u","key","fn","ref","data","_l","tr","rowIndex","region_name","created_at","id","showSubCategories","confirmCategoryRemoval","slot","categoryFormDialog","categoryInstance","saveCategory","model","value","callback","$$v","$set","expression","staticRenderFns","selectedCategories","methods","axios","console","log","error","category","parent_category_id","$vs","dialog","type","color","title","text","accept","removeCategory","push","pop","length","created","component"],"mappings":"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","file":"js/chunk-2d0c0be4.ffe71ddf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex flex-wrap items-center mb-6\"},[_c('div',{staticClass:\"flex-grow\"},[_c('div',{staticClass:\"flex flex-wrap \"},[_c('h2',{staticClass:\"font-bold\",staticStyle:{\"line-height\":\"48px !important\",\"display\":\"flex\",\"vertical-align\":\"middle !important\"}},[_c('vs-icon',{staticClass:\"inline pt-2 mr-4\",attrs:{\"size\":\"32px\",\"icon\":\"sort\"}}),_vm._v(\"\\n         Product Categories\\n        \")],1),_c('vs-button',{staticClass:\"py-0 ml-4\",attrs:{\"icon\":\"refresh\",\"type\":\"flat\"},on:{\"click\":function($event){return _vm.fetchCategories()}}},[_vm._v(\"Refresh\")])],1)]),_c('vs-button',{attrs:{\"icon\":\"add\"},on:{\"click\":function($event){return _vm.showCategoryForm()}}},[_vm._v(\"Add Category\")])],1),_c('vx-card',[_c('div',{staticClass:\"px-6 py-6 rounded\",staticStyle:{\"border\":\"1px solid #e5e5e5\"}},[_c('div',{staticClass:\"flex flex-wrap items-center mb-4\"},[(this.selectedCategory.id)?_c('vs-button',{staticClass:\"mr-4\",attrs:{\"radius\":\"\",\"color\":\"danger\",\"icon\":\"keyboard_backspace\"},on:{\"click\":function($event){return _vm.backToParentCategories()}}}):_vm._e(),_c('h4',[_vm._v(\"\\n          \"+_vm._s(this.selectedCategory.category_name? this.selectedCategory.category_name+ \" Subcategories \"  : \"Categories\")+\"\\n        \")])],1),_c('vs-table',{attrs:{\"stripe\":\"\",\"data\":_vm.categories},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,rowIndex){return _c('vs-tr',{key:rowIndex},[_c('vs-td',{attrs:{\"data\":data[rowIndex].region_name}},[_vm._v(\"\\n              \"+_vm._s(data[rowIndex].category_name)+\"\\n            \")]),_c('vs-td',{attrs:{\"data\":data[rowIndex].created_at}},[_vm._v(\"\\n              \"+_vm._s(data[rowIndex].created_at)+\"\\n            \")]),_c('vs-td',{attrs:{\"data\":data[rowIndex].id}},[_c('vs-button',{staticClass:\"mr-4\",attrs:{\"type\":\"border\",\"color\":\"secondary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showSubCategories(data[rowIndex])}}},[_vm._v(\"Open\")]),_c('vs-button',{staticClass:\"mr-4\",attrs:{\"type\":\"border\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showCategoryForm(data[rowIndex])}}},[_vm._v(\"Edit\")]),_c('vs-button',{staticClass:\"mr-4\",attrs:{\"type\":\"border\",\"color\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.confirmCategoryRemoval(data[rowIndex])}}},[_vm._v(\"Remove\")])],1)],1)})}}])},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"Category Name\")]),_c('vs-th',[_vm._v(\"Added at\")]),_c('vs-th',[_vm._v(\"Action\")])],1)],2)],1),_c('vs-prompt',{attrs:{\"title\":\"Category Name\",\"accept-text\":\"Save\",\"cancel-text\":\"Cancel\",\"color\":\"secondary\",\"active\":_vm.categoryFormDialog},on:{\"cancel\":function($event){_vm.categoryInstance={}},\"accept\":function($event){return _vm.saveCategory()},\"update:active\":function($event){_vm.categoryFormDialog=$event}}},[_c('div',[_c('vs-input',{staticClass:\"mt-3 w-full\",attrs:{\"placeholder\":\"Category Name\"},model:{value:(_vm.categoryInstance.category_name),callback:function ($$v) {_vm.$set(_vm.categoryInstance, \"category_name\", $$v)},expression:\"categoryInstance.category_name\"}})],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n<template>\n  <div>\n    <!--Categories Filter -->\n    <div class=\"flex flex-wrap items-center mb-6\">\n      <div class=\"flex-grow\">\n        <div class=\"flex flex-wrap \">\n          <h2 class=\"font-bold\"\n              style=\"line-height: 48px !important; display:flex;  vertical-align: middle !important;   \">\n            <vs-icon class=\"inline pt-2 mr-4\" size=\"32px\" icon=\"sort\"></vs-icon>\n           Product Categories\n          </h2>\n          <vs-button icon=\"refresh\" class=\"py-0 ml-4\" type=\"flat\" @click=\"fetchCategories()\">Refresh</vs-button>\n        </div>\n\n      </div>\n\n      <vs-button icon=\"add\"  @click=\"showCategoryForm()\">Add Category</vs-button>\n    </div>\n    <!-- [end] Categories Filter -->\n\n\n    <vx-card >\n\n\n      <!-- Category -->\n      <div style=\"border: 1px solid #e5e5e5\" class=\"px-6 py-6 rounded\">\n        <div class=\"flex flex-wrap items-center mb-4\">\n          <vs-button v-if=\"this.selectedCategory.id\" @click=\"backToParentCategories()\"\n            radius class=\"mr-4\" color=\"danger\" icon=\"keyboard_backspace\"></vs-button>\n\n          <h4>\n            {{ this.selectedCategory.category_name? this.selectedCategory.category_name+ ` Subcategories `  : \"Categories\"}}\n          </h4>\n\n        </div>\n\n\n       <vs-table stripe :data=\"categories\">\n\n          <template slot=\"thead\">\n            <vs-th>Category Name</vs-th>\n            <vs-th>Added at</vs-th>\n            <vs-th>Action</vs-th>\n          </template>\n\n          <template slot-scope=\"{data}\">\n            <vs-tr :key=\"rowIndex\" v-for=\"(tr, rowIndex) in data\">\n              <vs-td :data=\"data[rowIndex].region_name\">\n                {{data[rowIndex].category_name}}\n              </vs-td>\n              <vs-td :data=\"data[rowIndex].created_at\">\n                {{data[rowIndex].created_at}}\n              </vs-td>\n              <vs-td :data=\"data[rowIndex].id\">\n                <vs-button type=\"border\" color=\"secondary\" class=\"mr-4\" size=\"small\" @click=\"showSubCategories(data[rowIndex])\">Open</vs-button>\n                <vs-button type=\"border\"  class=\"mr-4\" size=\"small\" @click=\"showCategoryForm(data[rowIndex])\">Edit</vs-button>\n                <vs-button  type=\"border\" color=\"danger\" class=\"mr-4\" size=\"small\" @click=\"confirmCategoryRemoval(data[rowIndex])\">Remove</vs-button>\n              </vs-td>\n            </vs-tr>\n          </template>\n        </vs-table>\n      </div>\n\n      <!-- Category Form -->\n      <vs-prompt :title=\"`Category Name`\" :accept-text=\"`Save`\" :cancel-text=\"`Cancel`\"\n                 @cancel=\"categoryInstance={}\" color=\"secondary\"\n                 @accept=\"saveCategory()\"\n                 :active.sync=\"categoryFormDialog\">\n        <div  >\n          <vs-input placeholder=\"Category Name\"  v-model=\"categoryInstance.category_name\" class=\"mt-3 w-full\"/>\n        </div>\n      </vs-prompt>\n      <!-- [end] Category Form -->\n      <!--[end]  Category -->\n\n\n\n    </vx-card>\n  </div>\n</template>\n\n<script>\nimport axios from \"@/axios\";\n\nexport default {\n  data () {\n    return {\n      categories: [],\n      categoryInstance: { id: null,  category_name : null, parent_category_id : null },\n      categoryFormDialog: false,\n\n      selectedCategories: [],\n      selectedCategory: {},\n\n    }\n  },\n  methods: {\n\n    /*** Categories **/\n    fetchCategories() {\n      axios.get('/resources/products/categories?parent_id='+this.selectedCategory.id).then((response) => {\n        this.categories = response.data.payload.categories;\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    showCategoryForm(category){\n      this.categoryInstance = category? category : {};\n      this.categoryFormDialog = true;\n    },\n\n    saveCategory(){\n      this.categoryInstance.parent_category_id = this.selectedCategory.id;\n\n      axios.post('/products/category/add', this.categoryInstance)\n        .then((response) => {\n          this.categoryFormDialog = false;\n          this.fetchCategories();\n        }).catch((error) => {\n        console.log(error)\n        })\n    },\n\n    confirmCategoryRemoval(category){\n      this.categoryInstance = category;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to remove '+this.categoryInstance.category_name,\n        accept: this.removeCategory\n      })\n    },\n\n    removeCategory(){\n      axios.post('/products/category/remove', {\n        id: this.categoryInstance.id\n      })\n        .then((response) => {\n          this.fetchCategories();\n        }).catch((error) => {\n        console.log(error)\n        })\n    },\n\n    /*** Sub Categories **/\n    showSubCategories(category){\n      this.selectedCategory = category;\n      this.selectedCategories.push(category);\n      this.fetchCategories();\n    },\n\n    backToParentCategories(){\n      this.selectedCategories.pop();\n      if(this.selectedCategories.length === 0){\n        this.selectedCategory = { };\n      }else{\n        this.selectedCategory = this.selectedCategories[this.selectedCategories.length-1];\n      }\n      this.fetchCategories();\n    }\n\n\n  },\n  created() {\n    this.fetchCategories();\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductCategories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductCategories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductCategories.vue?vue&type=template&id=06ac0024&\"\nimport script from \"./ProductCategories.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductCategories.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}