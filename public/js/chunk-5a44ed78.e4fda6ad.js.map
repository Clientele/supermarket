{"version":3,"sources":["webpack:///./src/views/sales/orders/Orders.vue?bf0e","webpack:///./src/views/sales/orders/Orders.vue?2187","webpack:///src/views/sales/orders/Orders.vue","webpack:///./src/views/sales/orders/Orders.vue?28bc","webpack:///./src/views/sales/orders/Orders.vue?c285"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","fetchOrders","orderChannelsOptions","model","value","callback","$$v","orderChannel","expression","item","id","availableRegions","selectedOrderRegionId","showOrderForm","isApproved","isCancelled","ref","orders","showOrderDetails","scopedSlots","_u","key","fn","data","_l","rowIndex","_s","customer","customer_name","place","place_name","district","district_name","region","region_name","staff","staff_name","class","getStatusColor","order_status","created_at","selectedOrder","slot","orderFormDialog","$event","closeOrderForm","selectedOrderCustomer","_e","directives","name","rawName","customerQuery","index","pickCustomer","email","phone_number_1","phone_number_2","distrcit_name","removeCustomer","selectedOrderAddress","locationQuery","errors","has","first","address","pickAddress","location_name","removeAddress","products","fetchProductVariants","selectedOrderProduct","productVariants","selectedOrderProductVariant","quantity","addProductToCart","cartProduct","product","product_name","productVariant","variant_name","removeFromCart","cartProducts","length","submitOrder","orderDetailsVisible","closeOrderDetails","staticStyle","rejectOrder","orderProduct","style","background","variant","ordered_quantity","delivered_quantity","selling_price","phone_number","availableStaff","setSalesPerson","selectedStaff","cancellationForm","cancellationReason","staticRenderFns","components","Table","vSelect","itemsPerPage","isMounted","showOrderFormSidebar","sidebarData","customers","addressesRawResults","watch","searchLocations","searchCustomer","computed","currentPage","$refs","table","currentx","addresses","map","resultItem","type","location","searchable","place_id","district_id","region_id","country","country_id","methods","$vs","loading","console","log","JSON","stringify","rawCustomers","error","fetchOrderDetails","info","axios","confirmCustomerDeletion","customerInstance","dialog","color","title","text","accept","orderInstance","order","push","splice","cartItem","customer_id","product_variants","variants","orderData","sadlyNotify","promptCancellation","cancelletionReason","fetchRegions","fetchProducts","fetchStaff","selectedDepot","query","response","success","handleApiError","notify","iconPack","icon","happilyNotify","created","mounted","component"],"mappings":"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","file":"js/chunk-5a44ed78.e4fda6ad.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list-container\",attrs:{\"id\":\"data-list-list-view\"}},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center data-list-btn-container mb-6\"},[_c('vs-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"shopping_cart\",\"size\":\"large\",\"color\":\"primary\"}}),_c('div',{staticClass:\"flex-grow\"},[_c('div',{staticClass:\"flex\"},[_c('h1',{staticClass:\"mr-6\"},[_vm._v(\"\\n         Orders\\n       \")]),_c('vs-button',{staticClass:\"mr-4 \",attrs:{\"type\":\"border\",\"icon\":\"refresh\"},on:{\"click\":_vm.fetchOrders}},[_vm._v(\"Refresh \")])],1)]),_c('v-select',{staticClass:\"mr-6\",attrs:{\"clearable\":false,\"options\":_vm.orderChannelsOptions,\"label\":\"text\"},on:{\"input\":_vm.fetchOrders},model:{value:(_vm.orderChannel),callback:function ($$v) {_vm.orderChannel=$$v},expression:\"orderChannel\"}}),_c('v-select',{staticClass:\"mr-6\",attrs:{\"clearable\":false,\"reduce\":function (item) { return item.id; },\"options\":_vm.availableRegions,\"label\":\"region_name\"},on:{\"input\":_vm.fetchOrders},model:{value:(_vm.selectedOrderRegionId),callback:function ($$v) {_vm.selectedOrderRegionId=$$v},expression:\"selectedOrderRegionId\"}}),_c('vs-button',{staticClass:\"mr-4 vs-con-loading__container\",attrs:{\"icon\":\"add\",\"id\":\"customerLoading\"},on:{\"click\":_vm.showOrderForm}},[_vm._v(\"Add Order\\n      \")])],1),_c('vs-card',{staticClass:\"px-6\"},[_c('div',{staticClass:\"flex flex-wrap py-12 \"},[_c('ul',{staticClass:\"centerx flex\"},[_c('li',[_c('vs-checkbox',{on:{\"input\":_vm.fetchOrders},model:{value:(_vm.isApproved),callback:function ($$v) {_vm.isApproved=$$v},expression:\"isApproved\"}},[_vm._v(\"Approved\")])],1),_c('li',[_c('vs-checkbox',{on:{\"input\":_vm.fetchOrders},model:{value:(_vm.isCancelled),callback:function ($$v) {_vm.isCancelled=$$v},expression:\"isCancelled\"}},[_vm._v(\"Cancelled\")])],1)])]),_c('vs-table',{ref:\"table\",attrs:{\"pagination\":\"\",\"max-items\":100,\"data\":_vm.orders},on:{\"selected\":_vm.showOrderDetails},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('tbody',_vm._l((data),function(item,rowIndex){return _c('vs-tr',{key:rowIndex,attrs:{\"data\":item}},[_c('vs-td',[_c('p',{staticClass:\"product-name font-medium truncate\"},[_vm._v(_vm._s(item.id))])]),_c('vs-td',[_c('p',{staticClass:\"product-name font-medium truncate\"},[_vm._v(_vm._s(item.customer ? item.customer.customer_name : \" \"))])]),_c('vs-td',[_c('p',{staticClass:\"product-category\"},[_vm._v(\"\\n              \"+_vm._s(item.place ? item.place.place_name : \" \")+\"\\n              \"+_vm._s(item.district ? item.district.district_name : \" \")+\"\\n              \"+_vm._s(item.region ? item.region.region_name : \" \")+\"\\n            \")])]),_c('vs-td',[(item.staff)?_c('vs-chip',{attrs:{\"color\":\"secondary\"}},[_c('vs-avatar',{attrs:{\"color\":\"secondary\",\"icon-pack\":\"feather\",\"icon\":\"icon-user\"}}),_vm._v(\"\\n              \"+_vm._s(item.staff.staff_name)+\"\\n            \")],1):_c('vs-chip',{attrs:{\"color\":\"grey\"}},[_vm._v(\" No Salesman\")])],1),_c('vs-td',[_c('span',{class:_vm.getStatusColor(item)},[_vm._v(\" \"+_vm._s(item.order_status))])]),_c('vs-td',[_vm._v(\"\\n             \"+_vm._s(item.created_at)+\"\\n          \")])],1)}),1)]}}]),model:{value:(_vm.selectedOrder),callback:function ($$v) {_vm.selectedOrder=$$v},expression:\"selectedOrder\"}},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"#\")]),_c('vs-th',[_vm._v(\"Customer\")]),_c('vs-th',[_vm._v(\"Address\")]),_c('vs-th',[_vm._v(\"Sales Person\")]),_c('vs-th',[_vm._v(\"Status\")]),_c('vs-th',[_vm._v(\"Date\")])],1)],2)],1),_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":\"New Order\",\"active\":_vm.orderFormDialog},on:{\"close\":function($event){return _vm.closeOrderForm()},\"update:active\":function($event){_vm.orderFormDialog=$event}}},[_c('div',{staticClass:\"md:px-6\"},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/3 w-1/4\"},[_c('div',{staticClass:\"mt-4 mb-5\"},[_c('h3',[_vm._v(\"Customer\")]),(!_vm.selectedOrderCustomer)?_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mt-5 w-full\",attrs:{\"name\":\"location\"},model:{value:(_vm.customerQuery),callback:function ($$v) {_vm.customerQuery=$$v},expression:\"customerQuery\"}}):_vm._e(),_vm._l((_vm.customers),function(customer,index){return _c('div',{key:index,staticClass:\"location-item px-2 py-2 rounded mt-4\",on:{\"click\":function($event){return _vm.pickCustomer(customer)}}},[_c('ul',[_c('li',[_vm._v(_vm._s(customer.customer_name)+\" \"+_vm._s(customer.email))]),_c('li',[_vm._v(_vm._s(customer.phone_number_1)+\" \"+_vm._s(customer.phone_number_2))]),_c('li',[_vm._v(\"\\n                  \"+_vm._s(customer.region ? customer.region.region_name : \" \")+\"\\n                  \"+_vm._s(customer.district ? customer.district.distrcit_name : \" \")+\"\\n                  \"+_vm._s(customer.place ? customer.place.place_name : \" \")+\"\\n                \")])])])}),(_vm.selectedOrderCustomer)?_c('div',{staticClass:\"selectedOrder-address px-2 py-2 rounded mt-4\"},[_c('div',{staticClass:\"flex flex-wrap items-center\"},[_c('div',{staticClass:\"flex-grow\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrderCustomer.customer_name)+\"\\n                \")]),_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-x\"},on:{\"click\":function($event){return _vm.removeCustomer()}}})],1)]):_vm._e()],2),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('h3',[_vm._v(\"Delivery Address\")]),(!_vm.selectedOrderAddress)?_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mt-5 w-full\",attrs:{\"name\":\"location\"},model:{value:(_vm.locationQuery),callback:function ($$v) {_vm.locationQuery=$$v},expression:\"locationQuery\"}}):_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('location')),expression:\"errors.has('location')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('item-name')))]),_vm._l((_vm.addresses),function(address,index){return _c('div',{key:index,staticClass:\"location-item px-2 py-2 rounded mt-4\",on:{\"click\":function($event){return _vm.pickAddress(address)}}},[_c('ul',[_c('li',[_vm._v(_vm._s(address.location_name))])])])}),(_vm.selectedOrderAddress)?_c('div',{staticClass:\"selectedOrder-address px-2 py-2 rounded mt-4\"},[_c('div',{staticClass:\"flex flex-wrap items-center\"},[_c('div',{staticClass:\"flex-grow\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrderAddress.location_name)+\"\\n                \")]),_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-x\"},on:{\"click\":function($event){return _vm.removeAddress()}}})],1)]):_vm._e()],2)]),_c('div',{staticClass:\"vx-col md:w-1/3 w-1/4\"},[_c('div',{staticClass:\"mx-6 px-6\"},[_c('h3',[_vm._v(\"Pick Product\")]),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(\"Product\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"clearable\":false,\"options\":_vm.products,\"name\":\"Product\",\"label\":\"product_name\",\"placeholder\":\"Select\"},on:{\"input\":function($event){return _vm.fetchProductVariants()}},model:{value:(_vm.selectedOrderProduct),callback:function ($$v) {_vm.selectedOrderProduct=$$v},expression:\"selectedOrderProduct\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('Product')),expression:\"errors.has('Product')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('Product')))])],1),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(\"Product Variant\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"clearable\":false,\"options\":_vm.productVariants,\"name\":\"Variant\",\"label\":\"variant_name\",\"placeholder\":\"Select\"},model:{value:(_vm.selectedOrderProductVariant),callback:function ($$v) {_vm.selectedOrderProductVariant=$$v},expression:\"selectedOrderProductVariant\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('Variant')),expression:\"errors.has('Variant')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('Variant')))])],1),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full mt-4\",attrs:{\"label\":\"Quantity\",\"name\":\"quantity\"},model:{value:(_vm.quantity),callback:function ($$v) {_vm.quantity=$$v},expression:\"quantity\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('quantity')),expression:\"errors.has('quantity')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(\"\\n                 \"+_vm._s(_vm.errors.first('quantity'))+\" \")])],1),(_vm.selectedOrderProduct && _vm.selectedOrderProductVariant && _vm.quantity>0)?_c('div',[_c('vs-button',{ref:\"saveButton\",staticClass:\"mr-4 mb-4\",attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.addProductToCart()}}},[_vm._v(\"\\n                Add to cart\\n              \")])],1):_vm._e()])]),_c('div',{staticClass:\"vx-col md:w-1/3 w-1/4\"},[_c('h3',[_vm._v(\"Cart\")]),_vm._l((_vm.cartProducts),function(cartProduct,index){return _c('div',{key:index,staticClass:\"category-item\"},[_c('vs-card',{staticClass:\"my-6\"},[_c('div',{staticClass:\"flex flex-wrap\"},[_c('p',{staticClass:\"mt-1 flex-grow\"},[_vm._v(\"\\n                  \"+_vm._s(cartProduct.product.product_name)+\"\\n                  \"+_vm._s(cartProduct.productVariant.variant_name)+\",\\n                  QTY: \"+_vm._s(cartProduct.quantity)+\"\\n                \")]),_c('vs-button',{attrs:{\"type\":\"border\",\"color\":\"danger\",\"radius\":\"\",\"icon\":\"close\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.removeFromCart(index)}}})],1)])],1)}),(_vm.cartProducts.length>0)?_c('div',[_c('vs-button',{ref:\"saveButton\",staticClass:\"mr-4 mb-4\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.submitOrder()}}},[_vm._v(\"\\n              Submit Order\\n            \")])],1):_vm._e()],2)]),_c('div',{staticClass:\"vx-row mt-12\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('div',{staticClass:\"flex items-start flex-col sm:flex-row\"})])])])]),_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":\"Order Details\",\"active\":_vm.orderDetailsVisible},on:{\"close\":function($event){return _vm.closeOrderDetails()},\"update:active\":function($event){_vm.orderDetailsVisible=$event}}},[_c('div',{staticStyle:{\"min-height\":\"100vh\"}},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/3\"},[_c('div',{staticClass:\"mb-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Customer\")])]),_c('div',[_c('table',[_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Name\")]),_c('td',[_vm._v(_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.customer_name : \"No Customer\"))])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Phone\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.phone_number_1 : \"No Phone\")+\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.phone_number_2 : \"\")+\"\\n                \")])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Email\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.email : \"Email\")+\"\\n                \")])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Address\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.place ? _vm.selectedOrder.place.place_name : \" \")+\"\\n                  \"+_vm._s(_vm.selectedOrder.district ? _vm.selectedOrder.district.district_name : \" \")+\"\\n                  \"+_vm._s(_vm.selectedOrder.region ? _vm.selectedOrder.region.region_name : \" \")+\"\\n                \")])])])]),(!(_vm.selectedOrder.is_cancelled))?_c('vs-button',{staticClass:\"mt-12\",attrs:{\"color\":\"danger\"},on:{\"click\":function($event){return _vm.rejectOrder()}}},[_vm._v(\" Cancel Order\")]):_vm._e()],1),(_vm.selectedOrder.order_products)?_c('div',{staticClass:\"vx-col md:w-1/3 \"},[_c('div',{staticClass:\"mb-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Ordered Products\")])]),_vm._l((_vm.selectedOrder.order_products),function(orderProduct,index){return _c('vx-card',{staticClass:\"overflow-hidden mb-6\"},[_c('div',{attrs:{\"slot\":\"no-body\"},slot:\"no-body\"},[_c('div',{staticClass:\"p-6 flex justify-between flex-row-reverse items-center\"},[_c('feather-icon',{staticClass:\"p-3 inline-flex rounded-full text-primary\",style:({background: \"rgba(var(--vs-primary),.15)\"}),attrs:{\"icon\":\"PackageIcon\"}}),_c('div',{staticClass:\"truncate\"},[_c('h3',{staticClass:\"mb-1 font-bold\"},[_vm._v(\"\\n                    \"+_vm._s(orderProduct.product ? orderProduct.product.product_name : \"\")+\"\\n                    \"+_vm._s(orderProduct.variant ? orderProduct.variant.variant_name : \" \")+\"\\n                  \")]),_c('ul',[_c('li',[_vm._v(\"Quantity \"+_vm._s(orderProduct.ordered_quantity))]),_c('li',[_vm._v(\"Delivered: \"+_vm._s(orderProduct.delivered_quantity))]),_c('li',[_vm._v(\"@TSH\"+_vm._s(orderProduct.selling_price))])])])],1)])])})],2):_vm._e(),(_vm.selectedOrder.order_products)?_c('div',{staticClass:\"vx-col md:w-1/3 \"},[_c('div',{staticClass:\"mb-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Sales Person\")])]),_c('table',[_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Name\")]),_c('td',[_vm._v(_vm._s(_vm.selectedOrder.staff ? _vm.selectedOrder.staff.staff_name : \"No sales person\"))])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Phone\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.selectedOrder.staff ? _vm.selectedOrder.staff.phone_number : \"No Phone\"))])])]),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(\"Update Sales Person\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"clearable\":false,\"options\":_vm.availableStaff,\"name\":\"Staff\",\"label\":\"staff_name\",\"placeholder\":\"Select\"},on:{\"input\":function($event){return _vm.setSalesPerson()}},model:{value:(_vm.selectedStaff),callback:function ($$v) {_vm.selectedStaff=$$v},expression:\"selectedStaff\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('Staff')),expression:\"errors.has('Staff')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('Staff')))])],1)]):_vm._e()])])]),_c('vs-prompt',{attrs:{\"title\":\"Cancellation Reason\",\"accept-text\":\"Continue\",\"cancel-text\":\"Cancel\",\"color\":\"secondary\",\"active\":_vm.cancellationForm},on:{\"cancel\":function($event){_vm.cancellationReason=null},\"accept\":function($event){return _vm.rejectOrder()},\"update:active\":function($event){_vm.cancellationForm=$event}}},[_c('div',[_c('vs-input',{staticClass:\"mt-3 w-full\",attrs:{\"placeholder\":\"Reason\"},model:{value:(_vm.cancellationReason),callback:function ($$v) {_vm.cancellationReason=$$v},expression:\"cancellationReason\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"data-list-list-view\" class=\"data-list-container\">\n\n\n    <div class=\"flex flex-wrap-reverse items-center data-list-btn-container mb-6\">\n\n        <vs-icon class=\"mr-2\" icon=\"shopping_cart\" size=\"large\" color=\"primary\"></vs-icon>\n       <div class=\"flex-grow\">\n         <div class=\"flex\"><h1 class=\"mr-6\">\n           Orders\n         </h1>\n           <vs-button type=\"border\" icon=\"refresh\"  @click=\"fetchOrders\" class=\"mr-4 \">Refresh </vs-button> </div>\n       </div>\n\n        <!-- Mine -->\n        <v-select @input=\"fetchOrders\" v-model=\"orderChannel\" class=\"mr-6\" :clearable=\"false\"\n                  :options=\"orderChannelsOptions\" label=\"text\"/>\n\n        <!-- Filter By Region -->\n        <v-select @input=\"fetchOrders\" v-model=\"selectedOrderRegionId\" class=\"mr-6\" :clearable=\"false\" :reduce=\"item => item.id\"\n                  :options=\"availableRegions\" label=\"region_name\"/>\n\n        <!-- Add Order Button -->\n        <vs-button icon=\"add\" id=\"customerLoading\" @click=\"showOrderForm\"\n                   class=\"mr-4 vs-con-loading__container\">Add Order\n        </vs-button>\n\n      </div>\n\n\n    <!-- orders table-->\n    <vs-card class=\"px-6\">\n\n      <!--filters -->\n      <div class=\"flex flex-wrap py-12 \">\n        <ul class=\"centerx flex\">\n          <li>\n            <vs-checkbox @input=\"fetchOrders\" v-model=\"isApproved\">Approved</vs-checkbox>\n          </li>\n          <li>\n            <vs-checkbox @input=\"fetchOrders\" v-model=\"isCancelled\">Cancelled</vs-checkbox>\n          </li>\n\n        </ul>\n      </div>\n      <!--[end]  filters -->\n\n      <vs-table ref=\"table\"  @selected=\"showOrderDetails\" v-model=\"selectedOrder\" pagination :max-items=\"100\"   :data=\"orders\">\n\n        <template slot=\"thead\">\n          <vs-th >#</vs-th>\n          <vs-th  >Customer</vs-th>\n          <vs-th  >Address</vs-th>\n          <vs-th  >Sales Person</vs-th>\n          <vs-th  >Status</vs-th>\n          <vs-th  >Date</vs-th>\n         </template>\n\n        <template slot-scope=\"{data}\">\n          <tbody>\n          <vs-tr :data=\"item\" :key=\"rowIndex\" v-for=\"(item, rowIndex) in data\">\n\n            <vs-td>\n              <p class=\"product-name font-medium truncate\">{{ item.id }}</p>\n            </vs-td>\n\n            <vs-td>\n              <p class=\"product-name font-medium truncate\">{{ item.customer ? item.customer.customer_name : \" \" }}</p>\n            </vs-td>\n\n            <vs-td>\n              <p class=\"product-category\">\n                {{ item.place ? item.place.place_name : \" \" }}\n                {{ item.district ? item.district.district_name : \" \" }}\n                {{ item.region ? item.region.region_name : \" \" }}\n              </p>\n            </vs-td>\n\n            <vs-td>\n              <vs-chip color=\"secondary\" v-if=\"item.staff\">\n                <vs-avatar color=\"secondary\" icon-pack=\"feather\" icon=\"icon-user\"/>\n                {{ item.staff.staff_name }}\n              </vs-chip>\n              <vs-chip color=\"grey\" v-else> No Salesman</vs-chip>\n            </vs-td>\n\n            <vs-td>\n              <span v-bind:class=\"getStatusColor(item)\"> {{ item.order_status }}</span>\n            </vs-td>\n\n            <vs-td>\n               {{ item.created_at }}\n            </vs-td>\n\n\n\n          </vs-tr>\n          </tbody>\n        </template>\n      </vs-table>\n\n    </vs-card>\n    <!-- [end] orders table-->\n\n    <!-- Order Form -->\n    <vs-popup @close=\"closeOrderForm()\" fullscreen title=\"New Order\" :active.sync=\"orderFormDialog\">\n\n      <div class=\"md:px-6\">\n\n        <!-- Content Row -->\n        <div class=\"vx-row\">\n\n          <!--customer info -->\n          <div class=\"vx-col md:w-1/3 w-1/4\">\n\n            <!--Customer -->\n            <div class=\"mt-4 mb-5\">\n              <!-- customer -->\n              <h3>Customer</h3>\n              <vs-input v-if=\"!selectedOrderCustomer\" v-model=\"customerQuery\" class=\"mt-5 w-full\" name=\"location\"\n                        v-validate=\"'required'\"/>\n\n              <!-- customers results -->\n              <div v-for=\"(customer,index) in customers\" :key=\"index\"\n                   @click=\"pickCustomer(customer)\" class=\"location-item px-2 py-2 rounded mt-4\">\n                <ul>\n                  <li>{{ customer.customer_name }} {{ customer.email }}</li>\n                  <li>{{ customer.phone_number_1 }} {{ customer.phone_number_2 }}</li>\n                  <li>\n                    {{ customer.region ? customer.region.region_name : \" \" }}\n                    {{ customer.district ? customer.district.distrcit_name : \" \" }}\n                    {{ customer.place ? customer.place.place_name : \" \" }}\n                  </li>\n                </ul>\n              </div>\n\n              <!-- selectedOrder customer -->\n              <div class=\"selectedOrder-address px-2 py-2 rounded mt-4\" v-if=\"selectedOrderCustomer\">\n                <div class=\"flex flex-wrap items-center\">\n                  <div class=\"flex-grow\">\n                    {{ selectedOrderCustomer.customer_name }}\n                  </div>\n                  <vs-button @click=\"removeCustomer()\" color=\"danger\" type=\"flat\" icon-pack=\"feather\"\n                             icon=\"icon-x\"></vs-button>\n                </div>\n              </div>\n            </div>\n\n            <!-- Delivery Address -->\n            <div class=\"mt-4 mb-5\">\n              <h3>Delivery Address</h3>\n\n              <vs-input v-if=\"!selectedOrderAddress\" v-model=\"locationQuery\" class=\"mt-5 w-full\" name=\"location\"\n                        v-validate=\"'required'\"/>\n              <span class=\"text-danger text-sm\" v-show=\"errors.has('location')\">{{ errors.first('item-name') }}</span>\n\n              <!-- Address result -->\n              <div v-for=\"(address,index) in addresses\" :key=\"index\"\n                   @click=\"pickAddress(address)\" class=\"location-item px-2 py-2 rounded mt-4\">\n                <ul>\n                  <li>{{ address.location_name }}</li>\n                </ul>\n              </div>\n\n              <!-- selectedOrder address -->\n              <div class=\"selectedOrder-address px-2 py-2 rounded mt-4\" v-if=\"selectedOrderAddress\">\n                <div class=\"flex flex-wrap items-center\">\n                  <div class=\"flex-grow\">\n                    {{ selectedOrderAddress.location_name }}\n                  </div>\n                  <vs-button @click=\"removeAddress()\" color=\"danger\" type=\"flat\" icon-pack=\"feather\"\n                             icon=\"icon-x\"></vs-button>\n                </div>\n              </div>\n\n            </div>\n            <!-- [end] Delivery Address -->\n\n          </div>\n\n          <!--product picker -->\n          <div class=\"vx-col md:w-1/3 w-1/4\">\n\n            <div class=\"mx-6 px-6\">\n              <h3>Pick Product</h3>\n              <!-- Product -->\n              <div class=\"mt-4 mb-5\">\n                <label class=\"vs-input--label\">Product</label>\n                <v-select @input=\"fetchProductVariants()\" v-model=\"selectedOrderProduct\" :clearable=\"false\"\n                          :options=\"products\" v-validate=\"'required'\" name=\"Product\" label=\"product_name\"\n                          placeholder=\"Select\">\n                </v-select>\n                <span class=\"text-danger text-sm\" v-show=\"errors.has('Product')\">{{ errors.first('Product') }}</span>\n              </div>\n\n              <!-- Product Variant-->\n              <div class=\"mt-4 mb-5\">\n                <label class=\"vs-input--label\">Product Variant</label>\n                <v-select v-model=\"selectedOrderProductVariant\" :clearable=\"false\" :options=\"productVariants\"\n                          v-validate=\"'required'\" name=\"Variant\" label=\"variant_name\"\n                          placeholder=\"Select\">\n                </v-select>\n                <span class=\"text-danger text-sm\" v-show=\"errors.has('Variant')\">{{ errors.first('Variant') }}</span>\n              </div>\n\n              <div class=\"mt-4 mb-5\">\n                <vs-input class=\"w-full mt-4\" label=\"Quantity\" v-model=\"quantity\"\n                          v-validate=\"'required'\" name=\"quantity\"/>\n                <span class=\"text-danger text-sm\" v-show=\"errors.has('quantity')\">\n                   {{ errors.first('quantity') }} </span>\n              </div>\n\n\n              <div v-if=\"selectedOrderProduct && selectedOrderProductVariant && quantity>0\">\n                <vs-button ref=\"saveButton\" @click=\"addProductToCart()\" color=\"secondary\" class=\"mr-4 mb-4\">\n                  Add to cart\n                </vs-button>\n              </div>\n            </div>\n\n          </div>\n          <!-- [end] product picker -->\n\n          <!-- Cart contents -->\n          <div class=\"vx-col md:w-1/3 w-1/4\">\n            <h3>Cart</h3>\n            <div class=\"category-item\" v-for=\"(cartProduct, index) in cartProducts\" :key=\"index\">\n              <vs-card class=\"my-6\">\n                <div class=\"flex flex-wrap\">\n                  <p class=\"mt-1 flex-grow\">\n                    {{ cartProduct.product.product_name }}\n                    {{ cartProduct.productVariant.variant_name }},\n                    QTY: {{ cartProduct.quantity }}\n                  </p>\n                  <vs-button type=\"border\" color=\"danger\" @click=\"removeFromCart(index)\"\n                             radius icon=\"close\" size=\"small\"></vs-button>\n                </div>\n              </vs-card>\n            </div>\n\n            <div v-if=\"cartProducts.length>0\">\n              <vs-button ref=\"saveButton\" @click=\"submitOrder()\" color=\"success\" class=\"mr-4 mb-4\">\n                Submit Order\n              </vs-button>\n            </div>\n          </div>\n          <!-- [end] Cart contents -->\n\n        </div>\n\n        <div class=\"vx-row mt-12\">\n          <div class=\"vx-col w-full\">\n            <div class=\"flex items-start flex-col sm:flex-row\">\n              <!-- <vs-avatar :src=\"data.avatar\" size=\"80px\" class=\"mr-4\" /> -->\n\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </vs-popup>\n    <!-- [end] Order Form -->\n\n    <!-- Order details -->\n    <vs-popup @close=\"closeOrderDetails()\" fullscreen title=\"Order Details\" :active.sync=\"orderDetailsVisible\">\n      <div style=\"min-height: 100vh;\">\n        <div class=\"vx-row\">\n\n          <!-- Customer info -->\n          <div class=\"vx-col md:w-1/3\">\n            <div class=\"mb-6\">\n              <span class=\"font-bold\">Customer</span>\n            </div>\n            <div>\n              <table>\n                <tr>\n                  <td class=\"pr-6\">Name</td>\n                  <td>{{ selectedOrder.customer ? selectedOrder.customer.customer_name : \"No Customer\" }}</td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Phone</td>\n                  <td>\n                    {{ selectedOrder.customer ? selectedOrder.customer.phone_number_1 : \"No Phone\" }}\n                    {{ selectedOrder.customer ? selectedOrder.customer.phone_number_2 : \"\" }}\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Email</td>\n                  <td>\n                    {{ selectedOrder.customer ? selectedOrder.customer.email : \"Email\" }}\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Address</td>\n                  <td>\n                    {{ selectedOrder.place ? selectedOrder.place.place_name : \" \" }}\n                    {{ selectedOrder.district ? selectedOrder.district.district_name : \" \" }}\n                    {{ selectedOrder.region ? selectedOrder.region.region_name : \" \" }}\n                  </td>\n                </tr>\n              </table>\n            </div>\n\n            <vs-button v-if=\"!(selectedOrder.is_cancelled)\" class=\"mt-12\" @click=\"rejectOrder()\" color=\"danger\"> Cancel Order</vs-button>\n          </div>\n\n          <!-- Ordered product -->\n          <div class=\"vx-col md:w-1/3 \" v-if=\"selectedOrder.order_products\">\n            <div class=\"mb-6\">\n              <span class=\"font-bold\">Ordered Products</span>\n            </div>\n\n            <vx-card class=\"overflow-hidden mb-6\"\n                     v-for=\"(orderProduct,index) in selectedOrder.order_products\">\n              <div slot=\"no-body\">\n                <div class=\"p-6 flex justify-between flex-row-reverse items-center\">\n                  <feather-icon :icon=\"`PackageIcon`\" class=\"p-3 inline-flex rounded-full text-primary\"\n                                :style=\"{background: `rgba(var(--vs-primary),.15)`}\"></feather-icon>\n                  <div class=\"truncate\">\n                    <h3 class=\"mb-1 font-bold\">\n                      {{ orderProduct.product ? orderProduct.product.product_name : \"\" }}\n                      {{ orderProduct.variant ? orderProduct.variant.variant_name : \" \" }}\n                    </h3>\n                    <ul>\n                      <li>Quantity {{ orderProduct.ordered_quantity }}</li>\n                      <li>Delivered: {{ orderProduct.delivered_quantity }}</li>\n                      <li>@TSH{{ orderProduct.selling_price }}</li>\n                    </ul>\n                  </div>\n                </div>\n\n              </div>\n            </vx-card>\n\n          </div>\n\n          <!-- Sales person -->\n          <div class=\"vx-col md:w-1/3 \" v-if=\"selectedOrder.order_products\">\n            <div class=\"mb-6\">\n              <span class=\"font-bold\">Sales Person</span>\n            </div>\n            <table>\n              <tr>\n                <td class=\"pr-6\">Name</td>\n                <td>{{ selectedOrder.staff ? selectedOrder.staff.staff_name : \"No sales person\" }}</td>\n              </tr>\n\n              <tr>\n                <td class=\"pr-6\">Phone</td>\n                <td> {{ selectedOrder.staff ? selectedOrder.staff.phone_number : \"No Phone\" }}</td>\n              </tr>\n            </table>\n\n            <div class=\"mt-4 mb-5\">\n              <label class=\"vs-input--label\">Update Sales Person</label>\n              <v-select @input=\"setSalesPerson()\" v-model=\"selectedStaff\" :clearable=\"false\"\n                        :options=\"availableStaff\" v-validate=\"'required'\" name=\"Staff\" label=\"staff_name\"\n                        placeholder=\"Select\">\n              </v-select>\n              <span class=\"text-danger text-sm\" v-show=\"errors.has('Staff')\">{{ errors.first('Staff') }}</span>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </vs-popup>\n    <!-- [end] Order details -->\n\n    <!-- Cancel Form -->\n    <vs-prompt title=\"Cancellation Reason\" :accept-text=\"`Continue`\" :cancel-text=\"`Cancel`\"\n               @cancel=\"cancellationReason=null\" color=\"secondary\"\n               @accept=\"rejectOrder()\"\n               :active.sync=\"cancellationForm\">\n      <div>\n        <vs-input placeholder=\"Reason\"  v-model=\"cancellationReason\" class=\"mt-3 w-full\"/>\n      </div>\n    </vs-prompt>\n    <!-- [end] Cancel Form -->\n\n  </div>\n</template>\n\n<script>\nimport axios from \"@/axios\";\nimport vSelect from 'vue-select'\nimport {handle} from \"@/http/handler\";\nimport Table from \"@/views/ui-elements/table/Table\";\n\nexport default {\n  components: {\n    Table,\n    vSelect\n  },\n\n  data() {\n    return {\n      selectedOrder: {},\n      orders: [],\n      orderDetailsVisible: false,\n\n      itemsPerPage: 4,\n      isMounted: false,\n\n      // Data Sidebar\n      showOrderFormSidebar: false,\n      sidebarData: {},\n\n      selectedOrderRegionId: {\"id\": null, \"region_name\": \"All Regions\"},\n      availableRegions: [],\n\n      orderFormDialog: false,\n      cartProducts: [],\n      quantity: 1,\n      selectedOrderProduct: null,\n      selectedOrderProductVariant: null,\n\n      products: [],\n      productVariants: [],\n\n      customerQuery: '',\n      customers: [],\n      selectedOrderCustomer: null,\n\n      locationQuery: '',\n      addressesRawResults: [],\n      selectedOrderAddress: null,\n\n      availableStaff: [],\n      selectedStaff: {},\n\n      cancellationReason: '',\n      cancellationForm: false,\n\n      /*** filtering **/\n      isApproved : false,\n      isCancelled : false,\n      orderChannel: { text:'All Sources', value: 0 },\n      orderChannelsOptions: [\n        { text:'All Sources', value: 0 },\n        { text:'My Orders', value: 1 },\n        { text:'Customer App', value: 2 },\n        { text:'From Sales People', value: 3 },\n        { text:'Call Center', value: 4 }\n      ]\n\n    }\n  },\n\n  watch: {\n\n    locationQuery(query) {\n      this.searchLocations();\n    },\n    customerQuery(query) {\n      this.searchCustomer();\n    },\n    isApproved (newValue){\n      if(newValue===true){\n        this.isCancelled = false;\n      }\n      this.fetchOrders();\n    },\n    isCancelled(newValue){\n      if(newValue===true){\n        this.isApproved = false;\n      }\n      this.fetchOrders();\n    }\n  },\n\n  computed: {\n    currentPage() {\n      if (this.isMounted) {\n        return this.$refs.table.currentx\n      }\n      return 0\n    },\n\n    addresses() {\n      return this.addressesRawResults.map(function (resultItem) {\n\n        let location = {};\n\n\n        if (resultItem.type === \"places\") {\n          location.location_name = resultItem.searchable.place_name\n          location.place_id = resultItem.searchable.id\n        }\n        if (resultItem.type === \"districts\") {\n          location.location_name = resultItem.searchable.district_name\n          location.district_id = resultItem.searchable.id\n        }\n        if (resultItem.type === \"regions\") {\n          location.location_name = resultItem.searchable.region_name\n          location.region_id = resultItem.searchable.id\n        }\n\n\n        if (resultItem.searchable.place) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.district.district_name;\n          location.place_id = resultItem.searchable.id;\n        }\n\n        if (resultItem.searchable.district) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.district.district_name;\n          location.district_id = resultItem.searchable.district.id;\n        }\n\n        if (resultItem.searchable.region) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.region.region_name;\n          location.region_id = resultItem.searchable.region.id;\n        }\n\n        if (resultItem.searchable.country) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.region.region_name;\n          location.country_id = resultItem.searchable.country.id;\n        }\n\n        return location;\n\n      })\n    }\n\n  },\n\n  methods: {\n\n    fetchOrders() {\n      this.$vs.loading({ color: 'secondary' })\n      console.log(JSON.stringify(this.selectedOrderRegionId));\n\n      this.rawCustomers = [];\n       console.info(\"fetching orders..\");\n       let endpoint = '/resources/sales/orders?region_id='\n        + this.selectedOrderRegionId\n        + `&order_channel=${this.orderChannel.value}`\n        + `&include_approved=${this.isApproved? \"1\" : \"0\"}`\n        + `&include_cancelled=${this.isCancelled? \"1\" : \"0\"}` ;\n\n       console.log(\"endpoint\"+endpoint);\n       axios.get(endpoint)\n        .then((response) => {\n          this.$vs.loading.close();\n          this.orders = response.data.payload.orders.data;\n         }).catch((error) => {\n        this.$vs.loading.close();\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    fetchOrderDetails() {\n      this.$vs.loading({ color: 'secondary' })\n      console.info(\"fetching details..\");\n      axios.get('/resources/sales/order?id=' + this.selectedOrder.id)\n        .then((response) => {\n          this.$vs.loading.close();\n          this.selectedOrder = response.data.payload.order;\n        }).catch((error) => {\n        this.$vs.loading.close();\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    confirmCustomerDeletion(customer) {\n      this.customerInstance = customer;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to remove ' + this.customerInstance.customer_name,\n        accept: this.removeCustomer\n      })\n    },\n\n    showOrderForm(order = {}) {\n      this.orderFormDialog = true;\n      this.orderInstance = order;\n    },\n\n    closeOrderForm() {\n      this.orderFormDialog = false;\n    },\n\n    addProductToCart() {\n      let cartProduct = {\n        product: this.selectedOrderProduct,\n        productVariant: this.selectedOrderProductVariant,\n        quantity: this.quantity\n      };\n\n      this.selectedOrderProduct = null;\n      this.selectedOrderProductVariant = null;\n      this.quantity = 1;\n\n      this.cartProducts.push(cartProduct)\n    },\n\n    removeFromCart(index) {\n      console.log(index)\n      delete this.cartProducts.splice(index, 1);\n    },\n\n    submitOrder() {\n      if (!this.selectedOrderCustomer) {\n        this.sadlyNotify(\"Select customer\")\n        return;\n      }\n      if (!this.selectedOrderAddress) {\n        this.sadlyNotify(\"Select address\")\n        return;\n      }\n\n      let variants = this.cartProducts.map(function (cartItem) {\n        return {\n          id: cartItem.productVariant.id,\n          quantity: cartItem.quantity\n        }\n      });\n\n      let orderData = {\n        customer_id: this.selectedOrderCustomer.id,\n        region_id: this.selectedOrderAddress.region_id,\n        district_id: this.selectedOrderAddress.district_id,\n        place_id: this.selectedOrderAddress.place_id,\n        product_variants: variants\n      };\n      console.log(JSON.stringify(orderData))\n\n      this.$vs.loading({ color: 'secondary' })\n      axios.post('/sales/order/add', orderData)\n        .then((response) => {\n          this.$vs.loading.close();\n          this.closeOrderForm();\n          this.happilyNotify(\"Order Added\");\n          this.selectedOrderCustomer = null; this.selectedOrderAddress = null;\n          this.cartProducts = []; this.customerQuery = null; this.locationQuery = null;\n          this.fetchOrders();\n        }).catch((error) => {\n        this.$vs.loading.close();\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n\n    showOrderDetails() {\n       this.$router.push({ name: \"sales-order-details\", params: { passedOrder: this.selectedOrder }});\n     },\n\n    closeOrderDetails() {\n      this.orderDetailsVisible = false;\n    },\n\n    /**Sales person **/\n    setSalesPerson() {\n      axios.post('/sales/order/staff', {id: this.selectedOrder.id, staff_id: this.selectedStaff.id})\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n            this.happilyNotify(\"Updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    /*** Cancellation **/\n    promptCancellation(){\n      this.cancelletionReason = \"\"\n      this.cancellationForm = true;\n    },\n\n    rejectOrder() {\n      axios.post('/sales/order/cancel', {\n        id: this.selectedOrder.id,\n        cancellationReason: this.cancellationReason,\n      })\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n            this.happilyNotify(\"Updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n\n    /*** Resources **/\n    fetchRegions() {\n      console.info(\"fetching regions..\");\n      console.info(JSON.stringify(this.selectedOrderCustomer));\n      axios.get('/resources/addresses/regions?country_id=1')\n        .then((response) => {\n          this.availableRegions = response.data.payload.regions;\n          this.availableRegions.unshift({\"id\": null, \"region_name\": \"All Regions\"});\n\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    fetchProducts() {\n      axios.get('/resources/products/products?category_id=')\n        .then((response) => {\n          this.products = response.data.payload.products.data;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    fetchProductVariants() {\n      this.productVariants = [];\n      this.selectedOrderProductVariant = null;\n      axios.get('/resources/product/variants?product_id=' + this.selectedOrderProduct.id)\n        .then((response) => {\n          this.productVariants = response.data.payload.product_variants;\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    fetchStaff() {\n      console.info(\"fetching staff..\");\n      console.info(JSON.stringify(this.selectedDepot));\n      axios.post('/resources/staff/get')\n        .then((response) => {\n          this.availableStaff = response.data.payload.staff;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n\n    /*** Customers **/\n    searchCustomer() {\n      console.log(\"Finding customer...\");\n      this.customers = [];\n      if (!(this.customerQuery)) {\n        return;\n      }\n      axios.get('/resources/sales/customer/find?query=' + this.customerQuery)\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n\n    },\n\n    pickCustomer(customer) {\n      this.customers = [];\n      this.selectedOrderCustomer = customer;\n    },\n\n    removeCustomer() {\n      this.selectedOrderCustomer = null;\n    },\n\n    /*** Location **/\n    searchLocations() {\n      this.addressesRawResults = [];\n\n      if (!(this.locationQuery)) {\n        return;\n      }\n      axios.post('/resources/addresses/find', {\n        query: this.locationQuery\n      }).then((response) => {\n        if (response.data.success) {\n          this.addressesRawResults = response.data.payload.addresses;\n        }\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    pickAddress(address) {\n      this.addressesRawResults = [];\n      this.selectedOrderAddress = address;\n    },\n\n    removeAddress() {\n      this.selectedOrderAddress = null;\n    },\n\n\n    /** Helpers **/\n    handleApiError(error) {\n      this.$vs.notify({\n        title: 'Error',\n        text: handle(error),\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: 'danger'\n      })\n    },\n\n    happilyNotify(message) {\n      this.$vs.notify({title: 'Success', text: message, color: 'success'})\n    },\n\n    sadlyNotify(message) {\n      this.$vs.notify({title: 'Error', text: message, color: 'danger', position: 'bottom-left'})\n    },\n\n    getStatusColor(item){\n      if(item.is_cancelled){\n        return 'text-danger';\n      }else if(item.is_delivered){\n        return `text-success`;\n      }else if(item.is_approved){\n        return `text-secondary`;\n      }\n      return 'text-warning'\n    }\n\n  },\n\n\n  created() {\n    this.fetchProducts();\n    this.fetchStaff();\n    this.fetchRegions();\n  },\n  mounted() {\n    this.fetchOrders();\n    this.isMounted = true\n  }\n}\n</script>\n\n\n\n\n\n\n<style lang=\"scss\">\n\n.text-secondary{\n  color: #0d77e4 !important;\n}\n.vs-card--content {\n  font-size: 1em !important;\n}\n\n.location-item {\n  border: 1px solid #e5e5e5;\n  background-color: #dbf4fc;\n}\n\n.selectedOrder-address {\n  border: 1px solid #2a9d8f;\n  background-color: #eaf5f4;\n  color: #2a9d8f;\n}\n\ndiv.location-item:hover {\n  background-color: #b7e9f9;\n  cursor: pointer;\n}\n\n#data-list-list-view {\n  .vs-con-table {\n\n    /*\n      Below media-queries is fix for responsiveness of action buttons\n      Note: If you change action buttons or layout of this page, Please remove below style\n    */\n    @media (max-width: 689px) {\n      .vs-table--search {\n        margin-left: 0;\n        max-width: unset;\n        width: 100%;\n\n        .vs-table--search-input {\n          width: 100%;\n        }\n      }\n    }\n\n    @media (max-width: 461px) {\n      .items-per-page-handler {\n        display: none;\n      }\n    }\n\n    @media (max-width: 341px) {\n      .data-list-btn-container {\n        width: 100%;\n\n        .dd-actions,\n        .btn-add-new {\n          width: 100%;\n          margin-right: 0 !important;\n        }\n      }\n    }\n\n    .product-name {\n      max-width: 23rem;\n    }\n\n    .vs-table--header {\n      display: flex;\n      flex-wrap: wrap;\n      margin-left: 1.5rem;\n      margin-right: 1.5rem;\n\n      > span {\n        display: flex;\n        flex-grow: 1;\n      }\n\n      .vs-table--search {\n        padding-top: 0;\n\n        .vs-table--search-input {\n          padding: 0.9rem 2.5rem;\n          font-size: 1rem;\n\n          & + i {\n            left: 1rem;\n          }\n\n          &:focus + i {\n            left: 1rem;\n          }\n        }\n      }\n    }\n\n    .vs-table {\n      border-collapse: separate;\n      border-spacing: 0 1.3rem;\n      padding: 0 1rem;\n\n      tr {\n        box-shadow: 0 4px 20px 0 rgba(0, 0, 0, .05);\n\n        td {\n          padding: 20px;\n\n          &:first-child {\n            border-top-left-radius: .5rem;\n            border-bottom-left-radius: .5rem;\n          }\n\n          &:last-child {\n            border-top-right-radius: .5rem;\n            border-bottom-right-radius: .5rem;\n          }\n        }\n\n        td.td-check {\n          padding: 20px !important;\n        }\n      }\n    }\n\n    .vs-table--thead {\n      th {\n        padding-top: 0;\n        padding-bottom: 0;\n\n        .vs-table-text {\n          text-transform: uppercase;\n          font-weight: 600;\n        }\n      }\n\n      th.td-check {\n        padding: 0 15px !important;\n      }\n\n      tr {\n        background: none;\n        box-shadow: none;\n      }\n    }\n\n    .vs-table--pagination {\n      justify-content: center;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=bf95864a&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Orders.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}