{"version":3,"sources":["webpack:///./src/views/products/inventory/mobile/MobileStock.vue?b908","webpack:///src/views/products/inventory/mobile/MobileStock.vue","webpack:///./src/views/products/inventory/mobile/MobileStock.vue?d0bb","webpack:///./src/views/products/inventory/mobile/MobileStock.vue?505d","webpack:///./src/views/products/inventory/mobile/MobileStock.vue?2481"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_v","availableDepots","on","$event","fetchStaffWithStock","model","value","callback","$$v","selectedDepot","expression","staffWithStock","showTruckedStock","scopedSlots","_u","key","fn","ref","data","_l","tr","rowIndex","_s","staff_name","truckedProduct","index","_e","product","product_name","remaining_quantity","selectedStaff","slot","productVariantsVisible","closeProductVariantsDialog","staticRenderFns","components","vSelect","productInstance","productFormDialog","placesVisible","placesFormVisible","placeInstance","places","productCategoriesArray","title","id","selected_category","selected_category_id","sub_categories","availableVendors","selectedVendor","assignedCategories","availalbleCategories","selectedCategory","methods","console","log","JSON","stringify","endpoint","axios","error","$router","push","closeProductForm","showProductVariants","fetchSubCategories","fetchAvailableDepots","info","created","mounted","component"],"mappings":"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","file":"js/chunk-a78e406a.33162c94.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex flex-wrap items-center mb-6\"},[_c('div',{staticClass:\"flex-grow\"},[_c('div',{staticClass:\"flex flex-wrap \"},[_c('h2',{staticClass:\"font-bold\",staticStyle:{\"line-height\":\"48px !important\",\"display\":\"flex\",\"vertical-align\":\"middle !important\"}},[_c('vs-icon',{staticClass:\"inline pt-2 mr-4\",attrs:{\"size\":\"32px\",\"icon\":\"local_shipping\"}}),_vm._v(\"\\n          Mobile Stock\\n        \")],1),_c('v-select',{staticClass:\"flex ml-4\",attrs:{\"options\":_vm.availableDepots,\"name\":\"depot_name\",\"label\":\"depot_name\",\"clearable\":false,\"placeholder\":\"Depot\"},on:{\"input\":function($event){return _vm.fetchStaffWithStock()}},model:{value:(_vm.selectedDepot),callback:function ($$v) {_vm.selectedDepot=$$v},expression:\"selectedDepot\"}}),_c('vs-button',{staticClass:\"py-0 ml-4\",attrs:{\"icon\":\"refresh\",\"type\":\"flat\"},on:{\"click\":function($event){return _vm.fetchStaffWithStock()}}},[_vm._v(\"Refresh\")])],1)])]),_c('vx-card',[_c('div',{staticClass:\"px-6 py-6 rounded\"},[_c('vs-table',{attrs:{\"stripe\":\"\",\"data\":_vm.staffWithStock},on:{\"selected\":function($event){return _vm.showTruckedStock()}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,rowIndex){return _c('vs-tr',{key:rowIndex,attrs:{\"data\":tr}},[_c('vs-td',[_vm._v(\"\\n              \"+_vm._s(data[rowIndex].staff_name)+\"\\n            \")]),_vm._l((data[rowIndex].trucked_products),function(truckedProduct,index){return _c('vs-td',{key:index},[(index>=3)?_c('span',[(index===3)?_c('span',[_vm._v(\" More products \")]):_vm._e()]):_c('vs-chip',{attrs:{\"color\":\"#e7f1fc\"}},[_c('span',{staticStyle:{\"color\":\"#084789\"}},[_vm._v(\" \"+_vm._s(truckedProduct.product? truckedProduct.product.product_name : \"\")+\": \")]),_c('span',{staticStyle:{\"color\":\"#084789\",\"font-weight\":\"bold\",\"margin-left\":\"4px\"}},[_vm._v(\"\\n                  \"+_vm._s(truckedProduct.remaining_quantity)+\"\\n                \")])])],1)})],2)})}}]),model:{value:(_vm.selectedStaff),callback:function ($$v) {_vm.selectedStaff=$$v},expression:\"selectedStaff\"}},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"Sales Person \")]),_c('vs-th',[_vm._v(\" Products \")]),_c('vs-th'),_c('vs-th'),_c('vs-th'),_c('vs-th'),_c('vs-th')],1)],2)],1),_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":\"\",\"active\":_vm.productVariantsVisible},on:{\"close\":function($event){return _vm.closeProductVariantsDialog()},\"update:active\":function($event){_vm.productVariantsVisible=$event}}},[_c('div')])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n\n  <div>\n    <!--Categories Filter -->\n    <div class=\"flex flex-wrap items-center mb-6\">\n      <div class=\"flex-grow\">\n        <div class=\"flex flex-wrap \">\n          <h2 class=\"font-bold\"\n              style=\"line-height: 48px !important; display:flex;  vertical-align: middle !important;   \">\n            <vs-icon  class=\"inline pt-2 mr-4\" size=\"32px\" icon=\"local_shipping\"></vs-icon>\n            Mobile Stock\n          </h2>\n\n\n          <v-select class=\"flex ml-4\" @input=\"fetchStaffWithStock()\" v-model=\"selectedDepot\"\n                    :options=\"availableDepots\" name=\"depot_name\" label=\"depot_name\" :clearable=\"false\"\n                    placeholder=\"Depot\"  >\n          </v-select>\n\n          <vs-button icon=\"refresh\" class=\"py-0 ml-4\" type=\"flat\" @click=\"fetchStaffWithStock()\">Refresh</vs-button>\n        </div>\n      </div>\n\n    </div>\n    <!-- [end] Categories Filter -->\n\n    <!-- List -->\n    <vx-card>\n\n      <!-- staffWithStock -->\n      <div style=\"\" class=\"px-6 py-6 rounded\">\n\n\n         <vs-table @selected=\"showTruckedStock()\" stripe   :data=\"staffWithStock\" v-model=\"selectedStaff\">\n\n          <template slot=\"thead\">\n            <vs-th>Sales Person </vs-th>\n            <vs-th> Products </vs-th>\n            <vs-th>  </vs-th>\n            <vs-th> </vs-th>\n            <vs-th> </vs-th>\n            <vs-th> </vs-th>\n            <vs-th> </vs-th>\n          </template>\n\n          <template slot-scope=\"{data}\">\n            <vs-tr :data=\"tr\" :key=\"rowIndex\" v-for=\"(tr, rowIndex) in data\">\n\n              <vs-td>\n                {{ data[rowIndex].staff_name }}\n              </vs-td>\n\n              <vs-td  v-for=\"(truckedProduct,index) in data[rowIndex].trucked_products\" :key=\"index\">\n\n                <span v-if=\"index>=3\"> <span v-if=\"index===3\"> More products </span> </span>\n\n                <vs-chip v-else color=\"#e7f1fc\">\n                  <span  style=\"color: #084789\"> {{ truckedProduct.product? truckedProduct.product.product_name : \"\" }}: </span>\n                  <span style=\"color: #084789; font-weight: bold; margin-left: 4px;\">\n                    {{ truckedProduct.remaining_quantity }}\n                  </span>\n                </vs-chip>\n              </vs-td>\n\n\n            </vs-tr>\n          </template>\n        </vs-table>\n      </div>\n      <!-- [end] staffWithStock -->\n\n\n      <!-- Product Variants -->\n      <vs-popup @close=\"closeProductVariantsDialog()\" fullscreen title=\"\"\n                :active.sync=\"productVariantsVisible\">\n        <div>\n\n        </div>\n      </vs-popup>\n      <!-- [end] Product Variants -->\n\n    </vx-card>\n    <!-- List -->\n\n  </div>\n</template>\n\n<script>\nimport axios from \"@/axios\";\nimport vSelect from 'vue-select';\n\nexport default {\n  components: {\n    vSelect\n   },\n  data() {\n    return {\n\n      staffWithStock: [],\n      productInstance: { id: null, product_name: null, vendor_id: 1, is_published: false, categories_ids: [] },\n      productFormDialog: false,\n\n      placesVisible: false,\n      placesFormVisible: false,\n      placeInstance: {id: null, place_name: null, district_id: null},\n      places: [],\n\n      productCategoriesArray: [{\n        title: \"Main Category\",\n        id: null,\n        selected_category: null,\n        selected_category_id: null,\n        sub_categories: []\n      }],\n      availableVendors: [],\n      selectedVendor: null,\n      assignedCategories: [],\n\n\n      /** Product variants **/\n      productVariantsVisible: false,\n\n      availalbleCategories: [],\n      selectedCategory: {category_name: 'All Categories'},\n\n      availableDepots: [],\n      selectedDepot: { depot_name: \"All Depots\" },\n\n      selectedStaff: {},\n\n\n    }\n  },\n\n  methods: {\n\n    /*** staffWithStock **/\n    fetchStaffWithStock() {\n      this.staffWithStock = [];\n      let endpoint = '/products/inventory/stock/mobile?depot_id=' + this.selectedDepot.id ;\n      console.log(JSON.stringify(this.selectedDepot));\n      console.log(endpoint);\n      axios.get(endpoint)\n        .then((response) => {\n          this.staffWithStock = response.data.payload.staff.data;\n         }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    showTruckedStock(){\n      this.$router.push({name: 'products-inventory-stock-mobile-details', params: { staff : this.selectedStaff}})\n    },\n\n    closeProductForm() {\n      this.productFormDialog = false;\n    },\n\n    /*** Product variants **/\n    closeProductVariantsDialog() {\n      this.productVariantsVisible = false;\n      this.fetchStaffWithStock();\n    },\n\n    showProductVariants(product) {\n      this.productInstance = product;\n      this.productVariantsVisible = true;\n    },\n\n    /*** Categories Resources **/\n    fetchSubCategories(selectedCategory) {\n      axios.get('/resources/products/categories?parent_id=' + selectedCategory.selected_category.id)\n        .then((response) => {\n          const subCategories = response.data.payload.categories;\n          if (subCategories.length > 0) {\n            console.log(\"Has sub categories\");\n            let category = {};\n            category.id = selectedCategory.id;\n            category.title = selectedCategory.selected_category.category_name;\n            category.selected_category_id = selectedCategory.null;\n            category.sub_categories = subCategories;\n            this.productCategoriesArray.push(category);\n          }\n        }).catch((error) => {\n        console.log(error);\n      });\n    },\n\n    /*** Resources **/\n    fetchAvailableDepots() {\n      console.info(\"fetching depots..\");\n\n      axios.get('/resources/assets/depots')\n        .then((response) => {\n          this.availableDepots = response.data.payload.depots.data;\n          this.availableDepots.push(this.selectedDepot);\n          this.selectedDepot = this.availableDepots[0];\n          this.fetchStaffWithStock();\n\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n  },\n\n  created() {\n       this.fetchAvailableDepots();\n  },\n\n  mounted() {\n    //this.fetchStaffWithStock();\n  }\n}\n</script>\n\n<style scoped>\n.category-item {\n  padding: 8px 8px;\n  margin-top: 12px;\n  border: 1px solid #ddb892;\n  background-color: #fcf8f4;\n  border-radius: 4px;\n}\n\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobileStock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobileStock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MobileStock.vue?vue&type=template&id=21b5a274&scoped=true&\"\nimport script from \"./MobileStock.vue?vue&type=script&lang=js&\"\nexport * from \"./MobileStock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MobileStock.vue?vue&type=style&index=0&id=21b5a274&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21b5a274\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MobileStock.vue?vue&type=style&index=0&id=21b5a274&scoped=true&lang=css&\""],"sourceRoot":""}