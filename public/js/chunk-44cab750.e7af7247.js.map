{"version":3,"sources":["webpack:///./src/views/products/inventory/depots/StockDetails.vue?a233","webpack:///./src/views/products/inventory/depots/Stock.vue?8651","webpack:///./src/views/products/inventory/depots/StockDetails.vue?c649","webpack:///src/views/products/inventory/depots/StockDetails.vue","webpack:///./src/views/products/inventory/depots/StockDetails.vue?dc7e","webpack:///./src/views/products/inventory/depots/StockDetails.vue?9921","webpack:///src/views/products/inventory/depots/Stock.vue","webpack:///./src/views/products/inventory/depots/Stock.vue?a276","webpack:///./src/views/products/inventory/depots/Stock.vue?0afe","webpack:///./src/views/products/inventory/depots/Stock.vue?6f63"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_v","availalbleCategories","option","id","on","$event","fetchStock","model","value","callback","$$v","selectedCategory","expression","availableDepots","selectedDepot","products","showVariantsStocks","scopedSlots","_u","key","fn","ref","data","_l","tr","rowIndex","_s","product_name","remaining_quantity","variant","index","_e","variant_name","selectedProduct","slot","productVariantsVisible","closeProductVariantsDialog","productInstance","staticRenderFns","product","selectedVariant","depot","depot_name","directives","name","rawName","depotStockInstance","$set","errors","has","first","closeStockForm","saveReceivedStock","closeStockBatchBreakdown","fetchVariantStock","variantDepotBatches","batch_number","expiry_date","received_at","received_quantity","productsVariants","restocking_quantity","showStockReceptionForm","showStockBatchBreakdown","components","vSelect","props","Object","user_data","rolesAvailable","staffStatus","stockFormVisible","depot_id","product_variant_id","variantBatchesVisible","watch","computed","validateForm","any","methods","closeProductVariants","$emit","console","log","axios","error","JSON","stringify","response","message","time","color","title","text","fetchVariantStockBreakdown","mounted","component","StockDetails","productFormDialog","placesVisible","placesFormVisible","placeInstance","places","productCategoriesArray","selected_category","selected_category_id","sub_categories","availableVendors","selectedVendor","assignedCategories","info","$vs","notify","closeProductForm","showProductVariants","getAvailableCategories","fetchSubCategories","fetchAvailableCategories","fetchAvailableVendors","fetchAvailableDepots","created"],"mappings":"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","file":"js/chunk-44cab750.e7af7247.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockDetails.vue?vue&type=style&index=0&id=932891be&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex flex-wrap items-center mb-6\"},[_c('div',{staticClass:\"flex-grow\"},[_c('div',{staticClass:\"flex flex-wrap \"},[_c('h2',{staticClass:\"font-bold\",staticStyle:{\"line-height\":\"48px !important\",\"display\":\"flex\",\"vertical-align\":\"middle !important\"}},[_c('vs-icon',{staticClass:\"inline pt-2 mr-4\",attrs:{\"size\":\"32px\",\"icon\":\"view_quilt\"}}),_vm._v(\"\\n          Depot Stock\\n        \")],1),_c('v-select',{staticClass:\"flex ml-4\",attrs:{\"options\":_vm.availalbleCategories,\"name\":\"category_name\",\"label\":\"category_name\",\"clearable\":false,\"placeholder\":\"Category\",\"reduce\":function (option) { return option.id; }},on:{\"input\":function($event){return _vm.fetchStock()}},model:{value:(_vm.selectedCategory),callback:function ($$v) {_vm.selectedCategory=$$v},expression:\"selectedCategory\"}}),_c('v-select',{staticClass:\"flex ml-4\",attrs:{\"options\":_vm.availableDepots,\"name\":\"depot_name\",\"label\":\"depot_name\",\"clearable\":false,\"placeholder\":\"Depot\"},on:{\"input\":function($event){return _vm.fetchStock()}},model:{value:(_vm.selectedDepot),callback:function ($$v) {_vm.selectedDepot=$$v},expression:\"selectedDepot\"}}),_c('vs-button',{staticClass:\"py-0 ml-4\",attrs:{\"icon\":\"refresh\",\"type\":\"flat\"},on:{\"click\":function($event){return _vm.fetchStock()}}},[_vm._v(\"Refresh\")])],1)])]),_c('vx-card',[_c('div',{staticClass:\"px-6 py-6 rounded\"},[_c('vs-table',{attrs:{\"stripe\":\"\",\"data\":_vm.products},on:{\"selected\":_vm.showVariantsStocks},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,rowIndex){return _c('vs-tr',{key:rowIndex,attrs:{\"data\":tr}},[_c('vs-td',[_vm._v(\"\\n              \"+_vm._s(data[rowIndex].product_name)+\"\\n            \")]),_c('vs-td',[_c('span',{staticStyle:{\"color\":\"#0d77e4\",\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(data[rowIndex].remaining_quantity)+\" \")])]),_vm._l((data[rowIndex].variants),function(variant,index){return _c('vs-td',{key:index},[(index>=3)?_c('span',[(index===3)?_c('span',[_vm._v(\" More \")]):_vm._e()]):_c('vs-chip',{attrs:{\"color\":\"#e7f1fc\"}},[_c('span',{staticStyle:{\"color\":\"#084789\"}},[_vm._v(\" \"+_vm._s(variant.variant_name)+\": \")]),_c('span',{staticStyle:{\"color\":\"#084789\",\"font-weight\":\"bold\",\"margin-left\":\"4px\"}},[_vm._v(\"\\n                  \"+_vm._s(variant.remaining_quantity)+\"\\n                \")])])],1)})],2)})}}]),model:{value:(_vm.selectedProduct),callback:function ($$v) {_vm.selectedProduct=$$v},expression:\"selectedProduct\"}},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"Product \")]),_c('vs-th',[_vm._v(\" Remaining QTY \")]),_c('vs-th'),_c('vs-th'),_c('vs-th'),_c('vs-th'),_c('vs-th')],1)],2)],1),_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":\"\",\"active\":_vm.productVariantsVisible},on:{\"close\":function($event){return _vm.closeProductVariantsDialog()},\"update:active\":function($event){_vm.productVariantsVisible=$event}}},[_c('div',[_c('stock-details',{attrs:{\"depot\":_vm.selectedDepot,\"product\":_vm.productInstance},on:{\"closeProductVariants\":_vm.closeProductVariantsDialog}})],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"page-user-view\"}},[(_vm.stockFormVisible)?_c('div',{staticClass:\"mb-12 \"},[_c('div',{staticClass:\"flex flex-wrap\"},[_c('div',{staticClass:\"flex-grow\"},[_c('h3',[_vm._v(\"Receive \"+_vm._s(_vm.product.product_name)+\" \"+_vm._s(_vm.selectedVariant.variant_name)+\",\\n          \"),_c('span',{staticStyle:{\"font-weight\":\"lighter\"}},[_vm._v(\"Depot: \"+_vm._s(_vm.depot.depot_name))])])])]),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/3 w-1/4\"},[_c('div',{staticClass:\"variant-form mt-6\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full mt-4\",attrs:{\"label\":\"Received Quantity\",\"name\":\"received_quantity\"},model:{value:(_vm.depotStockInstance.received_quantity),callback:function ($$v) {_vm.$set(_vm.depotStockInstance, \"received_quantity\", $$v)},expression:\"depotStockInstance.received_quantity\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('received_quantity')),expression:\"errors.has('received_quantity')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(\"\\n            \"+_vm._s(_vm.errors.first('received_quantity'))+\"\\n          \")]),_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full mt-4\",attrs:{\"label\":\"Batch Number\",\"name\":\"batch_number\"},model:{value:(_vm.depotStockInstance.batch_number),callback:function ($$v) {_vm.$set(_vm.depotStockInstance, \"batch_number\", $$v)},expression:\"depotStockInstance.batch_number\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('batch_number')),expression:\"errors.has('batch_number')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(\"\\n            \"+_vm._s(_vm.errors.first('batch_number'))+\"\\n          \")]),_c('div',{staticStyle:{\"height\":\"8px\"}}),_c('span',{staticClass:\"text-black text-sm\"},[_vm._v(\" Expiry Date \")]),_c('datepicker',{attrs:{\"placeholder\":\"Expiry Date\"},model:{value:(_vm.depotStockInstance.expiry_date),callback:function ($$v) {_vm.$set(_vm.depotStockInstance, \"expiry_date\", $$v)},expression:\"depotStockInstance.expiry_date\"}}),_c('div',{staticClass:\"flex mt-6\"},[_c('vs-button',{staticClass:\"mr-4 mb-4\",attrs:{\"type\":\"border\",\"color\":\"danger\"},on:{\"click\":function($event){return _vm.closeStockForm()}}},[_vm._v(\"Cancel\\n            \")]),_c('vs-button',{ref:\"saveButton\",staticClass:\"mr-4 mb-4\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.saveReceivedStock()}}},[_vm._v(\"Save\\n            \")])],1)],1)])])]):(_vm.variantBatchesVisible)?_c('div',[_c('div',{staticClass:\"flex flex-wrap items-center mb-6\"},[_c('div',{staticClass:\"flex-grow\"},[_c('div',{staticClass:\"flex flex-wrap \"},[_c('vs-button',{staticClass:\"mt-2 mr-2\",attrs:{\"type\":\"border\",\"radius\":\"\",\"color\":\"danger\",\"icon\":\"close\"},on:{\"click\":function($event){return _vm.closeStockBatchBreakdown()}}}),_c('h2',{staticClass:\"font-bold\",staticStyle:{\"line-height\":\"48px !important\",\"display\":\"flex\",\"vertical-align\":\"middle !important\"}},[_vm._v(\"\\n            Batches\\n          \")]),_c('vs-button',{staticClass:\"py-0 ml-4\",attrs:{\"icon\":\"refresh\",\"type\":\"flat\"},on:{\"click\":function($event){return _vm.fetchVariantStock()}}},[_vm._v(\"Refresh\")])],1)])]),_c('vs-table',{attrs:{\"stripe\":\"\",\"data\":_vm.variantDepotBatches},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,rowIndex){return _c('vs-tr',{key:rowIndex},[_c('vs-td',[_vm._v(\" \"+_vm._s(data[rowIndex].batch_number))]),_c('vs-td',[_vm._v(\" \"+_vm._s(data[rowIndex].expiry_date))]),_c('vs-td',[_vm._v(\" \"+_vm._s(data[rowIndex].received_at))]),_c('vs-td',[_vm._v(\" \"+_vm._s(data[rowIndex].received_quantity))]),_c('vs-td',[_vm._v(\" \"+_vm._s(data[rowIndex].remaining_quantity))]),_c('vs-td',[_c('vs-progress',{attrs:{\"height\":12,\"percent\":(data[rowIndex].remaining_quantity/((data[rowIndex].received_quantity)))*100,\"color\":\"secondary\"}})],1)],1)})}}])},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"Batch #\")]),_c('vs-th',[_vm._v(\"Expiry Date\")]),_c('vs-th',[_vm._v(\"Reception Date\")]),_c('vs-th',[_vm._v(\"Received QTY\")]),_c('vs-th',[_vm._v(\"Remaining QTY\")]),_c('vs-th',[_vm._v(\"Ratio\")]),_c('vs-th')],1)],2)],1):_c('div',[_c('div',{staticClass:\"flex flex-wrap items-center mb-6\"},[_c('div',{staticClass:\"flex-grow\"},[_c('div',{staticClass:\"flex flex-wrap \"},[_c('h2',{staticClass:\"font-bold\",staticStyle:{\"line-height\":\"48px !important\",\"display\":\"flex\",\"vertical-align\":\"middle !important\"}},[_vm._v(\"\\n           \"+_vm._s(_vm.product.product_name)+\"  \"),_c('span',{staticStyle:{\"font-weight\":\"lighter\",\"margin-left\":\"1em\"}},[_vm._v(\" Stocks\")])]),_c('vs-button',{staticClass:\"py-0 ml-4\",attrs:{\"icon\":\"refresh\",\"type\":\"flat\"},on:{\"click\":function($event){return _vm.fetchVariantStock()}}},[_vm._v(\"Refresh\")])],1)])]),_c('vs-table',{attrs:{\"stripe\":\"\",\"data\":_vm.productsVariants},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,rowIndex){return _c('vs-tr',{key:rowIndex},[_c('vs-td',[_vm._v(\" \"+_vm._s(data[rowIndex].variant_name))]),_c('vs-td',[_vm._v(\" \"+_vm._s(data[rowIndex].remaining_quantity))]),_c('vs-td',[(data[rowIndex].remaining_quantity>0)?_c('vs-chip',{attrs:{\"type\":\"border\",\"color\":\"success\"}},[_vm._v(\"In Stock\")]):_c('vs-chip',{attrs:{\"color\":\"danger\"}},[_vm._v(\"Out Of Stock\")])],1),_c('vs-td',[_c('vs-progress',{attrs:{\"height\":12,\"percent\":(data[rowIndex].remaining_quantity/(2*(data[rowIndex].restocking_quantity)))*100,\"color\":data[rowIndex].remaining_quantity <= data[rowIndex].restocking_quantity? \"danger\": \"success\"}})],1),_c('vs-td',{attrs:{\"data\":data[rowIndex].id}},[_c('vs-button',{staticClass:\"mr-12\",attrs:{\"color\":\"secondary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showStockReceptionForm(data[rowIndex])}}},[_vm._v(\"Receive\\n            \")]),_c('vs-button',{staticClass:\"mr-4\",attrs:{\"type\":\"border\",\"color\":\"secondary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showStockBatchBreakdown(data[rowIndex])}}},[_vm._v(\"Breakdown\\n            \")])],1)],1)})}}])},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"Variant Name\")]),_c('vs-th',[_vm._v(\"Remaining quantity\")]),_c('vs-th',[_vm._v(\"Status\")]),_c('vs-th',[_vm._v(\"Level\")]),_c('vs-th')],1)],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"page-user-view\">\n\n    <!-- Variant form -->\n    <div v-if=\"stockFormVisible\" class=\"mb-12 \">\n\n      <div class=\"flex flex-wrap\">\n\n        <div class=\"flex-grow\">\n          <h3>Receive {{ product.product_name }} {{ selectedVariant.variant_name }},\n            <span style=\"font-weight: lighter\">Depot: {{ depot.depot_name}}</span>\n          </h3>\n        </div>\n\n      </div>\n\n      <div class=\"vx-row\">\n\n        <div class=\"vx-col md:w-1/3 w-1/4\">\n\n          <div class=\"variant-form mt-6\">\n            <!-- Variant Name -->\n            <vs-input class=\"w-full mt-4\" label=\"Received Quantity\" v-model=\"depotStockInstance.received_quantity\"\n                      v-validate=\"'required'\" name=\"received_quantity\"/>\n            <span class=\"text-danger text-sm\" v-show=\"errors.has('received_quantity')\">\n              {{ errors.first('received_quantity') }}\n            </span>\n\n            <!-- Batch Number  -->\n            <vs-input class=\"w-full mt-4\" label=\"Batch Number\"\n                      v-model=\"depotStockInstance.batch_number\"\n                      v-validate=\"'required'\" name=\"batch_number\"/>\n            <span class=\"text-danger text-sm\" v-show=\"errors.has('batch_number')\">\n              {{ errors.first('batch_number') }}\n            </span>\n\n            <div style=\"height: 8px\"></div>\n            <span class=\"text-black text-sm\"> Expiry Date </span>\n            <datepicker placeholder=\"Expiry Date\" v-model=\"depotStockInstance.expiry_date\"></datepicker>\n\n            <div class=\"flex mt-6\">\n              <vs-button type=\"border\" @click=\"closeStockForm()\" color=\"danger\" class=\"mr-4 mb-4\">Cancel\n              </vs-button>\n\n              <vs-button ref=\"saveButton\" @click=\"saveReceivedStock()\" color=\"success\" class=\"mr-4 mb-4\">Save\n              </vs-button>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n\n    </div>\n    <!-- [end] Variant form -->\n\n\n    <!-- Batches breakdown -->\n    <div v-else-if=\"variantBatchesVisible\">\n      <!-- Heading -->\n      <div class=\"flex flex-wrap items-center mb-6\">\n        <div class=\"flex-grow\">\n          <div class=\"flex flex-wrap \">\n            <vs-button type=\"border\" radius color=\"danger\" icon=\"close\" class=\"mt-2 mr-2\"\n                       @click=\"closeStockBatchBreakdown()\"></vs-button>\n            <h2 class=\"font-bold\"\n                style=\"line-height: 48px !important; display:flex;  vertical-align: middle !important;   \">\n              Batches\n            </h2>\n\n            <vs-button icon=\"refresh\" class=\"py-0 ml-4\" type=\"flat\" @click=\"fetchVariantStock()\">Refresh</vs-button>\n          </div>\n\n        </div>\n\n      </div>\n      <!-- [end] Heading -->\n\n      <!-- Variant List -->\n      <vs-table stripe :data=\"variantDepotBatches\">\n\n        <template slot=\"thead\">\n          <vs-th>Batch #</vs-th>\n          <vs-th>Expiry Date</vs-th>\n          <vs-th>Reception Date</vs-th>\n          <vs-th>Received QTY</vs-th>\n          <vs-th>Remaining QTY</vs-th>\n          <vs-th>Ratio</vs-th>\n          <vs-th></vs-th>\n        </template>\n\n        <template slot-scope=\"{data}\">\n          <vs-tr :key=\"rowIndex\" v-for=\"(tr, rowIndex) in data\">\n\n            <vs-td  > {{ data[rowIndex].batch_number }}</vs-td>\n            <vs-td  > {{ data[rowIndex].expiry_date }}</vs-td>\n            <vs-td  > {{ data[rowIndex].received_at }}</vs-td>\n            <vs-td > {{ data[rowIndex].received_quantity }}</vs-td>\n            <vs-td > {{ data[rowIndex].remaining_quantity }}</vs-td>\n\n            <vs-td>\n              <vs-progress :height=\"12\" :percent=\"(data[rowIndex].remaining_quantity/((data[rowIndex].received_quantity)))*100\"\n                           color=\"secondary\">\n              </vs-progress>\n            </vs-td>\n\n          </vs-tr>\n        </template>\n      </vs-table>\n      <!-- [End] Variant List -->\n    </div>\n    <!-- [end] Batches breakdown -->\n\n    <!-- Variant stocks -->\n    <div v-else>\n      <!-- Heading -->\n      <div class=\"flex flex-wrap items-center mb-6\">\n        <div class=\"flex-grow\">\n          <div class=\"flex flex-wrap \">\n            <h2 class=\"font-bold\"\n                style=\"line-height: 48px !important; display:flex;  vertical-align: middle !important;   \">\n             {{ product.product_name }}  <span style=\"font-weight: lighter; margin-left: 1em\"> Stocks</span>\n            </h2>\n\n            <vs-button icon=\"refresh\" class=\"py-0 ml-4\" type=\"flat\" @click=\"fetchVariantStock()\">Refresh</vs-button>\n          </div>\n\n        </div>\n\n      </div>\n      <!-- [end] Heading -->\n\n      <!-- Variant List -->\n      <vs-table stripe :data=\"productsVariants\">\n\n        <template slot=\"thead\">\n          <vs-th>Variant Name</vs-th>\n          <vs-th>Remaining quantity</vs-th>\n           <vs-th>Status</vs-th>\n          <vs-th>Level</vs-th>\n          <vs-th></vs-th>\n        </template>\n\n        <template slot-scope=\"{data}\">\n          <vs-tr :key=\"rowIndex\" v-for=\"(tr, rowIndex) in data\">\n\n            <vs-td  > {{ data[rowIndex].variant_name }}</vs-td>\n            <vs-td > {{ data[rowIndex].remaining_quantity }}</vs-td>\n\n            <vs-td>\n              <vs-chip type=\"border\" v-if=\"data[rowIndex].remaining_quantity>0\" color=\"success\">In Stock</vs-chip>\n              <vs-chip v-else color=\"danger\">Out Of Stock</vs-chip>\n            </vs-td>\n\n            <vs-td>\n              <vs-progress :height=\"12\" :percent=\"(data[rowIndex].remaining_quantity/(2*(data[rowIndex].restocking_quantity)))*100\"\n                           :color=\"data[rowIndex].remaining_quantity <= data[rowIndex].restocking_quantity? `danger`: `success`\">\n              </vs-progress>\n            </vs-td>\n\n            <vs-td :data=\"data[rowIndex].id\">\n\n              <vs-button color=\"secondary\" class=\"mr-12\" size=\"small\"\n                         @click=\"showStockReceptionForm(data[rowIndex])\">Receive\n              </vs-button>\n\n              <vs-button type=\"border\" color=\"secondary\" class=\"mr-4\" size=\"small\"\n                         @click=\"showStockBatchBreakdown(data[rowIndex])\">Breakdown\n              </vs-button>\n\n            </vs-td>\n\n          </vs-tr>\n        </template>\n      </vs-table>\n      <!-- [End] Variant List -->\n    </div>\n    <!-- [end] Variant stocks -->\n\n\n  </div>\n</template>\n\n<script>\n\nimport axios from \"@/axios\";\nimport vSelect from 'vue-select'\nimport Datepicker from 'vuejs-datepicker';\n\nexport default {\n  components: {\n    vSelect,Datepicker\n  },\n  props: {\n    product: Object,\n    depot: Object,\n  },\n  data() {\n    return {\n      user_data: null,\n      productsVariants: [],\n      rolesAvailable: [],\n      selectedVariant: {},\n      staffStatus: ['Active', 'Suspended'],\n\n      stockFormVisible: false,\n      depotStockInstance: {\n        depot_id: null,\n        product_variant_id: null,\n        received_quantity: null,\n        batch_number: null,\n        expiry_date: null\n      },\n\n      variantBatchesVisible: false,\n      variantDepotBatches: []\n\n    }\n  },\n  watch: {\n    product: function (newVal) {\n      this.fetchVariantStock();\n    }\n  },\n\n  computed: {\n    validateForm() {\n      return !this.errors.any()\n    }\n  },\n\n  methods: {\n    closeProductVariants() {\n      this.$emit('closeProductVariants');\n    },\n\n    fetchVariantStock() {\n      console.log(\"Fetching variants stock..\");\n      let endpoint = '/products/inventory/stock/product?product_id=' + this.product.id\n                      +\"&depot_id=\"+ this.depot.id;\n      axios.get(endpoint)\n        .then((response) => {\n          this.productsVariants = response.data.success ? response.data.payload.variants : [];\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    showStockReceptionForm(variant = {}) {\n      this.selectedVariant = variant\n      this.stockFormVisible = true;\n    },\n\n    closeStockForm() {\n      this.stockFormVisible = false;\n    },\n\n    saveReceivedStock() {\n\n      this.depotStockInstance.depot_id = this.depot.id;\n      this.depotStockInstance.product_variant_id = this.selectedVariant.id;\n      console.log(JSON.stringify(this.depotStockInstance));\n      let endpoint = '/products/inventory/stock/receive';\n\n      axios.post(endpoint, this.depotStockInstance)\n        .then((response) => {\n          this.stockFormVisible = false;\n          this.depotStockInstance = {};\n          this.fetchVariantStock();\n        }).catch((error) => {\n        let message = \"Something went wrong\";\n        if (error.response) {\n          message = error.response.data.message;\n        }\n\n        this.$vs.loading.close();\n        this.$vs.notify({\n          time: 12000,\n          color: 'danger',\n          title: 'Failed',\n          text: message\n        })\n        console.log(error)\n      })\n    },\n\n    /** Breakdown **/\n    fetchVariantStockBreakdown() {\n      console.log(\"Fetching variants stock breakdown..\");\n      let endpoint = 'products/inventory/stock/variant/breakdown?variant_id=' + this.selectedVariant.id ;\n      axios.get(endpoint)\n        .then((response) => {\n          this.variantDepotBatches = response.data.success ? response.data.payload.depot_products : [];\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    showStockBatchBreakdown(variant = {}) {\n      this.selectedVariant = variant\n      this.variantBatchesVisible = true;\n      this.fetchVariantStockBreakdown();\n    },\n\n    closeStockBatchBreakdown() {\n      this.variantBatchesVisible = false;\n    },\n\n    /** Resources **/\n\n  },\n\n  mounted() {\n    this.fetchVariantStock();\n  }\n}\n\n</script>\n\n<style scoped>\n.variant-form {\n  border-radius: 6px;\n  padding: 32px 16px;\n  border: 1px solid #b2c2b2;\n  background-color: #fffaf5;\n}\n</style>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StockDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StockDetails.vue?vue&type=template&id=932891be&scoped=true&\"\nimport script from \"./StockDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./StockDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StockDetails.vue?vue&type=style&index=0&id=932891be&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"932891be\",\n  null\n  \n)\n\nexport default component.exports","\n<template>\n\n  <div>\n    <!--Categories Filter -->\n    <div class=\"flex flex-wrap items-center mb-6\">\n      <div class=\"flex-grow\">\n        <div class=\"flex flex-wrap \">\n          <h2 class=\"font-bold\"\n              style=\"line-height: 48px !important; display:flex;  vertical-align: middle !important;   \">\n            <vs-icon class=\"inline pt-2 mr-4\" size=\"32px\" icon=\"view_quilt\"></vs-icon>\n            Depot Stock\n          </h2>\n          <v-select class=\"flex ml-4\" @input=\"fetchStock()\" v-model=\"selectedCategory\"\n                    :options=\"availalbleCategories\" name=\"category_name\" label=\"category_name\" :clearable=\"false\"\n                    placeholder=\"Category\" :reduce=\"option => option.id\">\n          </v-select>\n\n          <v-select class=\"flex ml-4\" @input=\"fetchStock()\" v-model=\"selectedDepot\"\n                    :options=\"availableDepots\" name=\"depot_name\" label=\"depot_name\" :clearable=\"false\"\n                    placeholder=\"Depot\"  >\n          </v-select>\n\n          <vs-button icon=\"refresh\" class=\"py-0 ml-4\" type=\"flat\" @click=\"fetchStock()\">Refresh</vs-button>\n        </div>\n      </div>\n\n    </div>\n    <!-- [end] Categories Filter -->\n\n    <!-- List -->\n    <vx-card>\n\n      <!-- Products -->\n      <div style=\"\" class=\"px-6 py-6 rounded\">\n\n\n         <vs-table  @selected=\"showVariantsStocks\" stripe   :data=\"products\" v-model=\"selectedProduct\">\n\n          <template slot=\"thead\">\n            <vs-th>Product </vs-th>\n            <vs-th> Remaining QTY </vs-th>\n            <vs-th>  </vs-th>\n            <vs-th> </vs-th>\n            <vs-th> </vs-th>\n            <vs-th> </vs-th>\n            <vs-th> </vs-th>\n          </template>\n\n          <template slot-scope=\"{data}\">\n            <vs-tr :data=\"tr\" :key=\"rowIndex\" v-for=\"(tr, rowIndex) in data\">\n\n              <vs-td>\n                {{ data[rowIndex].product_name }}\n              </vs-td>\n\n              <vs-td>\n                <span style=\"color: #0d77e4; font-weight: bold\"> {{ data[rowIndex].remaining_quantity }} </span>\n              </vs-td>\n\n              <vs-td  v-for=\"(variant,index) in data[rowIndex].variants\" :key=\"index\">\n                <span v-if=\"index>=3\"> <span v-if=\"index===3\"> More </span> </span>\n                <vs-chip v-else color=\"#e7f1fc\">\n                  <span  style=\"color: #084789\"> {{ variant.variant_name }}: </span>\n                  <span style=\"color: #084789; font-weight: bold; margin-left: 4px;\">\n                    {{ variant.remaining_quantity }}\n                  </span>\n                </vs-chip>\n              </vs-td>\n\n\n            </vs-tr>\n          </template>\n        </vs-table>\n      </div>\n      <!-- [end] Products -->\n\n\n      <!-- Product Variants -->\n      <vs-popup @close=\"closeProductVariantsDialog()\" fullscreen title=\"\"\n                :active.sync=\"productVariantsVisible\">\n        <div>\n          <stock-details @closeProductVariants=\"closeProductVariantsDialog\"\n                         v-bind:depot=\"selectedDepot\"\n                         v-bind:product=\"productInstance\"></stock-details>\n        </div>\n      </vs-popup>\n      <!-- [end] Product Variants -->\n\n    </vx-card>\n    <!-- List -->\n\n  </div>\n</template>\n\n<script>\nimport axios from \"@/axios\";\nimport vSelect from 'vue-select';\nimport StockDetails from \"@/views/products/inventory/depots/StockDetails\";\n\nexport default {\n  components: {\n    vSelect,\n    StockDetails\n  },\n  data() {\n    return {\n\n      products: [],\n      productInstance: { id: null, product_name: null, vendor_id: 1, is_published: false, categories_ids: [] },\n      productFormDialog: false,\n\n      placesVisible: false,\n      placesFormVisible: false,\n      placeInstance: {id: null, place_name: null, district_id: null},\n      places: [],\n\n      productCategoriesArray: [{\n        title: \"Main Category\",\n        id: null,\n        selected_category: null,\n        selected_category_id: null,\n        sub_categories: []\n      }],\n      availableVendors: [],\n      selectedVendor: null,\n      assignedCategories: [],\n\n\n      /** Product variants **/\n      productVariantsVisible: false,\n\n      availalbleCategories: [],\n      selectedCategory: {category_name: 'All Categories'},\n\n      availableDepots: [],\n      selectedDepot: { depot_name: \"All Depots\" },\n\n      selectedProduct: {},\n\n\n    }\n  },\n\n  methods: {\n\n    /*** Products **/\n    fetchStock() {\n      this.products = [];\n      let endpoint = '/products/inventory/stock?category_id=' + this.selectedCategory\n                     +\"&depot_id=\" + this.selectedDepot.id ;\n      axios.get(endpoint)\n        .then((response) => {\n          this.products = response.data.payload.products.data;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    showVariantsStocks( ) {\n      console.info(\"Handling selection...\");\n      if(this.selectedDepot.id==null){\n        this.$vs.notify({ time: 3000, color: 'danger', title: 'No Depot',  text: \"Select depot before selecting product\" });\n        return ;\n      }\n\n      this.productInstance = this.selectedProduct;\n      this.productVariantsVisible = true;\n    },\n\n    closeProductForm() {\n      this.productFormDialog = false;\n    },\n\n    /*** Product variants **/\n    closeProductVariantsDialog() {\n      this.productVariantsVisible = false;\n      this.fetchStock();\n    },\n\n    showProductVariants(product) {\n      this.productInstance = product;\n      this.productVariantsVisible = true;\n    },\n\n    /*** Categories Resources **/\n    getAvailableCategories(categoriesIndex) {\n      let letCatId = this.productCategoriesArray[categoriesIndex].id;\n      axios.get('/resources/products/categories?parent_id=' + letCatId).then((response) => {\n        this.productCategoriesArray[categoriesIndex].sub_categories = response.data.payload.categories;\n      }).catch((error) => {\n        console.log(error);\n      });\n    },\n\n    fetchSubCategories(selectedCategory) {\n      axios.get('/resources/products/categories?parent_id=' + selectedCategory.selected_category.id)\n        .then((response) => {\n          const subCategories = response.data.payload.categories;\n          if (subCategories.length > 0) {\n            console.log(\"Has sub categories\");\n            let category = {};\n            category.id = selectedCategory.id;\n            category.title = selectedCategory.selected_category.category_name;\n            category.selected_category_id = selectedCategory.null;\n            category.sub_categories = subCategories;\n            this.productCategoriesArray.push(category);\n          }\n        }).catch((error) => {\n        console.log(error);\n      });\n    },\n\n    /*** Resources **/\n    fetchAvailableCategories() {\n      axios.get('/resources/products/categories/all')\n        .then((response) => {\n          this.availalbleCategories = response.data.payload.categories;\n          this.availalbleCategories.push(this.selectedCategory);\n\n        }).catch((error) => {\n        console.log(error);\n      });\n    },\n\n    fetchAvailableVendors() {\n      axios.get('/resources/products/vendors/all')\n        .then((response) => {\n          this.availableVendors = response.data.payload.vendors;\n        }).catch((error) => {\n        console.log(error);\n      });\n    },\n\n    fetchAvailableDepots() {\n      console.info(\"fetching depots..\");\n      console.info(JSON.stringify(this.selectedDepot));\n\n      axios.get('/resources/assets/depots')\n        .then((response) => {\n          this.availableDepots = response.data.payload.depots.data;\n          this.availableDepots.push(this.selectedDepot);\n          this.selectedDepot = this.availableDepots[0];\n         }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n  },\n\n  created() {\n    this.getAvailableCategories(0);\n    this.fetchAvailableVendors();\n    this.fetchAvailableCategories();\n    this.fetchAvailableDepots();\n  },\n\n  mounted() {\n    this.fetchStock();\n  }\n}\n</script>\n\n<style scoped>\n.category-item {\n  padding: 8px 8px;\n  margin-top: 12px;\n  border: 1px solid #ddb892;\n  background-color: #fcf8f4;\n  border-radius: 4px;\n}\n\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stock.vue?vue&type=template&id=1aacf2a9&scoped=true&\"\nimport script from \"./Stock.vue?vue&type=script&lang=js&\"\nexport * from \"./Stock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Stock.vue?vue&type=style&index=0&id=1aacf2a9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1aacf2a9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stock.vue?vue&type=style&index=0&id=1aacf2a9&scoped=true&lang=css&\""],"sourceRoot":""}