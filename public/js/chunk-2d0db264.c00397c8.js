(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db264"],{"6f42":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vx-card",[s("div",{staticClass:"flex flex-wrap items-center mb-6"},[s("div",{staticClass:"flex-grow"},[s("div",{staticClass:"flex flex-wrap "},[s("vs-dropdown",{staticClass:"cursor-pointer mr-4",attrs:{"vs-trigger-click":""}},[s("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[s("span",{staticClass:"mr-2"},[t._v("  Tanzania ")]),s("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),s("vs-dropdown-menu",t._l(t.countries,(function(e,i){return s("vs-dropdown-item",{key:i,on:{click:function(s){return t.fetchRegions(e)}}},[s("span",[t._v(t._s(e.name))])])})),1)],1),s("vs-button",{staticClass:"py-0",attrs:{type:"flat"},on:{click:function(e){return t.fetchRegions()}}},[t._v("Refresh")])],1)]),s("vs-button",{attrs:{icon:"add"},on:{click:function(e){return t.showRegionForm()}}},[t._v("Add Region")])],1),s("div",{staticClass:"px-6 py-6 rounded",staticStyle:{border:"1px solid #e5e5e5"}},[s("h4",{staticClass:"mb-4"},[t._v("Regions")]),s("vs-table",{attrs:{stripe:"",data:t.regions},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return t._l(i,(function(e,n){return s("vs-tr",{key:n},[s("vs-td",{attrs:{data:i[n].region_name}},[t._v("\n            "+t._s(i[n].region_name)+"\n          ")]),s("vs-td",{attrs:{data:i[n].created_at}},[t._v("\n            "+t._s(i[n].created_at)+"\n          ")]),s("vs-td",{attrs:{data:i[n].id}},[s("vs-button",{staticClass:"mr-4",attrs:{type:"border",color:"secondary",size:"small"},on:{click:function(e){return t.viewDistricts(i[n])}}},[t._v("Open")]),s("vs-button",{staticClass:"mr-4",attrs:{type:"border",size:"small"},on:{click:function(e){return t.showRegionForm(i[n])}}},[t._v("Edit")]),s("vs-button",{staticClass:"mr-4",attrs:{type:"border",color:"danger",size:"small"},on:{click:function(e){return t.confirmRegionRemoval(i[n])}}},[t._v("Remove")])],1)],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v("Region Name")]),s("vs-th",[t._v("Added")]),s("vs-th",[t._v("Action")])],1)],2)],1),s("vs-prompt",{attrs:{title:"Region Name","accept-text":"Save","cancel-text":"Cancel",color:"secondary",active:t.regionFormDialog},on:{cancel:function(e){t.regionInstance={}},accept:function(e){return t.saveRegion()},"update:active":function(e){t.regionFormDialog=e}}},[s("div",[s("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"Region Name"},model:{value:t.regionInstance.region_name,callback:function(e){t.$set(t.regionInstance,"region_name",e)},expression:"regionInstance.region_name"}})],1)]),s("vs-popup",{attrs:{fullscreen:"",title:"Districts",active:t.districtsVisible},on:{close:function(e){return t.closeDistricts()},"update:active":function(e){t.districtsVisible=e}}},[s("div",{staticClass:"px-6 py-6 rounded",staticStyle:{border:"1px solid #e5e5e5"}},[s("div",{staticClass:"flex flex-wrap mb-4"},[s("h4",{staticClass:"mb-4 mr-6 mt-2"},[t._v(" "+t._s(t.regionInstance.region_name)+" Districts")]),s("div",{staticClass:"flex-grow"},[s("vs-button",{attrs:{icon:"add"},on:{click:function(e){return t.showDistrictForm()}}},[t._v("Add District")])],1)]),s("vs-table",{attrs:{stripe:"",data:t.districts},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return t._l(i,(function(e,n){return s("vs-tr",{key:n},[s("vs-td",{attrs:{data:i[n].district_name}},[t._v("\n              "+t._s(i[n].district_name)+"\n            ")]),s("vs-td",{attrs:{data:i[n].created_at}},[t._v("\n              "+t._s(i[n].created_at)+"\n            ")]),s("vs-td",{attrs:{data:i[n].id}},[s("vs-button",{staticClass:"mr-4",attrs:{type:"border",color:"secondary",size:"small"},on:{click:function(e){return t.viewPlaces(i[n])}}},[t._v("Open")]),s("vs-button",{staticClass:"mr-4",attrs:{type:"border",size:"small"},on:{click:function(e){return t.showDistrictForm(i[n])}}},[t._v("Edit")]),s("vs-button",{staticClass:"mr-4",attrs:{type:"border",color:"danger",size:"small"},on:{click:function(e){return t.confirmDistrictRemoval(i[n])}}},[t._v("Remove")])],1)],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v("District Name")]),s("vs-th",[t._v("Added")]),s("vs-th",[t._v("Action")])],1)],2)],1)]),s("vs-prompt",{attrs:{title:"District","accept-text":"Save","cancel-text":"Cancel",color:"secondary",active:t.districtsFormVisible},on:{cancel:function(e){t.districtInstance={}},accept:function(e){return t.saveDistrict()},"update:active":function(e){t.districtsFormVisible=e}}},[s("div",[s("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"District Name"},model:{value:t.districtInstance.district_name,callback:function(e){t.$set(t.districtInstance,"district_name",e)},expression:"districtInstance.district_name"}})],1)]),s("vs-popup",{attrs:{fullscreen:"",title:"Places",active:t.placesVisible},on:{close:function(e){return t.closePlaces()},"update:active":function(e){t.placesVisible=e}}},[s("div",{staticClass:"px-6 py-6 rounded",staticStyle:{border:"1px solid #e5e5e5"}},[s("div",{staticClass:"flex flex-wrap mb-4"},[s("h4",{staticClass:"mb-4 mr-6 mt-2"},[t._v(" "+t._s(t.districtInstance.district_name)+" Places")]),s("div",{staticClass:"flex-grow"},[s("vs-button",{attrs:{icon:"add"},on:{click:function(e){return t.showPlaceForm()}}},[t._v("Add Place")])],1)]),s("vs-table",{attrs:{stripe:"",data:t.places},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return t._l(i,(function(e,n){return s("vs-tr",{key:n},[s("vs-td",{attrs:{data:i[n].region_name}},[t._v("\n              "+t._s(i[n].place_name)+"\n            ")]),s("vs-td",{attrs:{data:i[n].created_at}},[t._v("\n              "+t._s(i[n].created_at)+"\n            ")]),s("vs-td",{attrs:{data:i[n].id}},[s("vs-button",{staticClass:"mr-4",attrs:{type:"border",size:"small"},on:{click:function(e){return t.showPlaceForm(i[n])}}},[t._v("Edit")]),s("vs-button",{staticClass:"mr-4",attrs:{type:"border",color:"danger",size:"small"},on:{click:function(e){return t.confirmPlaceRemoval(i[n])}}},[t._v("Remove")])],1)],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v("Place Name")]),s("vs-th",[t._v("Added")]),s("vs-th",[t._v("Action")])],1)],2)],1)]),s("vs-prompt",{attrs:{title:"Place","accept-text":"Save","cancel-text":"Cancel",color:"secondary",active:t.placesFormVisible},on:{cancel:function(e){t.placeInstance={}},accept:function(e){return t.savePlace()},"update:active":function(e){t.placesFormVisible=e}}},[s("div",[s("vs-input",{staticClass:"mt-3 w-full",attrs:{placeholder:"Place Name"},model:{value:t.placeInstance.place_name,callback:function(e){t.$set(t.placeInstance,"place_name",e)},expression:"placeInstance.place_name"}})],1)])],1)},n=[],c=s("bb36"),a={data:function(){return{regions:[],regionInstance:{id:null,region_name:null,country_id:1},regionFormDialog:!1,districtsVisible:!1,districtsFormVisible:!1,districtInstance:{id:null,district_name:null,region_id:null},districts:[{id:1,region_name:"Kinondoni",created_at:"june 4, 2020"}],placesVisible:!1,placesFormVisible:!1,placeInstance:{id:null,place_name:null,district_id:null},places:[],countries:[{name:"Tanzania"},{name:"Kenya"},{name:"Uganda"},{name:"Rwanda"},{name:"Burundi"},{name:"Congo"}]}},methods:{fetchRegions:function(){var t=this;c["a"].get("/resources/addresses/regions?country_id=1").then((function(e){t.regions=e.data.payload.regions})).catch((function(t){console.log(t)}))},showRegionForm:function(t){this.regionInstance=t||{},this.regionFormDialog=!0},saveRegion:function(){var t=this;c["a"].post("/config/addresses/region/add",this.regionInstance).then((function(e){t.regionFormDialog=!1,t.fetchRegions()})).catch((function(t){console.log(t)}))},confirmRegionRemoval:function(t){this.regionInstance=t,this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure you want to remove "+this.regionInstance.region_name,accept:this.removeRegion})},removeRegion:function(){var t=this;c["a"].post("/config/addresses/region/remove",{id:this.regionInstance.id}).then((function(e){t.fetchRegions()})).catch((function(t){console.log(t)}))},showDistrictForm:function(t){this.districtInstance=t||{},this.districtsFormVisible=!0,this.districtsVisible=!1},viewDistricts:function(t){var e=this;t&&(this.regionInstance=t),this.districtsVisible=!0;var s="/resources/addresses/districts?region_id="+this.regionInstance.id;console.log(s),c["a"].get(s).then((function(t){e.districts=t.data.payload.districts})).catch((function(t){console.log(t)}))},saveDistrict:function(){var t=this;this.districtInstance.region_id=this.regionInstance.id,c["a"].post("/config/addresses/district/add",this.districtInstance).then((function(e){t.districtsFormVisible=!1,t.districtInstance={},t.viewDistricts()})).catch((function(t){console.log(t)}))},confirmDistrictRemoval:function(t){this.districtsVisible=!1,this.districtInstance=t,this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure you want to remove "+this.districtInstance.district_name,accept:this.removeDistrict})},removeDistrict:function(){var t=this;c["a"].post("/config/addresses/district/remove",{id:this.districtInstance.id}).then((function(e){t.viewDistricts()})).catch((function(t){console.log(t)}))},closeDistricts:function(){this.districtsVisible=!1,this.regionInstance={}},showPlaceForm:function(t){this.placeInstance=t||{},this.placesFormVisible=!0,this.placesVisible=!1},savePlace:function(){var t=this;this.placeInstance.district_id=this.districtInstance.id,c["a"].post("/config/addresses/place/add",this.placeInstance).then((function(e){t.placesFormVisible=!1,t.placeInstance={},t.viewPlaces()})).catch((function(t){console.log(t)}))},viewPlaces:function(t){var e=this;t&&(this.districtInstance=t),this.districtsVisible=!1,this.placesVisible=!0,c["a"].get("/resources/addresses/places?district_id="+this.districtInstance.id).then((function(t){e.places=t.data.payload.places})).catch((function(t){console.log(t)}))},confirmPlaceRemoval:function(t){this.placeInstance=t,this.placesVisible=!1,this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure you want to remove "+this.placeInstance.place_name,accept:this.removePlace})},removePlace:function(){var t=this;c["a"].post("/config/addresses/place/remove",{id:this.placeInstance.id}).then((function(e){t.viewPlaces()})).catch((function(t){console.log(t)}))},closePlaces:function(){this.districtsVisible=!0,this.placesVisible=!1},searchLocation:function(){}},created:function(){this.fetchRegions()}},o=a,r=s("2877"),l=Object(r["a"])(o,i,n,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0db264.c00397c8.js.map