{"version":3,"sources":["webpack:///./src/views/sales/orders/OrderDetails.vue?c543","webpack:///./src/views/sales/orders/OrderDetails.vue?4c62","webpack:///src/views/sales/orders/OrderDetails.vue","webpack:///./src/views/sales/orders/OrderDetails.vue?8a0b","webpack:///./src/views/sales/orders/OrderDetails.vue?cf14"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","selectedOrder","_e","on","$event","confirmOrderApproval","directives","name","rawName","staticStyle","_s","customer","customer_name","phone_number_1","phone_number_2","email","place","place_name","district","district_name","region","region_name","class","staff","staff_name","phone_number","value","expression","availableStaff","setSalesPerson","model","callback","$$v","selectedStaff","errors","has","first","_l","orderProduct","index","key","slot","delivered_quantity","ordered_quantity","showAvailableProductsToDeliver","product","product_name","variant","variant_name","selling_price","confirmOrderItemRejection","confirmOrderCancellation","deliveryForm","selectedTruckedProduct","deliverProduct","quantityToDeliver","remaining_quantity","created_at","truckedProduct","availableTruckedProducts","length","staticRenderFns","props","passedOrder","components","Table","vSelect","data","orders","orderDetailsVisible","itemsPerPage","isMounted","showOrderFormSidebar","sidebarData","selectedOrderRegionId","availableRegions","cartProducts","quantity","selectedOrderProduct","selectedOrderProductVariant","products","productVariants","customerQuery","customers","selectedOrderCustomer","locationQuery","addressesRawResults","selectedOrderAddress","cancellationReason","cancellationForm","selectedOrderedProduct","watch","fetchOrders","searchLocations","searchCustomer","computed","currentPage","$refs","table","currentx","addresses","map","resultItem","type","location","location_name","searchable","place_id","id","district_id","region_id","country","country_id","methods","fetchOrderDetails","$vs","loading","console","info","axios","orderedProduct","happilyNotify","log","error","dialog","color","title","text","accept","approveOrder","promptCancellation","cancelletionReason","rejectOrder","orderItem","rejectOrderItem","fetchProducts","fetchStaff","JSON","stringify","selectedDepot","fetchProductVariants","pickCustomer","removeCustomer","query","response","success","pickAddress","address","removeAddress","handleApiError","notify","iconPack","icon","sadlyNotify","created","mounted","$router","go","component"],"mappings":"uIAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsBC,MAAM,CAAC,GAAK,wBAAwB,CAACH,EAAG,MAAM,CAACE,YAAY,sEAAsE,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,gBAAgB,KAAO,QAAQ,MAAQ,aAAaH,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,sCAAsC,GAAMR,EAAIS,cAAyB,aAAOT,EAAIS,cAA0B,aAA6IT,EAAIU,KAA9IN,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,aAAaI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIa,0BAA0B,CAACb,EAAIQ,GAAG,oBAA8BR,EAAIS,cAAyB,YAAEL,EAAG,UAAU,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,WAAWC,YAAY,CAAC,YAAY,OAAOV,MAAM,CAAC,MAAQ,YAAY,CAACH,EAAG,UAAU,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,WAAWR,EAAIQ,GAAG,4BAA4B,GAAGR,EAAIU,KAAMV,EAAIS,cAA0B,aAAEL,EAAG,UAAU,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,WAAWC,YAAY,CAAC,YAAY,OAAOV,MAAM,CAAC,MAAQ,WAAW,CAACP,EAAIQ,GAAG,8BAA8BR,EAAIU,MAAM,GAAGN,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,gBAAgBJ,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIkB,GAAGlB,EAAIS,cAAcU,SAAWnB,EAAIS,cAAcU,SAASC,cAAgB,oBAAoBhB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAIkB,GAAGlB,EAAIS,cAAcU,SAAWnB,EAAIS,cAAcU,SAASE,eAAiB,YAAY,uBAAuBrB,EAAIkB,GAAGlB,EAAIS,cAAcU,SAAWnB,EAAIS,cAAcU,SAASG,eAAiB,IAAI,0BAA0BlB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAIkB,GAAGlB,EAAIS,cAAcU,SAAWnB,EAAIS,cAAcU,SAASI,MAAQ,SAAS,0BAA0BnB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,aAAaJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAIkB,GAAGlB,EAAIS,cAAce,MAAQxB,EAAIS,cAAce,MAAMC,WAAa,KAAK,uBAAuBzB,EAAIkB,GAAGlB,EAAIS,cAAciB,SAAW1B,EAAIS,cAAciB,SAASC,cAAgB,KAAK,uBAAuB3B,EAAIkB,GAAGlB,EAAIS,cAAcmB,OAAS5B,EAAIS,cAAcmB,OAAOC,YAAc,KAAK,8BAA8BzB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,oBAAoBJ,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACA,EAAG,OAAO,CAAC0B,MAAQ9B,EAAIS,cAAmB,MAAmB,aAAf,gBAA6B,CAACT,EAAIQ,GAAGR,EAAIkB,GAAGlB,EAAIS,cAAcsB,MAAQ/B,EAAIS,cAAcsB,MAAMC,WAAa,0BAA0B5B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,IAAIR,EAAIkB,GAAGlB,EAAIS,cAAcsB,MAAQ/B,EAAIS,cAAcsB,MAAME,aAAe,mBAAmB7B,EAAG,MAAM,CAACE,YAAY,uBAAuBW,YAAY,CAAC,YAAY,UAAU,CAACb,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,IAAIR,EAAIkB,GAAGlB,EAAIS,cAAcsB,MAAO,SAAS,UAAU,mBAAmB3B,EAAG,WAAW,CAACU,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAakB,MAAM,WAAaC,WAAW,eAAe5B,MAAM,CAAC,WAAY,EAAM,QAAUP,EAAIoC,eAAe,KAAO,QAAQ,MAAQ,aAAa,YAAc,UAAUzB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIqC,mBAAmBC,MAAM,CAACJ,MAAOlC,EAAiB,cAAEuC,SAAS,SAAUC,GAAMxC,EAAIyC,cAAcD,GAAKL,WAAW,mBAAmB/B,EAAG,OAAO,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASkB,MAAOlC,EAAI0C,OAAOC,IAAI,SAAUR,WAAW,wBAAwB7B,YAAY,uBAAuB,CAACN,EAAIQ,GAAGR,EAAIkB,GAAGlB,EAAI0C,OAAOE,MAAM,cAAc,OAAQ5C,EAAIS,cAA4B,eAAEL,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,wBAAwBR,EAAI6C,GAAI7C,EAAIS,cAA4B,gBAAE,SAASqC,EAAaC,GAAO,OAAO3C,EAAG,UAAU,CAAC4C,IAAID,EAAMzC,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,KAAO,WAAW0C,KAAK,WAAW,CAAC7C,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAAIN,EAAIS,cAA0B,cAAOqC,EAAwB,aAAOA,EAAaI,oBAAsBJ,EAAaK,iBAAoNnD,EAAIS,cAA0B,aAAEL,EAAG,UAAU,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQ,UAAU,CAACP,EAAIQ,GAAG,sBAAuBsC,EAAwB,YAAE1C,EAAG,UAAU,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQ,SAAS,CAACP,EAAIQ,GAAG,uBAAuBR,EAAIU,KAAhcN,EAAG,YAAY,CAACE,YAAY,kBAAkBC,MAAM,CAAC,MAAQ,aAAaI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIoD,+BAA+BN,MAAiB,CAAC9C,EAAIQ,GAAG,sBAA6RsC,EAAaI,oBAAsBJ,EAAaK,iBAAmB/C,EAAG,UAAU,CAACE,YAAY,eAAeC,MAAM,CAAC,MAAQ,YAAY,CAACP,EAAIQ,GAAG,eAAeR,EAAIU,KAAKN,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACE,YAAY,kBAAkB,CAACN,EAAIQ,GAAG,yBAAyBR,EAAIkB,GAAG4B,EAAaO,QAAUP,EAAaO,QAAQC,aAAe,IAAI,yBAAyBtD,EAAIkB,GAAG4B,EAAaS,QAAUT,EAAaS,QAAQC,aAAe,KAAK,0BAA0BpD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYR,EAAIkB,GAAG4B,EAAaK,qBAAqB/C,EAAG,KAAK,CAACJ,EAAIQ,GAAG,cAAcR,EAAIkB,GAAG4B,EAAaI,uBAAuB9C,EAAG,KAAK,CAACJ,EAAIQ,GAAG,OAAOR,EAAIkB,GAAG4B,EAAaW,kBAAqBzD,EAAIS,cAA0B,cAAQqC,EAAwB,aACl+K9C,EAAIS,cAAyB,aAAQqC,EAAaI,oBAAsBJ,EAAaK,iBAAiNnD,EAAIU,KAAlMN,EAAG,KAAK,CAACA,EAAG,YAAY,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,UAAUI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAI0D,0BAA0BZ,MAAiB,CAAC9C,EAAIQ,GAAG,kBAAkB,QAAiB,WAAU,GAAGR,EAAIU,WAAWN,EAAG,MAAM,CAACE,YAAY,eAAe,CAAIN,EAAIS,cAA0B,aAA8JL,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACP,EAAIQ,GAAG,sBAA3MJ,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,WAAWI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAI2D,8BAA8B,CAAC3D,EAAIQ,GAAG,oBAA0F,GAAGJ,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,WAAW,cAAc,WAAW,cAAc,SAAS,MAAQ,UAAU,OAASP,EAAI4D,cAAcjD,GAAG,CAAC,OAAS,SAASC,GAAQZ,EAAI6D,uBAAwB,MAAM,OAAS,SAASjD,GAAQ,OAAOZ,EAAI8D,kBAAkB,gBAAgB,SAASlD,GAAQZ,EAAI4D,aAAahD,KAAU,CAAEZ,EAA0B,uBAAEI,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,yBAAyBJ,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,kBAAmBR,EAA0B,uBAAEI,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,WAAW,CAACE,YAAY,cAAcC,MAAM,CAAC,YAAc,WAAW,iBAAiB,YAAY+B,MAAM,CAACJ,MAAOlC,EAAqB,kBAAEuC,SAAS,SAAUC,GAAMxC,EAAI+D,kBAAkBvB,GAAKL,WAAW,wBAAwB,GAAGnC,EAAIU,KAAMV,EAA0B,uBAAEI,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,IAAI,CAACJ,EAAIQ,GAAG,aAAaR,EAAIkB,GAAGlB,EAAI6D,uBAAuBR,QAASrD,EAAI6D,uBAAuBR,QAAQC,aAAe,IAAI,aAAatD,EAAIkB,GAAGlB,EAAI6D,uBAAuBN,QAASvD,EAAI6D,uBAAuBN,QAAQC,aAAe,IAAI,cAAcpD,EAAG,IAAI,CAACJ,EAAIQ,GAAG,cAAcR,EAAIkB,GAAGlB,EAAI6D,uBAAuBG,oBAAoB,OAAO5D,EAAG,IAAI,CAACJ,EAAIQ,GAAG,eAAeR,EAAIkB,GAAGlB,EAAI6D,uBAAuBI,YAAY,SAAS7D,EAAG,MAAMJ,EAAI6C,GAAI7C,EAA4B,0BAAE,SAASkE,EAAenB,GAAO,OAAO3C,EAAG,MAAM,CAAC4C,IAAID,EAAMzC,YAAY,eAAeK,GAAG,CAAC,MAAQ,SAASC,GAAQZ,EAAI6D,uBAAuBK,KAAkB,CAAC9D,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIQ,GAAG,gBAAgBR,EAAIkB,GAAGgD,EAAeb,QAASa,EAAeb,QAAQC,aAAe,IAAI,gBAAgBtD,EAAIkB,GAAGgD,EAAeX,QAASW,EAAeX,QAAQC,aAAe,IAAI,iBAAiBpD,EAAG,IAAI,CAACJ,EAAIQ,GAAG,cAAcR,EAAIkB,GAAGgD,EAAeF,oBAAoB,cAAa,GAA0C,IAAtChE,EAAImE,yBAAyBC,OAAYhE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACa,YAAY,CAAC,MAAQ,YAAY,CAACjB,EAAIQ,GAAG,8CAA8CR,EAAIU,QAAQ,IACxjF2D,EAAkB,G,yDC2MtB,GACEC,MAAO,CACLC,YAAJ,QAEEC,WAAY,CACVC,MAAJ,OACIC,QAAJ,KAGEC,KATF,WAUI,MAAO,CACLlE,cAAe,GACfmE,OAAQ,GACRC,qBAAqB,EAErBC,aAAc,EACdC,WAAW,EAGXC,sBAAsB,EACtBC,YAAa,GAEbC,sBAAuB,CAA7B,mCACMC,iBAAkB,GAElBvB,cAAc,EACdwB,aAAc,GACdC,SAAU,EACVC,qBAAsB,KACtBC,4BAA6B,KAE7BC,SAAU,GACVC,gBAAiB,GAEjBC,cAAe,GACfC,UAAW,GACXC,sBAAuB,KAEvBC,cAAe,GACfC,oBAAqB,GACrBC,qBAAsB,KAEtB3D,eAAgB,GAChBK,cAAe,GAEfuD,mBAAoB,GACpBC,kBAAkB,EAGlBC,uBAAwB,KACxBrC,uBAAwB,KACxBM,yBAA0B,GAC1BJ,kBAAmB,OAKvBoC,MAAO,CACLjB,sBAAuB,SAA3B,GACMjF,KAAKmG,eAEPP,cAJJ,SAIA,GACM5F,KAAKoG,mBAEPX,cAPJ,SAOA,GACMzF,KAAKqG,mBAITC,SAAU,CACRC,YADJ,WAEM,OAAIvG,KAAK8E,UACA9E,KAAKwG,MAAMC,MAAMC,SAEnB,GAGTC,UARJ,WASM,OAAO3G,KAAK6F,oBAAoBe,KAAI,SAAUC,GAE5C,IAAR,KAqCQ,MAlCwB,WAApBA,EAAWC,OACbC,EAASC,cAAgBH,EAAWI,WAAWzF,WAC/CuF,EAASG,SAAWL,EAAWI,WAAWE,IAEpB,cAApBN,EAAWC,OACbC,EAASC,cAAgBH,EAAWI,WAAWvF,cAC/CqF,EAASK,YAAcP,EAAWI,WAAWE,IAEvB,YAApBN,EAAWC,OACbC,EAASC,cAAgBH,EAAWI,WAAWrF,YAC/CmF,EAASM,UAAYR,EAAWI,WAAWE,IAIzCN,EAAWI,WAAW1F,QACxBwF,EAASC,cAAgBD,EAASC,cAAgB,IAAMH,EAAWI,WAAWxF,SAASC,cACvFqF,EAASG,SAAWL,EAAWI,WAAWE,IAGxCN,EAAWI,WAAWxF,WACxBsF,EAASC,cAAgBD,EAASC,cAAgB,IAAMH,EAAWI,WAAWxF,SAASC,cACvFqF,EAASK,YAAcP,EAAWI,WAAWxF,SAAS0F,IAGpDN,EAAWI,WAAWtF,SACxBoF,EAASC,cAAgBD,EAASC,cAAgB,IAAMH,EAAWI,WAAWtF,OAAOC,YACrFmF,EAASM,UAAYR,EAAWI,WAAWtF,OAAOwF,IAGhDN,EAAWI,WAAWK,UACxBP,EAASC,cAAgBD,EAASC,cAAgB,IAAMH,EAAWI,WAAWtF,OAAOC,YACrFmF,EAASQ,WAAaV,EAAWI,WAAWK,QAAQH,IAG/CJ,OAObS,QAAS,CAEPC,kBAFJ,WAEA,WACMzH,KAAK0H,IAAIC,QAAQ,CAAvB,oBACMC,QAAQC,KAAK,sBACbC,EAAN,2DACA,kBACQ,EAAR,oBACQ,EAAR,sCACA,mBACQ,EAAR,oBACQ,EAAR,sBAII3E,+BAfJ,WAeA,uEACMnD,KAAKiG,uBAAyB8B,EAEpC,6FACQ/H,KAAKgI,cAAc,4BAIrBhI,KAAK2D,cAAe,EACpBmE,EAAN,4CACA,CAAQ,iBAAR,iCACA,kBACQ,EAAR,2CACA,mBACQF,QAAQK,IAAIC,GACZ,EAAR,uBAIIrE,eAlCJ,WAkCA,WACM7D,KAAK0H,IAAIC,QAAQ,CAAvB,oBACMG,EAAN,0CACA,CACQ,iBAAR,+BACQ,mBAAR,+BACQ,SAAR,yBAEA,kBACQ,EAAR,oBACQ,EAAR,4BACQ,EAAR,4BACQ,EAAR,cACQ,EAAR,mCACQ,EAAR,uBACA,mBACQ,EAAR,oBACQ,EAAR,sBAKI1F,eAxDJ,WAwDA,WACM0F,EAAN,0FACA,kBACA,iBACU,EAAV,yBACU,EAAV,wBAEA,mBACQF,QAAQK,IAAIC,GACZ,EAAR,sBAKItH,qBAtEJ,WAuEMZ,KAAK0H,IAAIS,OAAO,CACdrB,KAAM,UACNsB,MAAO,UACPC,MAAO,UACPC,KAAM,8CACNC,OAAQvI,KAAKwI,gBAIjBA,aAhFJ,WAgFA,WACMxI,KAAK0H,IAAIC,QAAQ,CAAvB,oBACMG,EAAN,kCACQX,GAAInH,KAAKQ,cAAc2G,KAE/B,kBACQ,EAAR,oBACQ,EAAR,gCACQ,EAAR,uBACA,mBACQ,EAAR,oBACQ,EAAR,sBAMIsB,mBAjGJ,WAkGMzI,KAAK0I,mBAAqB,GAC1B1I,KAAKgG,kBAAmB,GAG1BtC,yBAtGJ,WAuGM1D,KAAK0H,IAAIS,OAAO,CACdrB,KAAM,UACNsB,MAAO,SACPC,MAAO,UACPC,KAAM,6CACNC,OAAQvI,KAAK2I,eAIjBA,YAhHJ,WAgHA,WACMb,EAAN,iCACQX,GAAInH,KAAKQ,cAAc2G,GACvBpB,mBAAoB/F,KAAK+F,qBAEjC,kBACA,iBACU,EAAV,yBACU,EAAV,wBAEA,mBACQ6B,QAAQK,IAAIC,GACZ,EAAR,sBAIIzE,0BAhIJ,SAgIA,GACMzD,KAAKqF,qBAAuBuD,EAC5B5I,KAAK0H,IAAIS,OAAO,CACdrB,KAAM,UACNsB,MAAO,SACPC,MAAO,UACPC,KAAM,4CACNC,OAAQvI,KAAK6I,mBAIjBA,gBA3IJ,WA2IA,WACMf,EAAN,sCACQX,GAAInH,KAAKqF,qBAAqB8B,KAEtC,kBACA,iBACU,EAAV,+BACU,EAAV,wBAEA,mBACQS,QAAQK,IAAIC,GACZ,EAAR,sBAOIY,cA7JJ,WA6JA,WACMhB,EAAN,sDACA,kBACQ,EAAR,yCACA,mBACQF,QAAQK,IAAIC,OAIhBa,WAtKJ,WAsKA,WACMnB,QAAQC,KAAK,oBACbD,QAAQC,KAAKmB,KAAKC,UAAUjJ,KAAKkJ,gBACjCpB,EAAN,kCACA,kBACQ,EAAR,uCACA,mBACQF,QAAQK,IAAIC,OAIhBiB,qBAjLJ,WAiLA,WACMnJ,KAAKwF,gBAAkB,GACvBxF,KAAKsF,4BAA8B,KACnCwC,EAAN,iFACA,kBACQ,EAAR,mDACA,mBACQF,QAAQK,IAAIC,GACZ,EAAR,sBAMI7B,eA/LJ,WA+LA,WACMuB,QAAQK,IAAI,uBACZjI,KAAK0F,UAAY,GACZ,KAAX,eAGMoC,EAAN,qEACA,kBACA,iBACU,EAAV,uCAEA,mBACQF,QAAQK,IAAIC,GACZ,EAAR,sBAKIkB,aAjNJ,SAiNA,GACMpJ,KAAK0F,UAAY,GACjB1F,KAAK2F,sBAAwBzE,GAG/BmI,eAtNJ,WAuNMrJ,KAAK2F,sBAAwB,MAI/BS,gBA3NJ,WA2NA,WACMpG,KAAK6F,oBAAsB,GAEtB,KAAX,eAGMiC,EAAN,uCACQwB,MAAOtJ,KAAK4F,gBACpB,kBACY2D,EAAS7E,KAAK8E,UAChB,EAAV,iDAEA,mBACQ5B,QAAQK,IAAIC,OAIhBuB,YA5OJ,SA4OA,GACMzJ,KAAK6F,oBAAsB,GAC3B7F,KAAK8F,qBAAuB4D,GAG9BC,cAjPJ,WAkPM3J,KAAK8F,qBAAuB,MAK9B8D,eAvPJ,SAuPA,GACM5J,KAAK0H,IAAImC,OAAO,CACdxB,MAAO,QACPC,KAAM,OAAd,OAAc,CAAd,GACQwB,SAAU,UACVC,KAAM,oBACN3B,MAAO,YAIXJ,cAjQJ,SAiQA,GACMhI,KAAK0H,IAAImC,OAAO,CAAtB,0CAGIG,YArQJ,SAqQA,GACMhK,KAAK0H,IAAImC,OAAO,CAAtB,+DAMEI,QAxYF,WAyYIjK,KAAK+I,cAEPmB,QA3YF,WA4YIlK,KAAK8E,WAAY,EAErB,wBACM8C,QAAQK,IAAI,WAAlB,qBACMjI,KAAKyH,sBAELG,QAAQC,KAAK,kCACb7H,KAAKmK,QAAQC,IAAI,MChmB6V,I,wBCQhXC,EAAY,eACd,EACAvK,EACAsE,GACA,EACA,KACA,KACA,MAIa,aAAAiG,E","file":"js/chunk-2fe7917a.7c493a15.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetails.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list-container\",attrs:{\"id\":\"data-list-list-view\"}},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center flex-grow justify-between mb-6\"},[_c('div',{staticClass:\"flex  \"},[_c('vs-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"shopping_cart\",\"size\":\"large\",\"color\":\"primary\"}}),_c('h1',{staticClass:\"mr-6\"},[_vm._v(\"\\n        Order Details\\n      \")])],1),(!(_vm.selectedOrder.is_approved) && !(_vm.selectedOrder.is_cancelled))?_c('vs-button',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.confirmOrderApproval()}}},[_vm._v(\" APPROVE ORDER\")]):_vm._e(),(_vm.selectedOrder.is_approved)?_c('vs-chip',{directives:[{name:\"else\",rawName:\"v-else\"}],staticStyle:{\"font-size\":\"1em\"},attrs:{\"color\":\"success\"}},[_c('vs-icon',{staticClass:\"mr-2\"},[_vm._v(\"check\")]),_vm._v(\"\\n      Order Approved \")],1):_vm._e(),(_vm.selectedOrder.is_cancelled)?_c('vs-chip',{directives:[{name:\"else\",rawName:\"v-else\"}],staticStyle:{\"font-size\":\"1em\"},attrs:{\"color\":\"danger\"}},[_vm._v(\"\\n      Order Cancelled \")]):_vm._e()],1),_c('vs-card',[_c('div',{staticClass:\"px-6 py-12\"},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/2\"},[_c('div',{staticClass:\"mb-2 \"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Customer\")])]),_c('div',[_c('table',[_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Name\")]),_c('td',[_vm._v(_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.customer_name : \"No Customer\"))])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Phone\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.phone_number_1 : \"No Phone\")+\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.phone_number_2 : \"\")+\"\\n                \")])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Email\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.email : \"Email\")+\"\\n                \")])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Address\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.place ? _vm.selectedOrder.place.place_name : \" \")+\"\\n                  \"+_vm._s(_vm.selectedOrder.district ? _vm.selectedOrder.district.district_name : \" \")+\"\\n                  \"+_vm._s(_vm.selectedOrder.region ? _vm.selectedOrder.region.region_name : \" \")+\"\\n                \")])])])]),_c('div',{staticClass:\"mb-6\"},[_c('div',{staticClass:\"mb-2 mt-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Sales Person\")])]),_c('table',[_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Name\")]),_c('td',[_c('span',{class:!(_vm.selectedOrder.staff) ? \"danger--text\":\"blue--text\"},[_vm._v(_vm._s(_vm.selectedOrder.staff ? _vm.selectedOrder.staff.staff_name : \"No sales person\"))])])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Phone\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.selectedOrder.staff ? _vm.selectedOrder.staff.phone_number : \"No Phone\"))])])]),_c('div',{staticClass:\"mt-4 mb-5 small-form\",staticStyle:{\"max-width\":\"320px\"}},[_c('h6',{staticClass:\"mb-4\"},[_vm._v(\" \"+_vm._s(_vm.selectedOrder.staff? \"Change\":\"Assign\")+\" Sales Person\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"clearable\":false,\"options\":_vm.availableStaff,\"name\":\"Staff\",\"label\":\"staff_name\",\"placeholder\":\"Select\"},on:{\"input\":function($event){return _vm.setSalesPerson()}},model:{value:(_vm.selectedStaff),callback:function ($$v) {_vm.selectedStaff=$$v},expression:\"selectedStaff\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('Staff')),expression:\"errors.has('Staff')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('Staff')))])],1)])]),(_vm.selectedOrder.order_products)?_c('div',{staticClass:\"vx-col md:w-1/2 \"},[_c('div',{staticClass:\"mb-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Ordered Products\")])]),_vm._l((_vm.selectedOrder.order_products),function(orderProduct,index){return _c('vx-card',{key:index,staticClass:\"overflow-hidden mb-6\"},[_c('div',{attrs:{\"slot\":\"no-body\"},slot:\"no-body\"},[_c('div',{staticClass:\"p-6 flex justify-between flex-row-reverse items-center\"},[(!(_vm.selectedOrder.is_cancelled) && !(orderProduct.is_rejected) && !(orderProduct.delivered_quantity >= orderProduct.ordered_quantity))?_c('vs-button',{staticClass:\"p-3 inline-flex\",attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.showAvailableProductsToDeliver(orderProduct)}}},[_vm._v(\"Deliver Products\")]):(_vm.selectedOrder.is_cancelled)?_c('vs-chip',{staticClass:\" inline-flex\",attrs:{\"color\":\"black\"}},[_vm._v(\"Order Cancelled \")]):(orderProduct.is_rejected)?_c('vs-chip',{staticClass:\" inline-flex\",attrs:{\"color\":\"grey\"}},[_vm._v(\"Product Rejected \")]):_vm._e(),((orderProduct.delivered_quantity >= orderProduct.ordered_quantity))?_c('vs-chip',{staticClass:\" inline-flex\",attrs:{\"color\":\"success\"}},[_vm._v(\"Fulfiled \")]):_vm._e(),_c('div',{staticClass:\"truncate\"},[_c('h3',{staticClass:\"mb-1 font-bold\"},[_vm._v(\"\\n                    \"+_vm._s(orderProduct.product ? orderProduct.product.product_name : \"\")+\"\\n                    \"+_vm._s(orderProduct.variant ? orderProduct.variant.variant_name : \" \")+\"\\n                  \")]),_c('ul',[_c('li',[_vm._v(\"Quantity \"+_vm._s(orderProduct.ordered_quantity))]),_c('li',[_vm._v(\"Delivered: \"+_vm._s(orderProduct.delivered_quantity))]),_c('li',[_vm._v(\"@TSH\"+_vm._s(orderProduct.selling_price))]),(!(_vm.selectedOrder.is_cancelled) &&  !(orderProduct.is_rejected)\n                     && !(_vm.selectedOrder.is_approved)  && !(orderProduct.delivered_quantity >= orderProduct.ordered_quantity))?_c('li',[_c('vs-button',{staticClass:\"mt-4 py-1 px-2\",attrs:{\"type\":\"border\"},on:{\"click\":function($event){return _vm.confirmOrderItemRejection(orderProduct)}}},[_vm._v(\"Reject Item\")])],1):_vm._e()])])],1)])])})],2):_vm._e()])])]),_c('div',{staticClass:\"my-12 pb-12\"},[(!(_vm.selectedOrder.is_cancelled))?_c('vs-button',{attrs:{\"type\":\"border\",\"color\":\"warning\"},on:{\"click\":function($event){return _vm.confirmOrderCancellation()}}},[_vm._v(\" CANCEL ORDER\")]):_c('vs-chip',{attrs:{\"color\":\"danger\"}},[_vm._v(\"Order Cancelled \")])],1),_c('vs-prompt',{attrs:{\"title\":\"Delivery\",\"accept-text\":\"Delivery\",\"cancel-text\":\"Cancel\",\"color\":\"#118ab2\",\"active\":_vm.deliveryForm},on:{\"cancel\":function($event){_vm.selectedTruckedProduct= null},\"accept\":function($event){return _vm.deliverProduct()},\"update:active\":function($event){_vm.deliveryForm=$event}}},[(_vm.selectedTruckedProduct)?_c('h4',{staticClass:\"my-6\"},[_vm._v(\"Quantity to deliver\")]):_c('h4',{staticClass:\"my-6\"},[_vm._v(\"Select stock\")]),(_vm.selectedTruckedProduct)?_c('div',{staticClass:\"mb-6\"},[_c('vs-input',{staticClass:\"mt-3 w-full\",attrs:{\"placeholder\":\"Quantity\",\"vs-placeholder\":\"Quantity\"},model:{value:(_vm.quantityToDeliver),callback:function ($$v) {_vm.quantityToDeliver=$$v},expression:\"quantityToDeliver\"}})],1):_vm._e(),(_vm.selectedTruckedProduct)?_c('div',{staticClass:\"product-item-active\"},[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.selectedTruckedProduct.product? _vm.selectedTruckedProduct.product.product_name : \"\")+\"\\n        \"+_vm._s(_vm.selectedTruckedProduct.variant? _vm.selectedTruckedProduct.variant.variant_name : \"\")+\"\\n      \")]),_c('p',[_vm._v(\"Remaining: \"+_vm._s(_vm.selectedTruckedProduct.remaining_quantity)+\" \")]),_c('p',[_vm._v(\"Created at: \"+_vm._s(_vm.selectedTruckedProduct.created_at)+\" \")])]):_c('div',_vm._l((_vm.availableTruckedProducts),function(truckedProduct,index){return _c('div',{key:index,staticClass:\"product-item\",on:{\"click\":function($event){_vm.selectedTruckedProduct=truckedProduct}}},[_c('div',[_c('p',[_vm._v(\"\\n           \"+_vm._s(truckedProduct.product? truckedProduct.product.product_name : \"\")+\"\\n           \"+_vm._s(truckedProduct.variant? truckedProduct.variant.variant_name : \"\")+\"\\n         \")]),_c('p',[_vm._v(\"Remaining: \"+_vm._s(truckedProduct.remaining_quantity)+\" \")])])])}),0),(_vm.availableTruckedProducts.length===0)?_c('div',{staticClass:\"my-6\"},[_c('span',{staticStyle:{\"color\":\"#e60000\"}},[_vm._v(\"No stock available in requested depot \")])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"data-list-list-view\" class=\"data-list-container\">\n\n    <div class=\"flex flex-wrap-reverse items-center flex-grow justify-between mb-6\">\n\n      <div class=\"flex  \">\n        <vs-icon class=\"mr-2\" icon=\"shopping_cart\" size=\"large\" color=\"primary\"></vs-icon>\n        <h1 class=\"mr-6\">\n          Order Details\n        </h1>\n      </div>\n\n      <vs-button v-if=\"!(selectedOrder.is_approved) && !(selectedOrder.is_cancelled)\"   @click=\"confirmOrderApproval()\" color=\"secondary\"> APPROVE ORDER</vs-button>\n      <vs-chip v-if=\"selectedOrder.is_approved\" style=\"font-size: 1em\" v-else color=\"success\" >\n        <vs-icon class=\"mr-2\" >check</vs-icon>\n        Order Approved </vs-chip>\n      <vs-chip v-if=\"selectedOrder.is_cancelled\" style=\"font-size: 1em\" v-else color=\"danger\" >\n        Order Cancelled </vs-chip>\n    </div>\n\n    <vs-card >\n      <div   class=\"px-6 py-12\">\n        <div class=\"vx-row\">\n\n          <!-- Customer info -->\n          <div class=\"vx-col md:w-1/2\">\n\n            <!-- Customer info -->\n            <div class=\"mb-2 \">\n              <span class=\"font-bold\">Customer</span>\n            </div>\n            <div>\n              <table>\n                <tr>\n                  <td class=\"pr-6\">Name</td>\n                  <td>{{ selectedOrder.customer ? selectedOrder.customer.customer_name : \"No Customer\" }}</td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Phone</td>\n                  <td>\n                    {{ selectedOrder.customer ? selectedOrder.customer.phone_number_1 : \"No Phone\" }}\n                    {{ selectedOrder.customer ? selectedOrder.customer.phone_number_2 : \"\" }}\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Email</td>\n                  <td>\n                    {{ selectedOrder.customer ? selectedOrder.customer.email : \"Email\" }}\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Address</td>\n                  <td>\n                    {{ selectedOrder.place ? selectedOrder.place.place_name : \" \" }}\n                    {{ selectedOrder.district ? selectedOrder.district.district_name : \" \" }}\n                    {{ selectedOrder.region ? selectedOrder.region.region_name : \" \" }}\n                  </td>\n                </tr>\n              </table>\n            </div>\n\n            <!-- Sales person -->\n            <div class=\"mb-6\">\n              <div class=\"mb-2 mt-6\">\n                <span class=\"font-bold\">Sales Person</span>\n              </div>\n              <table>\n                <tr>\n                  <td class=\"pr-6\">Name</td>\n                  <td>\n                    <span v-bind:class=\"!(selectedOrder.staff) ? `danger--text`:`blue--text`\" >{{ selectedOrder.staff ? selectedOrder.staff.staff_name : \"No sales person\" }}</span>\n                  </td>\n                </tr>\n\n                <tr>\n                  <td class=\"pr-6\">Phone</td>\n                  <td> {{ selectedOrder.staff ? selectedOrder.staff.phone_number : \"No Phone\" }}</td>\n                </tr>\n              </table>\n\n              <div style=\"max-width: 320px\" class=\"mt-4 mb-5 small-form\">\n                <h6 class=\"mb-4\"> {{selectedOrder.staff? \"Change\":\"Assign\" }} Sales Person</h6>\n                <v-select @input=\"setSalesPerson()\" v-model=\"selectedStaff\" :clearable=\"false\"\n                          :options=\"availableStaff\" v-validate=\"'required'\" name=\"Staff\" label=\"staff_name\"\n                          placeholder=\"Select\">\n                </v-select>\n                <span class=\"text-danger text-sm\" v-show=\"errors.has('Staff')\">{{ errors.first('Staff') }}</span>\n              </div>\n            </div>\n\n          </div>\n\n\n          <!-- Ordered product -->\n          <div class=\"vx-col md:w-1/2 \" v-if=\"selectedOrder.order_products\">\n            <div class=\"mb-6\">\n              <span class=\"font-bold\">Ordered Products</span>\n            </div>\n\n            <vx-card class=\"overflow-hidden mb-6\" v-for=\"(orderProduct,index) in selectedOrder.order_products\"\n                     :key=\"index\">\n              <div slot=\"no-body\">\n                <div class=\"p-6 flex justify-between flex-row-reverse items-center\">\n                  <vs-button v-if=\"!(selectedOrder.is_cancelled) && !(orderProduct.is_rejected) && !(orderProduct.delivered_quantity >= orderProduct.ordered_quantity)\"\n                             color=\"secondary\"\n                             @click=\"showAvailableProductsToDeliver(orderProduct)\" class=\"p-3 inline-flex\" >Deliver Products</vs-button>\n                  <vs-chip v-else-if=\"selectedOrder.is_cancelled\" color=\"black\" class=\" inline-flex\" >Order Cancelled </vs-chip>\n                  <vs-chip v-else-if=\"orderProduct.is_rejected\" color=\"grey\" class=\" inline-flex\" >Product Rejected </vs-chip>\n                  <vs-chip v-if=\"(orderProduct.delivered_quantity >= orderProduct.ordered_quantity)\"\n                           color=\"success\" class=\" inline-flex\" >Fulfiled </vs-chip>\n\n                  <div class=\"truncate\">\n                    <h3 class=\"mb-1 font-bold\">\n                      {{ orderProduct.product ? orderProduct.product.product_name : \"\" }}\n                      {{ orderProduct.variant ? orderProduct.variant.variant_name : \" \" }}\n                    </h3>\n                    <ul>\n                      <li>Quantity {{ orderProduct.ordered_quantity }}</li>\n                      <li>Delivered: {{ orderProduct.delivered_quantity }}</li>\n                      <li>@TSH{{ orderProduct.selling_price }}</li>\n                      <li v-if=\"!(selectedOrder.is_cancelled) &&  !(orderProduct.is_rejected)\n                       && !(selectedOrder.is_approved)  && !(orderProduct.delivered_quantity >= orderProduct.ordered_quantity)\">\n                        <vs-button @click=\"confirmOrderItemRejection(orderProduct)\" class=\"mt-4 py-1 px-2\" type=\"border\">Reject Item</vs-button>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n\n              </div>\n            </vx-card>\n          </div>\n\n        </div>\n      </div>\n    </vs-card>\n\n    <!-- Order cancellation -->\n    <div class=\"my-12 pb-12\">\n      <vs-button type=\"border\" v-if=\"!(selectedOrder.is_cancelled)\"   @click=\"confirmOrderCancellation()\" color=\"warning\"> CANCEL ORDER</vs-button>\n      <vs-chip v-else color=\"danger\" >Order Cancelled </vs-chip>\n    </div>\n    <!-- Order cancellation -->\n\n    <!-- Dispatch Form -->\n    <vs-prompt :title=\"`Delivery`\" :accept-text=\"`Delivery`\" :cancel-text=\"`Cancel`\"\n               :color=\"`#118ab2`\"\n               @cancel=\"selectedTruckedProduct= null\"\n               @accept=\"deliverProduct()\"\n               :active.sync=\"deliveryForm\">\n\n      <!-- headings -->\n      <h4 class=\"my-6\" v-if=\"selectedTruckedProduct\">Quantity to deliver</h4>\n      <h4 class=\"my-6\" v-else >Select stock</h4>\n\n\n      <!-- input -->\n      <div class=\"mb-6\" v-if=\"selectedTruckedProduct\">\n        <vs-input placeholder=\"Quantity\" vs-placeholder=\"Quantity\" v-model=\"quantityToDeliver\" class=\"mt-3 w-full\"/>\n      </div>\n\n      <!-- stocks -->\n      <div v-if=\"selectedTruckedProduct\"  class=\"product-item-active\">\n        <p>\n          {{ selectedTruckedProduct.product? selectedTruckedProduct.product.product_name : \"\" }}\n          {{ selectedTruckedProduct.variant? selectedTruckedProduct.variant.variant_name : \"\" }}\n        </p>\n        <p>Remaining: {{ selectedTruckedProduct.remaining_quantity}} </p>\n        <p>Created at: {{ selectedTruckedProduct.created_at }} </p>\n      </div>\n\n      <div v-else>\n       <div @click=\"selectedTruckedProduct=truckedProduct\"\n            class=\"product-item\"\n            v-for=\"(truckedProduct, index) in availableTruckedProducts\" :key=\"index\">\n\n         <div>\n           <p>\n             {{ truckedProduct.product? truckedProduct.product.product_name : \"\" }}\n             {{ truckedProduct.variant? truckedProduct.variant.variant_name : \"\" }}\n           </p>\n           <p>Remaining: {{ truckedProduct.remaining_quantity}} </p>\n         </div>\n       </div>\n     </div>\n\n\n      <div class=\"my-6\" v-if=\"availableTruckedProducts.length===0\">\n        <span style=\"color: #e60000\">No stock available in requested depot </span>\n      </div>\n\n\n    </vs-prompt>\n    <!-- [end] Dispatch Form -->\n\n    <!-- [end] Cancel Form -->\n\n  </div>\n</template>\n\n<script>\nimport axios from \"@/axios\";\nimport vSelect from 'vue-select'\nimport {handle} from \"@/http/handler\";\nimport Table from \"@/views/ui-elements/table/Table\";\n\nexport default {\n  props: {\n    passedOrder : Object\n  },\n  components: {\n    Table,\n    vSelect\n  },\n\n  data() {\n    return {\n      selectedOrder: {},\n      orders: [],\n      orderDetailsVisible: false,\n\n      itemsPerPage: 4,\n      isMounted: false,\n\n      // Data Sidebar\n      showOrderFormSidebar: false,\n      sidebarData: {},\n\n      selectedOrderRegionId: {\"id\": null, \"region_name\": \"All Regions\"},\n      availableRegions: [],\n\n      deliveryForm: false,\n      cartProducts: [],\n      quantity: 1,\n      selectedOrderProduct: null,\n      selectedOrderProductVariant: null,\n\n      products: [],\n      productVariants: [],\n\n      customerQuery: '',\n      customers: [],\n      selectedOrderCustomer: null,\n\n      locationQuery: '',\n      addressesRawResults: [],\n      selectedOrderAddress: null,\n\n      availableStaff: [],\n      selectedStaff: {},\n\n      cancellationReason: '',\n      cancellationForm: false,\n\n      /**Order delivery **/\n      selectedOrderedProduct: null,\n      selectedTruckedProduct: null,\n      availableTruckedProducts: [],\n      quantityToDeliver: null\n\n    }\n  },\n\n  watch: {\n    selectedOrderRegionId: function (val) {\n      this.fetchOrders();\n    },\n    locationQuery(query) {\n      this.searchLocations();\n    },\n    customerQuery(query) {\n      this.searchCustomer();\n    }\n  },\n\n  computed: {\n    currentPage() {\n      if (this.isMounted) {\n        return this.$refs.table.currentx\n      }\n      return 0\n    },\n\n    addresses() {\n      return this.addressesRawResults.map(function (resultItem) {\n\n        let location = {};\n\n\n        if (resultItem.type === \"places\") {\n          location.location_name = resultItem.searchable.place_name\n          location.place_id = resultItem.searchable.id\n        }\n        if (resultItem.type === \"districts\") {\n          location.location_name = resultItem.searchable.district_name\n          location.district_id = resultItem.searchable.id\n        }\n        if (resultItem.type === \"regions\") {\n          location.location_name = resultItem.searchable.region_name\n          location.region_id = resultItem.searchable.id\n        }\n\n\n        if (resultItem.searchable.place) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.district.district_name;\n          location.place_id = resultItem.searchable.id;\n        }\n\n        if (resultItem.searchable.district) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.district.district_name;\n          location.district_id = resultItem.searchable.district.id;\n        }\n\n        if (resultItem.searchable.region) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.region.region_name;\n          location.region_id = resultItem.searchable.region.id;\n        }\n\n        if (resultItem.searchable.country) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.region.region_name;\n          location.country_id = resultItem.searchable.country.id;\n        }\n\n        return location;\n\n      })\n    }\n\n  },\n\n  methods: {\n\n    fetchOrderDetails() {\n      this.$vs.loading({ color: 'secondary' })\n      console.info(\"fetching details..\");\n      axios.get('/resources/sales/order?id=' + this.passedOrder.id)\n        .then((response) => {\n          this.$vs.loading.close();\n          this.selectedOrder = response.data.payload.order;\n        }).catch((error) => {\n        this.$vs.loading.close();\n        this.handleApiError(error);\n      })\n    },\n\n    showAvailableProductsToDeliver(orderedProduct = {}) {\n      this.selectedOrderedProduct = orderedProduct;\n\n      if(this.selectedOrderedProduct.delivered_quantity  >= this.selectedOrderedProduct.ordered_quantity ){\n        this.happilyNotify(\"Order Already fulfilled\");\n        return ;\n      }\n\n      this.deliveryForm = true;\n      axios.post('/sales/order/delivery/available',\n        {order_product_id: this.selectedOrderedProduct.id })\n        .then((response) => {\n             this.availableTruckedProducts = response.data.payload;\n           }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    deliverProduct(){\n      this.$vs.loading({ color: 'secondary' })\n      axios.post('/sales/order/delivery/deliver',\n        {\n          order_product_id: this.selectedOrderedProduct.id,\n          trucked_product_id: this.selectedTruckedProduct.id,\n          quantity: this.quantityToDeliver,\n        })\n        .then((response) => {\n          this.$vs.loading.close();\n          this.selectedTruckedProduct = null;\n          this.selectedOrderedProduct = null;\n          this.quantity = null;\n          this.happilyNotify(\"Product delivered\");\n          this.fetchOrderDetails();\n        }).catch((error) => {\n        this.$vs.loading.close();\n        this.handleApiError(error);\n      })\n    },\n\n    /**Sales person **/\n    setSalesPerson() {\n      axios.post('/sales/order/staff', {id: this.selectedOrder.id, staff_id: this.selectedStaff.id})\n        .then((response) => {\n          if (response.data.success) {\n            this.happilyNotify(\"Updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    /*** Approval **/\n    confirmOrderApproval() {\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'success',\n        title: `Confirm`,\n        text: 'Are you sure you want to approve this order',\n        accept: this.approveOrder\n      })\n    },\n\n    approveOrder() {\n      this.$vs.loading({ color: 'secondary' })\n      axios.post('/sales/order/approve', {\n        id: this.selectedOrder.id\n      })\n        .then((response) => {\n           this.$vs.loading.close();\n           this.happilyNotify(\"Order Approved\");\n            this.fetchOrderDetails();\n        }).catch((error) => {\n        this.$vs.loading.close();\n        this.handleApiError(error);\n      })\n    },\n\n\n    /*** Cancellation **/\n    promptCancellation(){\n      this.cancelletionReason = \"\"\n      this.cancellationForm = true;\n    },\n\n    confirmOrderCancellation() {\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to cancel this order',\n        accept: this.rejectOrder\n      })\n    },\n\n    rejectOrder() {\n      axios.post('/sales/order/cancel', {\n        id: this.selectedOrder.id,\n        cancellationReason: this.cancellationReason,\n      })\n        .then((response) => {\n          if (response.data.success) {\n            this.happilyNotify(\"Updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    confirmOrderItemRejection(orderItem) {\n      this.selectedOrderProduct = orderItem;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to reject this item',\n        accept: this.rejectOrderItem\n      })\n    },\n\n    rejectOrderItem() {\n      axios.post('/sales/order/item/reject', {\n        id: this.selectedOrderProduct.id\n      })\n        .then((response) => {\n          if (response.data.success) {\n            this.happilyNotify(\"Order updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n    /*** [end] Cancellation **/\n\n\n    /*** Resources **/\n    fetchProducts() {\n      axios.get('/resources/products/products?category_id=')\n        .then((response) => {\n          this.products = response.data.payload.products.data;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    fetchStaff() {\n      console.info(\"fetching staff..\");\n      console.info(JSON.stringify(this.selectedDepot));\n      axios.post('/resources/staff/get')\n        .then((response) => {\n          this.availableStaff = response.data.payload.staff;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    fetchProductVariants() {\n      this.productVariants = [];\n      this.selectedOrderProductVariant = null;\n      axios.get('/resources/product/variants?product_id=' + this.selectedOrderProduct.id)\n        .then((response) => {\n          this.productVariants = response.data.payload.product_variants;\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n\n    /*** Customers **/\n    searchCustomer() {\n      console.log(\"Finding customer...\");\n      this.customers = [];\n      if (!(this.customerQuery)) {\n        return;\n      }\n      axios.get('/resources/sales/customer/find?query=' + this.customerQuery)\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n\n    },\n\n    pickCustomer(customer) {\n      this.customers = [];\n      this.selectedOrderCustomer = customer;\n    },\n\n    removeCustomer() {\n      this.selectedOrderCustomer = null;\n    },\n\n    /*** Location **/\n    searchLocations() {\n      this.addressesRawResults = [];\n\n      if (!(this.locationQuery)) {\n        return;\n      }\n      axios.post('/resources/addresses/find', {\n        query: this.locationQuery\n      }).then((response) => {\n        if (response.data.success) {\n          this.addressesRawResults = response.data.payload.addresses;\n        }\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    pickAddress(address) {\n      this.addressesRawResults = [];\n      this.selectedOrderAddress = address;\n    },\n\n    removeAddress() {\n      this.selectedOrderAddress = null;\n    },\n\n\n    /** Helpers **/\n    handleApiError(error) {\n      this.$vs.notify({\n        title: 'Error',\n        text: handle(error),\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: 'danger'\n      })\n    },\n\n    happilyNotify(message) {\n      this.$vs.notify({title: 'Success', text: message, color: 'success'})\n    },\n\n    sadlyNotify(message) {\n      this.$vs.notify({title: 'Error', text: message, color: 'danger', position: 'bottom-left'})\n    },\n\n\n  },\n\n  created() {\n    this.fetchStaff();\n  },\n  mounted() {\n    this.isMounted = true\n\n    if(this.passedOrder!=null){\n      console.log(\"orderId:\"+this.passedOrder.id);\n      this.fetchOrderDetails();\n    }else{\n      console.info(\"Order id not found, going back\")\n      this.$router.go(-1);\n    }\n  }\n}\n</script>\n\n\n<style lang=\"scss\">\n.small-form{\n  padding: 16px;\n  background-color: #edfafe;\n  border: 1px solid #b7e9f9;\n  border-radius: 6px;\n}\n.danger--text{\n  color: #e60000;\n}\n\n.blue--text{\n  color: #00aaff;\n}\n.product-item{\n  background-color: #f8fcff;\n  padding: 12px;\n  border: 1px solid #bde0fe;\n  margin-bottom: 32px;\n}\n\n.product-item-active{\n  background-color: #eaf7f0;\n  padding: 12px;\n  border: 1px solid #95d5b2;\n  margin-bottom: 32px;\n}\n\ndiv.product-item-active:hover, div.product-item:hover {\n  cursor: pointer;\n}\n\n.vs-card--content {\n  font-size: 1em !important;\n}\n\n.location-item {\n  border: 1px solid #e5e5e5;\n  background-color: #dbf4fc;\n}\n\n.selectedOrder-address {\n  border: 1px solid #2a9d8f;\n  background-color: #eaf5f4;\n  color: #2a9d8f;\n}\n\ndiv.location-item:hover {\n  background-color: #b7e9f9;\n  cursor: pointer;\n}\n\n#data-list-list-view {\n  .vs-con-table {\n\n    /*\n      Below media-queries is fix for responsiveness of action buttons\n      Note: If you change action buttons or layout of this page, Please remove below style\n    */\n    @media (max-width: 689px) {\n      .vs-table--search {\n        margin-left: 0;\n        max-width: unset;\n        width: 100%;\n\n        .vs-table--search-input {\n          width: 100%;\n        }\n      }\n    }\n\n    @media (max-width: 461px) {\n      .items-per-page-handler {\n        display: none;\n      }\n    }\n\n    @media (max-width: 341px) {\n      .data-list-btn-container {\n        width: 100%;\n\n        .dd-actions,\n        .btn-add-new {\n          width: 100%;\n          margin-right: 0 !important;\n        }\n      }\n    }\n\n    .product-name {\n      max-width: 23rem;\n    }\n\n    .vs-table--header {\n      display: flex;\n      flex-wrap: wrap;\n      margin-left: 1.5rem;\n      margin-right: 1.5rem;\n\n      > span {\n        display: flex;\n        flex-grow: 1;\n      }\n\n      .vs-table--search {\n        padding-top: 0;\n\n        .vs-table--search-input {\n          padding: 0.9rem 2.5rem;\n          font-size: 1rem;\n\n          & + i {\n            left: 1rem;\n          }\n\n          &:focus + i {\n            left: 1rem;\n          }\n        }\n      }\n    }\n\n    .vs-table {\n      border-collapse: separate;\n      border-spacing: 0 1.3rem;\n      padding: 0 1rem;\n\n      tr {\n        box-shadow: 0 4px 20px 0 rgba(0, 0, 0, .05);\n\n        td {\n          padding: 20px;\n\n          &:first-child {\n            border-top-left-radius: .5rem;\n            border-bottom-left-radius: .5rem;\n          }\n\n          &:last-child {\n            border-top-right-radius: .5rem;\n            border-bottom-right-radius: .5rem;\n          }\n        }\n\n        td.td-check {\n          padding: 20px !important;\n        }\n      }\n    }\n\n    .vs-table--thead {\n      th {\n        padding-top: 0;\n        padding-bottom: 0;\n\n        .vs-table-text {\n          text-transform: uppercase;\n          font-weight: 600;\n        }\n      }\n\n      th.td-check {\n        padding: 0 15px !important;\n      }\n\n      tr {\n        background: none;\n        box-shadow: none;\n      }\n    }\n\n    .vs-table--pagination {\n      justify-content: center;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderDetails.vue?vue&type=template&id=423ed2c9&\"\nimport script from \"./OrderDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderDetails.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}