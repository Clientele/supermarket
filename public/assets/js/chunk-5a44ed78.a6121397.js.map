{"version":3,"sources":["webpack:///./src/views/sales/orders/Orders.vue?bf0e","webpack:///./src/views/sales/orders/Orders.vue?1fab","webpack:///src/views/sales/orders/Orders.vue","webpack:///./src/views/sales/orders/Orders.vue?28bc","webpack:///./src/views/sales/orders/Orders.vue?c285"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","item","id","availableRegions","model","value","callback","$$v","selectedOrderRegionId","expression","on","showOrderForm","ref","orders","showOrderDetails","scopedSlots","_u","key","fn","data","_l","rowIndex","_s","customer","customer_name","place","place_name","district","district_name","region","region_name","staff","staff_name","class","is_cancelled","order_status","selectedOrder","slot","orderFormDialog","$event","closeOrderForm","selectedOrderCustomer","_e","directives","name","rawName","customerQuery","index","pickCustomer","email","phone_number_1","phone_number_2","distrcit_name","removeCustomer","selectedOrderAddress","locationQuery","errors","has","first","address","pickAddress","location_name","removeAddress","products","fetchProductVariants","selectedOrderProduct","productVariants","selectedOrderProductVariant","quantity","addProductToCart","cartProduct","product","product_name","productVariant","variant_name","removeFromCart","cartProducts","length","submitOrder","orderDetailsVisible","closeOrderDetails","staticStyle","rejectOrder","orderProduct","style","background","variant","ordered_quantity","delivered_quantity","selling_price","phone_number","availableStaff","setSalesPerson","selectedStaff","cancellationForm","cancellationReason","staticRenderFns","components","Table","vSelect","itemsPerPage","isMounted","showOrderFormSidebar","sidebarData","customers","addressesRawResults","watch","fetchOrders","searchLocations","searchCustomer","computed","currentPage","$refs","table","currentx","addresses","map","resultItem","type","location","searchable","place_id","district_id","region_id","country","country_id","methods","console","log","JSON","stringify","rawCustomers","$vs","loading","info","axios","error","fetchOrderDetails","confirmCustomerDeletion","customerInstance","dialog","color","title","text","accept","orderInstance","order","push","splice","cartItem","customer_id","product_variants","variants","orderData","sadlyNotify","promptCancellation","cancelletionReason","fetchRegions","fetchProducts","fetchStaff","selectedDepot","query","response","success","handleApiError","notify","iconPack","icon","happilyNotify","created","mounted","component"],"mappings":"kHAAA,W,kECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsBC,MAAM,CAAC,GAAK,wBAAwB,CAACH,EAAG,MAAM,CAACE,YAAY,sEAAsE,CAACF,EAAG,MAAM,CAACE,YAAY,+DAA+D,CAACF,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAO,gBAAgB,KAAO,QAAQ,MAAQ,aAAaH,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,8BAA8BJ,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,WAAY,EAAM,OAAS,SAAUE,GAAQ,OAAOA,EAAKC,IAAM,QAAUV,EAAIW,iBAAiB,MAAQ,eAAeC,MAAM,CAACC,MAAOb,EAAyB,sBAAEc,SAAS,SAAUC,GAAMf,EAAIgB,sBAAsBD,GAAKE,WAAW,2BAA2Bb,EAAG,YAAY,CAACE,YAAY,iCAAiCC,MAAM,CAAC,KAAO,MAAM,GAAK,mBAAmBW,GAAG,CAAC,MAAQlB,EAAImB,gBAAgB,CAACnB,EAAIQ,GAAG,wBAAwB,KAAKJ,EAAG,UAAU,CAACA,EAAG,WAAW,CAACgB,IAAI,QAAQb,MAAM,CAAC,WAAa,GAAG,YAAY,IAAI,OAAS,GAAG,KAAOP,EAAIqB,QAAQH,GAAG,CAAC,SAAWlB,EAAIsB,kBAAkBC,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASN,GAChqC,IAAIO,EAAOP,EAAIO,KACf,MAAO,CAACvB,EAAG,QAAQJ,EAAI4B,GAAG,GAAO,SAASnB,EAAKoB,GAAU,OAAOzB,EAAG,QAAQ,CAACqB,IAAII,EAAStB,MAAM,CAAC,KAAOE,IAAO,CAACL,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACE,YAAY,qCAAqC,CAACN,EAAIQ,GAAGR,EAAI8B,GAAGrB,EAAKC,SAASN,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACE,YAAY,qCAAqC,CAACN,EAAIQ,GAAGR,EAAI8B,GAAGrB,EAAKsB,SAAWtB,EAAKsB,SAASC,cAAgB,UAAU5B,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACE,YAAY,oBAAoB,CAACN,EAAIQ,GAAG,mBAAmBR,EAAI8B,GAAGrB,EAAKwB,MAAQxB,EAAKwB,MAAMC,WAAa,KAAK,mBAAmBlC,EAAI8B,GAAGrB,EAAK0B,SAAW1B,EAAK0B,SAASC,cAAgB,KAAK,mBAAmBpC,EAAI8B,GAAGrB,EAAK4B,OAAS5B,EAAK4B,OAAOC,YAAc,KAAK,sBAAsBlC,EAAG,QAAQ,CAAEK,EAAU,MAAEL,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,cAAc,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,YAAY,YAAY,UAAU,KAAO,eAAeP,EAAIQ,GAAG,mBAAmBR,EAAI8B,GAAGrB,EAAK8B,MAAMC,YAAY,mBAAmB,GAAGpC,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACP,EAAIQ,GAAG,mBAAmB,GAAGJ,EAAG,QAAQ,CAACA,EAAG,OAAO,CAACqC,MAAMhC,EAAKiC,aAAc,cAAgB,gBAAgB,CAAC1C,EAAIQ,GAAG,IAAIR,EAAI8B,GAAGrB,EAAKkC,mBAAmBvC,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACF,EAAG,YAAY,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,YAAY,KAAO,QAAQ,KAAO,WAAW,CAACP,EAAIQ,GAAG,yBAAyB,IAAI,MAAK,QAAQI,MAAM,CAACC,MAAOb,EAAiB,cAAEc,SAAS,SAAUC,GAAMf,EAAI4C,cAAc7B,GAAKE,WAAW,kBAAkB,CAACb,EAAG,WAAW,CAACyC,KAAK,SAAS,CAACzC,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,OAAOJ,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,cAAcJ,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,aAAaJ,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,kBAAkBJ,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,aAAa,IAAI,IAAI,GAAGJ,EAAG,WAAW,CAACG,MAAM,CAAC,WAAa,GAAG,MAAQ,YAAY,OAASP,EAAI8C,iBAAiB5B,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAIgD,kBAAkB,gBAAgB,SAASD,GAAQ/C,EAAI8C,gBAAgBC,KAAU,CAAC3C,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,cAAgBR,EAAIiD,sBAAwSjD,EAAIkD,KAArR9C,EAAG,WAAW,CAAC+C,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaxC,MAAM,WAAaI,WAAW,eAAeX,YAAY,cAAcC,MAAM,CAAC,KAAO,YAAYK,MAAM,CAACC,MAAOb,EAAiB,cAAEc,SAAS,SAAUC,GAAMf,EAAIsD,cAAcvC,GAAKE,WAAW,mBAA4BjB,EAAI4B,GAAI5B,EAAa,WAAE,SAAS+B,EAASwB,GAAO,OAAOnD,EAAG,MAAM,CAACqB,IAAI8B,EAAMjD,YAAY,uCAAuCY,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAIwD,aAAazB,MAAa,CAAC3B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGC,EAASC,eAAe,IAAIhC,EAAI8B,GAAGC,EAAS0B,UAAUrD,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGC,EAAS2B,gBAAgB,IAAI1D,EAAI8B,GAAGC,EAAS4B,mBAAmBvD,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAI8B,GAAGC,EAASM,OAASN,EAASM,OAAOC,YAAc,KAAK,uBAAuBtC,EAAI8B,GAAGC,EAASI,SAAWJ,EAASI,SAASyB,cAAgB,KAAK,uBAAuB5D,EAAI8B,GAAGC,EAASE,MAAQF,EAASE,MAAMC,WAAa,KAAK,+BAA+BlC,EAAyB,sBAAEI,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,uBAAuBR,EAAI8B,GAAG9B,EAAIiD,sBAAsBjB,eAAe,wBAAwB5B,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,SAAS,KAAO,OAAO,YAAY,UAAU,KAAO,UAAUW,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAI6D,sBAAsB,KAAK7D,EAAIkD,MAAM,GAAG9C,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,sBAAwBR,EAAI8D,qBAAuS9D,EAAIkD,KAArR9C,EAAG,WAAW,CAAC+C,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaxC,MAAM,WAAaI,WAAW,eAAeX,YAAY,cAAcC,MAAM,CAAC,KAAO,YAAYK,MAAM,CAACC,MAAOb,EAAiB,cAAEc,SAAS,SAAUC,GAAMf,EAAI+D,cAAchD,GAAKE,WAAW,mBAA4Bb,EAAG,OAAO,CAAC+C,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASxC,MAAOb,EAAIgE,OAAOC,IAAI,YAAahD,WAAW,2BAA2BX,YAAY,uBAAuB,CAACN,EAAIQ,GAAGR,EAAI8B,GAAG9B,EAAIgE,OAAOE,MAAM,iBAAiBlE,EAAI4B,GAAI5B,EAAa,WAAE,SAASmE,EAAQZ,GAAO,OAAOnD,EAAG,MAAM,CAACqB,IAAI8B,EAAMjD,YAAY,uCAAuCY,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAIoE,YAAYD,MAAY,CAAC/D,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAGqC,EAAQE,yBAAyBrE,EAAwB,qBAAEI,EAAG,MAAM,CAACE,YAAY,gDAAgD,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,uBAAuBR,EAAI8B,GAAG9B,EAAI8D,qBAAqBO,eAAe,wBAAwBjE,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,SAAS,KAAO,OAAO,YAAY,UAAU,KAAO,UAAUW,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAIsE,qBAAqB,KAAKtE,EAAIkD,MAAM,KAAK9C,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,kBAAkBJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACE,YAAY,mBAAmB,CAACN,EAAIQ,GAAG,aAAaJ,EAAG,WAAW,CAAC+C,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaxC,MAAM,WAAaI,WAAW,eAAeV,MAAM,CAAC,WAAY,EAAM,QAAUP,EAAIuE,SAAS,KAAO,UAAU,MAAQ,eAAe,YAAc,UAAUrD,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAIwE,yBAAyB5D,MAAM,CAACC,MAAOb,EAAwB,qBAAEc,SAAS,SAAUC,GAAMf,EAAIyE,qBAAqB1D,GAAKE,WAAW,0BAA0Bb,EAAG,OAAO,CAAC+C,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASxC,MAAOb,EAAIgE,OAAOC,IAAI,WAAYhD,WAAW,0BAA0BX,YAAY,uBAAuB,CAACN,EAAIQ,GAAGR,EAAI8B,GAAG9B,EAAIgE,OAAOE,MAAM,gBAAgB,GAAG9D,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACE,YAAY,mBAAmB,CAACN,EAAIQ,GAAG,qBAAqBJ,EAAG,WAAW,CAAC+C,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaxC,MAAM,WAAaI,WAAW,eAAeV,MAAM,CAAC,WAAY,EAAM,QAAUP,EAAI0E,gBAAgB,KAAO,UAAU,MAAQ,eAAe,YAAc,UAAU9D,MAAM,CAACC,MAAOb,EAA+B,4BAAEc,SAAS,SAAUC,GAAMf,EAAI2E,4BAA4B5D,GAAKE,WAAW,iCAAiCb,EAAG,OAAO,CAAC+C,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASxC,MAAOb,EAAIgE,OAAOC,IAAI,WAAYhD,WAAW,0BAA0BX,YAAY,uBAAuB,CAACN,EAAIQ,GAAGR,EAAI8B,GAAG9B,EAAIgE,OAAOE,MAAM,gBAAgB,GAAG9D,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAAC+C,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaxC,MAAM,WAAaI,WAAW,eAAeX,YAAY,cAAcC,MAAM,CAAC,MAAQ,WAAW,KAAO,YAAYK,MAAM,CAACC,MAAOb,EAAY,SAAEc,SAAS,SAAUC,GAAMf,EAAI4E,SAAS7D,GAAKE,WAAW,cAAcb,EAAG,OAAO,CAAC+C,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASxC,MAAOb,EAAIgE,OAAOC,IAAI,YAAahD,WAAW,2BAA2BX,YAAY,uBAAuB,CAACN,EAAIQ,GAAG,sBAAsBR,EAAI8B,GAAG9B,EAAIgE,OAAOE,MAAM,aAAa,QAAQ,GAAIlE,EAAIyE,sBAAwBzE,EAAI2E,6BAA+B3E,EAAI4E,SAAS,EAAGxE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACgB,IAAI,aAAad,YAAY,YAAYC,MAAM,CAAC,MAAQ,aAAaW,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAI6E,sBAAsB,CAAC7E,EAAIQ,GAAG,oDAAoD,GAAGR,EAAIkD,SAAS9C,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUR,EAAI4B,GAAI5B,EAAgB,cAAE,SAAS8E,EAAYvB,GAAO,OAAOnD,EAAG,MAAM,CAACqB,IAAI8B,EAAMjD,YAAY,iBAAiB,CAACF,EAAG,UAAU,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAACN,EAAIQ,GAAG,uBAAuBR,EAAI8B,GAAGgD,EAAYC,QAAQC,cAAc,uBAAuBhF,EAAI8B,GAAGgD,EAAYG,eAAeC,cAAc,6BAA6BlF,EAAI8B,GAAGgD,EAAYF,UAAU,wBAAwBxE,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,SAAS,OAAS,GAAG,KAAO,QAAQ,KAAO,SAASW,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAImF,eAAe5B,QAAY,MAAM,MAAMvD,EAAIoF,aAAaC,OAAO,EAAGjF,EAAG,MAAM,CAACA,EAAG,YAAY,CAACgB,IAAI,aAAad,YAAY,YAAYC,MAAM,CAAC,MAAQ,WAAWW,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAIsF,iBAAiB,CAACtF,EAAIQ,GAAG,iDAAiD,GAAGR,EAAIkD,MAAM,KAAK9C,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,kDAAkDF,EAAG,WAAW,CAACG,MAAM,CAAC,WAAa,GAAG,MAAQ,gBAAgB,OAASP,EAAIuF,qBAAqBrE,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAIwF,qBAAqB,gBAAgB,SAASzC,GAAQ/C,EAAIuF,oBAAoBxC,KAAU,CAAC3C,EAAG,MAAM,CAACqF,YAAY,CAAC,aAAa,UAAU,CAACrF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,gBAAgBJ,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAG9B,EAAI4C,cAAcb,SAAW/B,EAAI4C,cAAcb,SAASC,cAAgB,oBAAoB5B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAI8B,GAAG9B,EAAI4C,cAAcb,SAAW/B,EAAI4C,cAAcb,SAAS2B,eAAiB,YAAY,uBAAuB1D,EAAI8B,GAAG9B,EAAI4C,cAAcb,SAAW/B,EAAI4C,cAAcb,SAAS4B,eAAiB,IAAI,0BAA0BvD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAI8B,GAAG9B,EAAI4C,cAAcb,SAAW/B,EAAI4C,cAAcb,SAAS0B,MAAQ,SAAS,0BAA0BrD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,aAAaJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAI8B,GAAG9B,EAAI4C,cAAcX,MAAQjC,EAAI4C,cAAcX,MAAMC,WAAa,KAAK,uBAAuBlC,EAAI8B,GAAG9B,EAAI4C,cAAcT,SAAWnC,EAAI4C,cAAcT,SAASC,cAAgB,KAAK,uBAAuBpC,EAAI8B,GAAG9B,EAAI4C,cAAcP,OAASrC,EAAI4C,cAAcP,OAAOC,YAAc,KAAK,8BAAiCtC,EAAI4C,cAA0B,aAAoJ5C,EAAIkD,KAArJ9C,EAAG,YAAY,CAACE,YAAY,QAAQC,MAAM,CAAC,MAAQ,UAAUW,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAI0F,iBAAiB,CAAC1F,EAAIQ,GAAG,oBAA6B,GAAIR,EAAI4C,cAA4B,eAAExC,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,wBAAwBR,EAAI4B,GAAI5B,EAAI4C,cAA4B,gBAAE,SAAS+C,EAAapC,GAAO,OAAOnD,EAAG,UAAU,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,KAAO,WAAWsC,KAAK,WAAW,CAACzC,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAACF,EAAG,eAAe,CAACE,YAAY,4CAA4CsF,MAAM,CAAEC,WAAY,+BAAgCtF,MAAM,CAAC,KAAO,iBAAiBH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACE,YAAY,kBAAkB,CAACN,EAAIQ,GAAG,yBAAyBR,EAAI8B,GAAG6D,EAAaZ,QAAUY,EAAaZ,QAAQC,aAAe,IAAI,yBAAyBhF,EAAI8B,GAAG6D,EAAaG,QAAUH,EAAaG,QAAQZ,aAAe,KAAK,0BAA0B9E,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYR,EAAI8B,GAAG6D,EAAaI,qBAAqB3F,EAAG,KAAK,CAACJ,EAAIQ,GAAG,cAAcR,EAAI8B,GAAG6D,EAAaK,uBAAuB5F,EAAG,KAAK,CAACJ,EAAIQ,GAAG,OAAOR,EAAI8B,GAAG6D,EAAaM,uBAAuB,WAAU,GAAGjG,EAAIkD,KAAMlD,EAAI4C,cAA4B,eAAExC,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,oBAAoBJ,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAI8B,GAAG9B,EAAI4C,cAAcL,MAAQvC,EAAI4C,cAAcL,MAAMC,WAAa,wBAAwBpC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAI4C,cAAcL,MAAQvC,EAAI4C,cAAcL,MAAM2D,aAAe,mBAAmB9F,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACE,YAAY,mBAAmB,CAACN,EAAIQ,GAAG,yBAAyBJ,EAAG,WAAW,CAAC+C,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaxC,MAAM,WAAaI,WAAW,eAAeV,MAAM,CAAC,WAAY,EAAM,QAAUP,EAAImG,eAAe,KAAO,QAAQ,MAAQ,aAAa,YAAc,UAAUjF,GAAG,CAAC,MAAQ,SAAS6B,GAAQ,OAAO/C,EAAIoG,mBAAmBxF,MAAM,CAACC,MAAOb,EAAiB,cAAEc,SAAS,SAAUC,GAAMf,EAAIqG,cAActF,GAAKE,WAAW,mBAAmBb,EAAG,OAAO,CAAC+C,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASxC,MAAOb,EAAIgE,OAAOC,IAAI,SAAUhD,WAAW,wBAAwBX,YAAY,uBAAuB,CAACN,EAAIQ,GAAGR,EAAI8B,GAAG9B,EAAIgE,OAAOE,MAAM,cAAc,KAAKlE,EAAIkD,WAAW9C,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,sBAAsB,cAAc,WAAW,cAAc,SAAS,MAAQ,YAAY,OAASP,EAAIsG,kBAAkBpF,GAAG,CAAC,OAAS,SAAS6B,GAAQ/C,EAAIuG,mBAAmB,MAAM,OAAS,SAASxD,GAAQ,OAAO/C,EAAI0F,eAAe,gBAAgB,SAAS3C,GAAQ/C,EAAIsG,iBAAiBvD,KAAU,CAAC3C,EAAG,MAAM,CAACA,EAAG,WAAW,CAACE,YAAY,cAAcC,MAAM,CAAC,YAAc,UAAUK,MAAM,CAACC,MAAOb,EAAsB,mBAAEc,SAAS,SAAUC,GAAMf,EAAIuG,mBAAmBxF,GAAKE,WAAW,yBAAyB,MAAM,IAChpZuF,EAAkB,G,yDC4WtB,GACEC,WAAY,CACVC,MAAJ,OACIC,QAAJ,KAGEhF,KANF,WAOI,MAAO,CACLiB,cAAe,GACfvB,OAAQ,GACRkE,qBAAqB,EAErBqB,aAAc,EACdC,WAAW,EAGXC,sBAAsB,EACtBC,YAAa,GAEb/F,sBAAuB,CAA7B,mCACML,iBAAkB,GAElBmC,iBAAiB,EACjBsC,aAAc,GACdR,SAAU,EACVH,qBAAsB,KACtBE,4BAA6B,KAE7BJ,SAAU,GACVG,gBAAiB,GAEjBpB,cAAe,GACf0D,UAAW,GACX/D,sBAAuB,KAEvBc,cAAe,GACfkD,oBAAqB,GACrBnD,qBAAsB,KAEtBqC,eAAgB,GAChBE,cAAe,GAEfE,mBAAoB,GACpBD,kBAAkB,IAKtBY,MAAO,CACLlG,sBAAuB,SAA3B,GACMf,KAAKkH,eAEPpD,cAJJ,SAIA,GACM9D,KAAKmH,mBAEP9D,cAPJ,SAOA,GACMrD,KAAKoH,mBAKTC,SAAU,CACRC,YADJ,WAEM,OAAItH,KAAK4G,UACA5G,KAAKuH,MAAMC,MAAMC,SAEnB,GAGTC,UARJ,WASM,OAAO1H,KAAKgH,oBAAoBW,KAAI,SAAUC,GAE5C,IAAR,KAqCQ,MAlCwB,WAApBA,EAAWC,OACbC,EAAS1D,cAAgBwD,EAAWG,WAAW9F,WAC/C6F,EAASE,SAAWJ,EAAWG,WAAWtH,IAEpB,cAApBmH,EAAWC,OACbC,EAAS1D,cAAgBwD,EAAWG,WAAW5F,cAC/C2F,EAASG,YAAcL,EAAWG,WAAWtH,IAEvB,YAApBmH,EAAWC,OACbC,EAAS1D,cAAgBwD,EAAWG,WAAW1F,YAC/CyF,EAASI,UAAYN,EAAWG,WAAWtH,IAIzCmH,EAAWG,WAAW/F,QACxB8F,EAAS1D,cAAgB0D,EAAS1D,cAAgB,IAAMwD,EAAWG,WAAW7F,SAASC,cACvF2F,EAASE,SAAWJ,EAAWG,WAAWtH,IAGxCmH,EAAWG,WAAW7F,WACxB4F,EAAS1D,cAAgB0D,EAAS1D,cAAgB,IAAMwD,EAAWG,WAAW7F,SAASC,cACvF2F,EAASG,YAAcL,EAAWG,WAAW7F,SAASzB,IAGpDmH,EAAWG,WAAW3F,SACxB0F,EAAS1D,cAAgB0D,EAAS1D,cAAgB,IAAMwD,EAAWG,WAAW3F,OAAOC,YACrFyF,EAASI,UAAYN,EAAWG,WAAW3F,OAAO3B,IAGhDmH,EAAWG,WAAWI,UACxBL,EAAS1D,cAAgB0D,EAAS1D,cAAgB,IAAMwD,EAAWG,WAAW3F,OAAOC,YACrFyF,EAASM,WAAaR,EAAWG,WAAWI,QAAQ1H,IAG/CqH,OAObO,QAAS,CAEPnB,YAFJ,WAEA,WACMoB,QAAQC,IAAIC,KAAKC,UAAUzI,KAAKe,wBAEhCf,KAAK0I,aAAe,GACpB1I,KAAK2I,IAAIC,QAAQ,CAAvB,2EACMN,QAAQO,KAAK,wBACbC,EAAN,0EACA,kBACQ,EAAR,kCACQ,EAAR,2DACA,mBACQR,QAAQC,IAAIQ,GACZ,EAAR,sBAIIC,kBAlBJ,WAkBA,WACMV,QAAQO,KAAK,sBACbC,EAAN,6DACA,kBACQ,EAAR,sCACA,mBACQR,QAAQC,IAAIQ,GACZ,EAAR,sBAIIE,wBA7BJ,SA6BA,GACMjJ,KAAKkJ,iBAAmBpH,EACxB9B,KAAK2I,IAAIQ,OAAO,CACdtB,KAAM,UACNuB,MAAO,SACPC,MAAO,UACPC,KAAM,mCAAqCtJ,KAAKkJ,iBAAiBnH,cACjEwH,OAAQvJ,KAAK4D,kBAIjB1C,cAxCJ,WAwCA,gEACMlB,KAAK6C,iBAAkB,EACvB7C,KAAKwJ,cAAgBC,GAGvB1G,eA7CJ,WA8CM/C,KAAK6C,iBAAkB,GAGzB+B,iBAjDJ,WAkDM,IAAN,GACQE,QAAS9E,KAAKwE,qBACdQ,eAAgBhF,KAAK0E,4BACrBC,SAAU3E,KAAK2E,UAGjB3E,KAAKwE,qBAAuB,KAC5BxE,KAAK0E,4BAA8B,KACnC1E,KAAK2E,SAAW,EAEhB3E,KAAKmF,aAAauE,KAAK7E,IAGzBK,eA/DJ,SA+DA,GACMoD,QAAQC,IAAIjF,GACLtD,KAAKmF,aAAawE,OAAOrG,EAAO,IAGzC+B,YApEJ,WAoEA,WACM,GAAKrF,KAAKgD,sBAIV,GAAKhD,KAAK6D,qBAAV,CAKA,IAAN,qCACQ,MAAO,CACLpD,GAAImJ,EAAS5E,eAAevE,GAC5BkE,SAAUiF,EAASjF,aAI7B,GACQkF,YAAa7J,KAAKgD,sBAAsBvC,GACxCyH,UAAWlI,KAAK6D,qBAAqBqE,UACrCD,YAAajI,KAAK6D,qBAAqBoE,YACvCD,SAAUhI,KAAK6D,qBAAqBmE,SACpC8B,iBAAkBC,GAEpBzB,QAAQC,IAAIC,KAAKC,UAAUuB,IAE3BlB,EAAN,gCACA,kBACQ,EAAR,iBACQ,EAAR,6BACQ,EAAR,iBACA,mBACQR,QAAQC,IAAIQ,GACZ,EAAR,0BA3BQ/I,KAAKiK,YAAY,uBAJjBjK,KAAKiK,YAAY,oBAoCrB5I,iBA1GJ,WA2GM,KAAN,oFAGIkE,kBA9GJ,WA+GMvF,KAAKsF,qBAAsB,GAI7Ba,eAnHJ,WAmHA,WACM2C,EAAN,0FACA,kBACA,iBACU,EAAV,mCACU,EAAV,yBACU,EAAV,wBAEA,mBACQR,QAAQC,IAAIQ,GACZ,EAAR,sBAKImB,mBAlIJ,WAmIMlK,KAAKmK,mBAAqB,GAC1BnK,KAAKqG,kBAAmB,GAG1BZ,YAvIJ,WAuIA,WACMqD,EAAN,iCACQrI,GAAIT,KAAK2C,cAAclC,GACvB6F,mBAAoBtG,KAAKsG,qBAEjC,kBACA,iBACU,EAAV,mCACU,EAAV,yBACU,EAAV,wBAEA,mBACQgC,QAAQC,IAAIQ,GACZ,EAAR,sBAMIqB,aA1JJ,WA0JA,WACM9B,QAAQO,KAAK,sBACbP,QAAQO,KAAKL,KAAKC,UAAUzI,KAAKgD,wBACjC8F,EAAN,sDACA,kBACQ,EAAR,wCACQ,EAAR,0BAAU,GAAV,KAAU,YAAV,mBAEA,mBACQR,QAAQC,IAAIQ,OAIhBsB,cAvKJ,WAuKA,WACMvB,EAAN,sDACA,kBACQ,EAAR,yCACA,mBACQR,QAAQC,IAAIQ,OAIhBxE,qBAhLJ,WAgLA,WACMvE,KAAKyE,gBAAkB,GACvBzE,KAAK0E,4BAA8B,KACnCoE,EAAN,iFACA,kBACQ,EAAR,mDACA,mBACQR,QAAQC,IAAIQ,GACZ,EAAR,sBAIIuB,WA5LJ,WA4LA,WACMhC,QAAQO,KAAK,oBACbP,QAAQO,KAAKL,KAAKC,UAAUzI,KAAKuK,gBACjCzB,EAAN,kCACA,kBACQ,EAAR,uCACA,mBACQR,QAAQC,IAAIQ,OAOhB3B,eA1MJ,WA0MA,WACMkB,QAAQC,IAAI,uBACZvI,KAAK+G,UAAY,GACZ,KAAX,eAGM+B,EAAN,qEACA,kBACA,iBACU,EAAV,uCAEA,mBACQR,QAAQC,IAAIQ,GACZ,EAAR,sBAKIxF,aA5NJ,SA4NA,GACMvD,KAAK+G,UAAY,GACjB/G,KAAKgD,sBAAwBlB,GAG/B8B,eAjOJ,WAkOM5D,KAAKgD,sBAAwB,MAI/BmE,gBAtOJ,WAsOA,WACMnH,KAAKgH,oBAAsB,GAEtB,KAAX,eAGM8B,EAAN,uCACQ0B,MAAOxK,KAAK8D,gBACpB,kBACY2G,EAAS/I,KAAKgJ,UAChB,EAAV,iDAEA,mBACQpC,QAAQC,IAAIQ,OAIhB5E,YAvPJ,SAuPA,GACMnE,KAAKgH,oBAAsB,GAC3BhH,KAAK6D,qBAAuBK,GAG9BG,cA5PJ,WA6PMrE,KAAK6D,qBAAuB,MAK9B8G,eAlQJ,SAkQA,GACM3K,KAAK2I,IAAIiC,OAAO,CACdvB,MAAO,QACPC,KAAM,OAAd,OAAc,CAAd,GACQuB,SAAU,UACVC,KAAM,oBACN1B,MAAO,YAIX2B,cA5QJ,SA4QA,GACM/K,KAAK2I,IAAIiC,OAAO,CAAtB,0CAGIX,YAhRJ,SAgRA,GACMjK,KAAK2I,IAAIiC,OAAO,CAAtB,+DAOEI,QA5YF,WA6YIhL,KAAKqK,gBACLrK,KAAKsK,cAEPW,QAhZF,WAiZIjL,KAAKkH,cACLlH,KAAK4G,WAAY,ICjwByV,I,wBCQ1WsE,EAAY,eACd,EACApL,EACAyG,GACA,EACA,KACA,KACA,MAIa,aAAA2E,E","file":"js/chunk-5a44ed78.a6121397.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list-container\",attrs:{\"id\":\"data-list-list-view\"}},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center flex-grow justify-between mb-6\"},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center data-list-btn-container\"},[_c('vs-icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"shopping_cart\",\"size\":\"large\",\"color\":\"primary\"}}),_c('h1',{staticClass:\"mr-6\"},[_vm._v(\"\\n        Orders\\n      \")]),_c('v-select',{staticClass:\"mr-6\",attrs:{\"clearable\":false,\"reduce\":function (item) { return item.id; },\"options\":_vm.availableRegions,\"label\":\"region_name\"},model:{value:(_vm.selectedOrderRegionId),callback:function ($$v) {_vm.selectedOrderRegionId=$$v},expression:\"selectedOrderRegionId\"}}),_c('vs-button',{staticClass:\"mr-4 vs-con-loading__container\",attrs:{\"icon\":\"add\",\"id\":\"customerLoading\"},on:{\"click\":_vm.showOrderForm}},[_vm._v(\"Add Order\\n      \")])],1)]),_c('vs-card',[_c('vs-table',{ref:\"table\",attrs:{\"pagination\":\"\",\"max-items\":100,\"search\":\"\",\"data\":_vm.orders},on:{\"selected\":_vm.showOrderDetails},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('tbody',_vm._l((data),function(item,rowIndex){return _c('vs-tr',{key:rowIndex,attrs:{\"data\":item}},[_c('vs-td',[_c('p',{staticClass:\"product-name font-medium truncate\"},[_vm._v(_vm._s(item.id))])]),_c('vs-td',[_c('p',{staticClass:\"product-name font-medium truncate\"},[_vm._v(_vm._s(item.customer ? item.customer.customer_name : \" \"))])]),_c('vs-td',[_c('p',{staticClass:\"product-category\"},[_vm._v(\"\\n              \"+_vm._s(item.place ? item.place.place_name : \" \")+\"\\n              \"+_vm._s(item.district ? item.district.district_name : \" \")+\"\\n              \"+_vm._s(item.region ? item.region.region_name : \" \")+\"\\n            \")])]),_c('vs-td',[(item.staff)?_c('vs-chip',{attrs:{\"color\":\"secondary\"}},[_c('vs-avatar',{attrs:{\"color\":\"secondary\",\"icon-pack\":\"feather\",\"icon\":\"icon-user\"}}),_vm._v(\"\\n              \"+_vm._s(item.staff.staff_name)+\"\\n            \")],1):_c('vs-chip',{attrs:{\"color\":\"grey\"}},[_vm._v(\" No Salesman\")])],1),_c('vs-td',[_c('span',{class:item.is_cancelled? \"text-danger\" : \"text-primary\"},[_vm._v(\" \"+_vm._s(item.order_status))])]),_c('vs-td',{staticClass:\"whitespace-no-wrap\"},[_c('vs-button',{staticClass:\"mr-2\",attrs:{\"color\":\"secondary\",\"size\":\"small\",\"type\":\"border\"}},[_vm._v(\"View\\n            \")])],1)],1)}),1)]}}]),model:{value:(_vm.selectedOrder),callback:function ($$v) {_vm.selectedOrder=$$v},expression:\"selectedOrder\"}},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"#\")]),_c('vs-th',[_vm._v(\"Customer\")]),_c('vs-th',[_vm._v(\"Address\")]),_c('vs-th',[_vm._v(\"Sales Person\")]),_c('vs-th',[_vm._v(\"Status\")]),_c('vs-th',[_vm._v(\"Action\")])],1)],2)],1),_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":\"New Order\",\"active\":_vm.orderFormDialog},on:{\"close\":function($event){return _vm.closeOrderForm()},\"update:active\":function($event){_vm.orderFormDialog=$event}}},[_c('div',{staticClass:\"md:px-6\"},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/3 w-1/4\"},[_c('div',{staticClass:\"mt-4 mb-5\"},[_c('h3',[_vm._v(\"Customer\")]),(!_vm.selectedOrderCustomer)?_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mt-5 w-full\",attrs:{\"name\":\"location\"},model:{value:(_vm.customerQuery),callback:function ($$v) {_vm.customerQuery=$$v},expression:\"customerQuery\"}}):_vm._e(),_vm._l((_vm.customers),function(customer,index){return _c('div',{key:index,staticClass:\"location-item px-2 py-2 rounded mt-4\",on:{\"click\":function($event){return _vm.pickCustomer(customer)}}},[_c('ul',[_c('li',[_vm._v(_vm._s(customer.customer_name)+\" \"+_vm._s(customer.email))]),_c('li',[_vm._v(_vm._s(customer.phone_number_1)+\" \"+_vm._s(customer.phone_number_2))]),_c('li',[_vm._v(\"\\n                  \"+_vm._s(customer.region ? customer.region.region_name : \" \")+\"\\n                  \"+_vm._s(customer.district ? customer.district.distrcit_name : \" \")+\"\\n                  \"+_vm._s(customer.place ? customer.place.place_name : \" \")+\"\\n                \")])])])}),(_vm.selectedOrderCustomer)?_c('div',{staticClass:\"selectedOrder-address px-2 py-2 rounded mt-4\"},[_c('div',{staticClass:\"flex flex-wrap items-center\"},[_c('div',{staticClass:\"flex-grow\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrderCustomer.customer_name)+\"\\n                \")]),_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-x\"},on:{\"click\":function($event){return _vm.removeCustomer()}}})],1)]):_vm._e()],2),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('h3',[_vm._v(\"Delivery Address\")]),(!_vm.selectedOrderAddress)?_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"mt-5 w-full\",attrs:{\"name\":\"location\"},model:{value:(_vm.locationQuery),callback:function ($$v) {_vm.locationQuery=$$v},expression:\"locationQuery\"}}):_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('location')),expression:\"errors.has('location')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('item-name')))]),_vm._l((_vm.addresses),function(address,index){return _c('div',{key:index,staticClass:\"location-item px-2 py-2 rounded mt-4\",on:{\"click\":function($event){return _vm.pickAddress(address)}}},[_c('ul',[_c('li',[_vm._v(_vm._s(address.location_name))])])])}),(_vm.selectedOrderAddress)?_c('div',{staticClass:\"selectedOrder-address px-2 py-2 rounded mt-4\"},[_c('div',{staticClass:\"flex flex-wrap items-center\"},[_c('div',{staticClass:\"flex-grow\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrderAddress.location_name)+\"\\n                \")]),_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-x\"},on:{\"click\":function($event){return _vm.removeAddress()}}})],1)]):_vm._e()],2)]),_c('div',{staticClass:\"vx-col md:w-1/3 w-1/4\"},[_c('div',{staticClass:\"mx-6 px-6\"},[_c('h3',[_vm._v(\"Pick Product\")]),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(\"Product\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"clearable\":false,\"options\":_vm.products,\"name\":\"Product\",\"label\":\"product_name\",\"placeholder\":\"Select\"},on:{\"input\":function($event){return _vm.fetchProductVariants()}},model:{value:(_vm.selectedOrderProduct),callback:function ($$v) {_vm.selectedOrderProduct=$$v},expression:\"selectedOrderProduct\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('Product')),expression:\"errors.has('Product')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('Product')))])],1),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(\"Product Variant\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"clearable\":false,\"options\":_vm.productVariants,\"name\":\"Variant\",\"label\":\"variant_name\",\"placeholder\":\"Select\"},model:{value:(_vm.selectedOrderProductVariant),callback:function ($$v) {_vm.selectedOrderProductVariant=$$v},expression:\"selectedOrderProductVariant\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('Variant')),expression:\"errors.has('Variant')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('Variant')))])],1),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('vs-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"w-full mt-4\",attrs:{\"label\":\"Quantity\",\"name\":\"quantity\"},model:{value:(_vm.quantity),callback:function ($$v) {_vm.quantity=$$v},expression:\"quantity\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('quantity')),expression:\"errors.has('quantity')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(\"\\n                 \"+_vm._s(_vm.errors.first('quantity'))+\" \")])],1),(_vm.selectedOrderProduct && _vm.selectedOrderProductVariant && _vm.quantity>0)?_c('div',[_c('vs-button',{ref:\"saveButton\",staticClass:\"mr-4 mb-4\",attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.addProductToCart()}}},[_vm._v(\"\\n                Add to cart\\n              \")])],1):_vm._e()])]),_c('div',{staticClass:\"vx-col md:w-1/3 w-1/4\"},[_c('h3',[_vm._v(\"Cart\")]),_vm._l((_vm.cartProducts),function(cartProduct,index){return _c('div',{key:index,staticClass:\"category-item\"},[_c('vs-card',{staticClass:\"my-6\"},[_c('div',{staticClass:\"flex flex-wrap\"},[_c('p',{staticClass:\"mt-1 flex-grow\"},[_vm._v(\"\\n                  \"+_vm._s(cartProduct.product.product_name)+\"\\n                  \"+_vm._s(cartProduct.productVariant.variant_name)+\",\\n                  QTY: \"+_vm._s(cartProduct.quantity)+\"\\n                \")]),_c('vs-button',{attrs:{\"type\":\"border\",\"color\":\"danger\",\"radius\":\"\",\"icon\":\"close\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.removeFromCart(index)}}})],1)])],1)}),(_vm.cartProducts.length>0)?_c('div',[_c('vs-button',{ref:\"saveButton\",staticClass:\"mr-4 mb-4\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.submitOrder()}}},[_vm._v(\"\\n              Submit Order\\n            \")])],1):_vm._e()],2)]),_c('div',{staticClass:\"vx-row mt-12\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('div',{staticClass:\"flex items-start flex-col sm:flex-row\"})])])])]),_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":\"Order Details\",\"active\":_vm.orderDetailsVisible},on:{\"close\":function($event){return _vm.closeOrderDetails()},\"update:active\":function($event){_vm.orderDetailsVisible=$event}}},[_c('div',{staticStyle:{\"min-height\":\"100vh\"}},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-1/3\"},[_c('div',{staticClass:\"mb-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Customer\")])]),_c('div',[_c('table',[_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Name\")]),_c('td',[_vm._v(_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.customer_name : \"No Customer\"))])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Phone\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.phone_number_1 : \"No Phone\")+\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.phone_number_2 : \"\")+\"\\n                \")])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Email\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.customer ? _vm.selectedOrder.customer.email : \"Email\")+\"\\n                \")])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Address\")]),_c('td',[_vm._v(\"\\n                  \"+_vm._s(_vm.selectedOrder.place ? _vm.selectedOrder.place.place_name : \" \")+\"\\n                  \"+_vm._s(_vm.selectedOrder.district ? _vm.selectedOrder.district.district_name : \" \")+\"\\n                  \"+_vm._s(_vm.selectedOrder.region ? _vm.selectedOrder.region.region_name : \" \")+\"\\n                \")])])])]),(!(_vm.selectedOrder.is_cancelled))?_c('vs-button',{staticClass:\"mt-12\",attrs:{\"color\":\"danger\"},on:{\"click\":function($event){return _vm.rejectOrder()}}},[_vm._v(\" Cancel Order\")]):_vm._e()],1),(_vm.selectedOrder.order_products)?_c('div',{staticClass:\"vx-col md:w-1/3 \"},[_c('div',{staticClass:\"mb-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Ordered Products\")])]),_vm._l((_vm.selectedOrder.order_products),function(orderProduct,index){return _c('vx-card',{staticClass:\"overflow-hidden mb-6\"},[_c('div',{attrs:{\"slot\":\"no-body\"},slot:\"no-body\"},[_c('div',{staticClass:\"p-6 flex justify-between flex-row-reverse items-center\"},[_c('feather-icon',{staticClass:\"p-3 inline-flex rounded-full text-primary\",style:({background: \"rgba(var(--vs-primary),.15)\"}),attrs:{\"icon\":\"PackageIcon\"}}),_c('div',{staticClass:\"truncate\"},[_c('h3',{staticClass:\"mb-1 font-bold\"},[_vm._v(\"\\n                    \"+_vm._s(orderProduct.product ? orderProduct.product.product_name : \"\")+\"\\n                    \"+_vm._s(orderProduct.variant ? orderProduct.variant.variant_name : \" \")+\"\\n                  \")]),_c('ul',[_c('li',[_vm._v(\"Quantity \"+_vm._s(orderProduct.ordered_quantity))]),_c('li',[_vm._v(\"Delivered: \"+_vm._s(orderProduct.delivered_quantity))]),_c('li',[_vm._v(\"@TSH\"+_vm._s(orderProduct.selling_price))])])])],1)])])})],2):_vm._e(),(_vm.selectedOrder.order_products)?_c('div',{staticClass:\"vx-col md:w-1/3 \"},[_c('div',{staticClass:\"mb-6\"},[_c('span',{staticClass:\"font-bold\"},[_vm._v(\"Sales Person\")])]),_c('table',[_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Name\")]),_c('td',[_vm._v(_vm._s(_vm.selectedOrder.staff ? _vm.selectedOrder.staff.staff_name : \"No sales person\"))])]),_c('tr',[_c('td',{staticClass:\"pr-6\"},[_vm._v(\"Phone\")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.selectedOrder.staff ? _vm.selectedOrder.staff.phone_number : \"No Phone\"))])])]),_c('div',{staticClass:\"mt-4 mb-5\"},[_c('label',{staticClass:\"vs-input--label\"},[_vm._v(\"Update Sales Person\")]),_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"clearable\":false,\"options\":_vm.availableStaff,\"name\":\"Staff\",\"label\":\"staff_name\",\"placeholder\":\"Select\"},on:{\"input\":function($event){return _vm.setSalesPerson()}},model:{value:(_vm.selectedStaff),callback:function ($$v) {_vm.selectedStaff=$$v},expression:\"selectedStaff\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has('Staff')),expression:\"errors.has('Staff')\"}],staticClass:\"text-danger text-sm\"},[_vm._v(_vm._s(_vm.errors.first('Staff')))])],1)]):_vm._e()])])]),_c('vs-prompt',{attrs:{\"title\":\"Cancellation Reason\",\"accept-text\":\"Continue\",\"cancel-text\":\"Cancel\",\"color\":\"secondary\",\"active\":_vm.cancellationForm},on:{\"cancel\":function($event){_vm.cancellationReason=null},\"accept\":function($event){return _vm.rejectOrder()},\"update:active\":function($event){_vm.cancellationForm=$event}}},[_c('div',[_c('vs-input',{staticClass:\"mt-3 w-full\",attrs:{\"placeholder\":\"Reason\"},model:{value:(_vm.cancellationReason),callback:function ($$v) {_vm.cancellationReason=$$v},expression:\"cancellationReason\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"data-list-list-view\" class=\"data-list-container\">\n\n    <div class=\"flex flex-wrap-reverse items-center flex-grow justify-between mb-6\">\n\n      <div class=\"flex flex-wrap-reverse items-center data-list-btn-container\">\n\n        <vs-icon class=\"mr-2\" icon=\"shopping_cart\" size=\"large\" color=\"primary\"></vs-icon>\n        <h1 class=\"mr-6\">\n          Orders\n        </h1>\n\n        <!-- Filter By Region -->\n        <v-select v-model=\"selectedOrderRegionId\" class=\"mr-6\" :clearable=\"false\" :reduce=\"item => item.id\"\n                  :options=\"availableRegions\" label=\"region_name\"/>\n\n        <!-- Add Order Button -->\n        <vs-button icon=\"add\" id=\"customerLoading\" @click=\"showOrderForm\"\n                   class=\"mr-4 vs-con-loading__container\">Add Order\n        </vs-button>\n\n      </div>\n\n    </div>\n\n    <!-- orders table-->\n    <vs-card>\n      <vs-table ref=\"table\"  @selected=\"showOrderDetails\" v-model=\"selectedOrder\" pagination :max-items=\"100\" search :data=\"orders\">\n\n        <template slot=\"thead\">\n          <vs-th >#</vs-th>\n          <vs-th  >Customer</vs-th>\n          <vs-th  >Address</vs-th>\n          <vs-th  >Sales Person</vs-th>\n          <vs-th  >Status</vs-th>\n          <vs-th>Action</vs-th>\n        </template>\n\n        <template slot-scope=\"{data}\">\n          <tbody>\n          <vs-tr :data=\"item\" :key=\"rowIndex\" v-for=\"(item, rowIndex) in data\">\n\n            <vs-td>\n              <p class=\"product-name font-medium truncate\">{{ item.id }}</p>\n            </vs-td>\n\n            <vs-td>\n              <p class=\"product-name font-medium truncate\">{{ item.customer ? item.customer.customer_name : \" \" }}</p>\n            </vs-td>\n\n            <vs-td>\n              <p class=\"product-category\">\n                {{ item.place ? item.place.place_name : \" \" }}\n                {{ item.district ? item.district.district_name : \" \" }}\n                {{ item.region ? item.region.region_name : \" \" }}\n              </p>\n            </vs-td>\n\n            <vs-td>\n              <vs-chip color=\"secondary\" v-if=\"item.staff\">\n                <vs-avatar color=\"secondary\" icon-pack=\"feather\" icon=\"icon-user\"/>\n                {{ item.staff.staff_name }}\n              </vs-chip>\n              <vs-chip color=\"grey\" v-else> No Salesman</vs-chip>\n            </vs-td>\n\n            <vs-td>\n              <span v-bind:class=\"item.is_cancelled? `text-danger` : `text-primary` \"> {{ item.order_status }}</span>\n            </vs-td>\n\n\n            <vs-td class=\"whitespace-no-wrap\">\n              <vs-button color=\"secondary\" class=\"mr-2\" size=\"small\" type=\"border\"  >View\n              </vs-button>\n            </vs-td>\n\n\n          </vs-tr>\n          </tbody>\n        </template>\n      </vs-table>\n\n    </vs-card>\n    <!-- [end] orders table-->\n\n    <!-- Order Form -->\n    <vs-popup @close=\"closeOrderForm()\" fullscreen title=\"New Order\" :active.sync=\"orderFormDialog\">\n\n      <div class=\"md:px-6\">\n\n        <!-- Content Row -->\n        <div class=\"vx-row\">\n          <div class=\"vx-col md:w-1/3 w-1/4\">\n\n            <!--Customer -->\n            <div class=\"mt-4 mb-5\">\n              <!-- customer -->\n              <h3>Customer</h3>\n              <vs-input v-if=\"!selectedOrderCustomer\" v-model=\"customerQuery\" class=\"mt-5 w-full\" name=\"location\"\n                        v-validate=\"'required'\"/>\n\n              <!-- customers results -->\n              <div v-for=\"(customer,index) in customers\" :key=\"index\"\n                   @click=\"pickCustomer(customer)\" class=\"location-item px-2 py-2 rounded mt-4\">\n                <ul>\n                  <li>{{ customer.customer_name }} {{ customer.email }}</li>\n                  <li>{{ customer.phone_number_1 }} {{ customer.phone_number_2 }}</li>\n                  <li>\n                    {{ customer.region ? customer.region.region_name : \" \" }}\n                    {{ customer.district ? customer.district.distrcit_name : \" \" }}\n                    {{ customer.place ? customer.place.place_name : \" \" }}\n                  </li>\n                </ul>\n              </div>\n\n              <!-- selectedOrder customer -->\n              <div class=\"selectedOrder-address px-2 py-2 rounded mt-4\" v-if=\"selectedOrderCustomer\">\n                <div class=\"flex flex-wrap items-center\">\n                  <div class=\"flex-grow\">\n                    {{ selectedOrderCustomer.customer_name }}\n                  </div>\n                  <vs-button @click=\"removeCustomer()\" color=\"danger\" type=\"flat\" icon-pack=\"feather\"\n                             icon=\"icon-x\"></vs-button>\n                </div>\n              </div>\n            </div>\n\n            <!-- Delivery Address -->\n            <div class=\"mt-4 mb-5\">\n              <h3>Delivery Address</h3>\n\n              <vs-input v-if=\"!selectedOrderAddress\" v-model=\"locationQuery\" class=\"mt-5 w-full\" name=\"location\"\n                        v-validate=\"'required'\"/>\n              <span class=\"text-danger text-sm\" v-show=\"errors.has('location')\">{{ errors.first('item-name') }}</span>\n\n              <!-- Address result -->\n              <div v-for=\"(address,index) in addresses\" :key=\"index\"\n                   @click=\"pickAddress(address)\" class=\"location-item px-2 py-2 rounded mt-4\">\n                <ul>\n                  <li>{{ address.location_name }}</li>\n                </ul>\n              </div>\n\n              <!-- selectedOrder address -->\n              <div class=\"selectedOrder-address px-2 py-2 rounded mt-4\" v-if=\"selectedOrderAddress\">\n                <div class=\"flex flex-wrap items-center\">\n                  <div class=\"flex-grow\">\n                    {{ selectedOrderAddress.location_name }}\n                  </div>\n                  <vs-button @click=\"removeAddress()\" color=\"danger\" type=\"flat\" icon-pack=\"feather\"\n                             icon=\"icon-x\"></vs-button>\n                </div>\n              </div>\n\n            </div>\n            <!-- [end] Delivery Address -->\n\n          </div>\n\n          <!--product picker -->\n          <div class=\"vx-col md:w-1/3 w-1/4\">\n\n            <div class=\"mx-6 px-6\">\n              <h3>Pick Product</h3>\n              <!-- Product -->\n              <div class=\"mt-4 mb-5\">\n                <label class=\"vs-input--label\">Product</label>\n                <v-select @input=\"fetchProductVariants()\" v-model=\"selectedOrderProduct\" :clearable=\"false\"\n                          :options=\"products\" v-validate=\"'required'\" name=\"Product\" label=\"product_name\"\n                          placeholder=\"Select\">\n                </v-select>\n                <span class=\"text-danger text-sm\" v-show=\"errors.has('Product')\">{{ errors.first('Product') }}</span>\n              </div>\n\n              <!-- Product Variant-->\n              <div class=\"mt-4 mb-5\">\n                <label class=\"vs-input--label\">Product Variant</label>\n                <v-select v-model=\"selectedOrderProductVariant\" :clearable=\"false\" :options=\"productVariants\"\n                          v-validate=\"'required'\" name=\"Variant\" label=\"variant_name\"\n                          placeholder=\"Select\">\n                </v-select>\n                <span class=\"text-danger text-sm\" v-show=\"errors.has('Variant')\">{{ errors.first('Variant') }}</span>\n              </div>\n\n              <div class=\"mt-4 mb-5\">\n                <vs-input class=\"w-full mt-4\" label=\"Quantity\" v-model=\"quantity\"\n                          v-validate=\"'required'\" name=\"quantity\"/>\n                <span class=\"text-danger text-sm\" v-show=\"errors.has('quantity')\">\n                   {{ errors.first('quantity') }} </span>\n              </div>\n\n\n              <div v-if=\"selectedOrderProduct && selectedOrderProductVariant && quantity>0\">\n                <vs-button ref=\"saveButton\" @click=\"addProductToCart()\" color=\"secondary\" class=\"mr-4 mb-4\">\n                  Add to cart\n                </vs-button>\n              </div>\n            </div>\n\n          </div>\n          <!-- [end] product picker -->\n\n          <!-- Cart contents -->\n          <div class=\"vx-col md:w-1/3 w-1/4\">\n            <h3>Cart</h3>\n            <div class=\"category-item\" v-for=\"(cartProduct, index) in cartProducts\" :key=\"index\">\n              <vs-card class=\"my-6\">\n                <div class=\"flex flex-wrap\">\n                  <p class=\"mt-1 flex-grow\">\n                    {{ cartProduct.product.product_name }}\n                    {{ cartProduct.productVariant.variant_name }},\n                    QTY: {{ cartProduct.quantity }}\n                  </p>\n                  <vs-button type=\"border\" color=\"danger\" @click=\"removeFromCart(index)\"\n                             radius icon=\"close\" size=\"small\"></vs-button>\n                </div>\n              </vs-card>\n            </div>\n\n            <div v-if=\"cartProducts.length>0\">\n              <vs-button ref=\"saveButton\" @click=\"submitOrder()\" color=\"success\" class=\"mr-4 mb-4\">\n                Submit Order\n              </vs-button>\n            </div>\n          </div>\n          <!-- [end] Cart contents -->\n\n        </div>\n\n        <div class=\"vx-row mt-12\">\n          <div class=\"vx-col w-full\">\n            <div class=\"flex items-start flex-col sm:flex-row\">\n              <!-- <vs-avatar :src=\"data.avatar\" size=\"80px\" class=\"mr-4\" /> -->\n\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </vs-popup>\n    <!-- [end] Order Form -->\n\n    <!-- Order details -->\n    <vs-popup @close=\"closeOrderDetails()\" fullscreen title=\"Order Details\" :active.sync=\"orderDetailsVisible\">\n      <div style=\"min-height: 100vh;\">\n        <div class=\"vx-row\">\n\n          <!-- Customer info -->\n          <div class=\"vx-col md:w-1/3\">\n            <div class=\"mb-6\">\n              <span class=\"font-bold\">Customer</span>\n            </div>\n            <div>\n              <table>\n                <tr>\n                  <td class=\"pr-6\">Name</td>\n                  <td>{{ selectedOrder.customer ? selectedOrder.customer.customer_name : \"No Customer\" }}</td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Phone</td>\n                  <td>\n                    {{ selectedOrder.customer ? selectedOrder.customer.phone_number_1 : \"No Phone\" }}\n                    {{ selectedOrder.customer ? selectedOrder.customer.phone_number_2 : \"\" }}\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Email</td>\n                  <td>\n                    {{ selectedOrder.customer ? selectedOrder.customer.email : \"Email\" }}\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"pr-6\">Address</td>\n                  <td>\n                    {{ selectedOrder.place ? selectedOrder.place.place_name : \" \" }}\n                    {{ selectedOrder.district ? selectedOrder.district.district_name : \" \" }}\n                    {{ selectedOrder.region ? selectedOrder.region.region_name : \" \" }}\n                  </td>\n                </tr>\n              </table>\n            </div>\n\n            <vs-button v-if=\"!(selectedOrder.is_cancelled)\" class=\"mt-12\" @click=\"rejectOrder()\" color=\"danger\"> Cancel Order</vs-button>\n          </div>\n\n          <!-- Ordered product -->\n          <div class=\"vx-col md:w-1/3 \" v-if=\"selectedOrder.order_products\">\n            <div class=\"mb-6\">\n              <span class=\"font-bold\">Ordered Products</span>\n            </div>\n\n            <vx-card class=\"overflow-hidden mb-6\"\n                     v-for=\"(orderProduct,index) in selectedOrder.order_products\">\n              <div slot=\"no-body\">\n                <div class=\"p-6 flex justify-between flex-row-reverse items-center\">\n                  <feather-icon :icon=\"`PackageIcon`\" class=\"p-3 inline-flex rounded-full text-primary\"\n                                :style=\"{background: `rgba(var(--vs-primary),.15)`}\"></feather-icon>\n                  <div class=\"truncate\">\n                    <h3 class=\"mb-1 font-bold\">\n                      {{ orderProduct.product ? orderProduct.product.product_name : \"\" }}\n                      {{ orderProduct.variant ? orderProduct.variant.variant_name : \" \" }}\n                    </h3>\n                    <ul>\n                      <li>Quantity {{ orderProduct.ordered_quantity }}</li>\n                      <li>Delivered: {{ orderProduct.delivered_quantity }}</li>\n                      <li>@TSH{{ orderProduct.selling_price }}</li>\n                    </ul>\n                  </div>\n                </div>\n\n              </div>\n            </vx-card>\n\n          </div>\n\n          <!-- Sales person -->\n          <div class=\"vx-col md:w-1/3 \" v-if=\"selectedOrder.order_products\">\n            <div class=\"mb-6\">\n              <span class=\"font-bold\">Sales Person</span>\n            </div>\n            <table>\n              <tr>\n                <td class=\"pr-6\">Name</td>\n                <td>{{ selectedOrder.staff ? selectedOrder.staff.staff_name : \"No sales person\" }}</td>\n              </tr>\n\n              <tr>\n                <td class=\"pr-6\">Phone</td>\n                <td> {{ selectedOrder.staff ? selectedOrder.staff.phone_number : \"No Phone\" }}</td>\n              </tr>\n            </table>\n\n            <div class=\"mt-4 mb-5\">\n              <label class=\"vs-input--label\">Update Sales Person</label>\n              <v-select @input=\"setSalesPerson()\" v-model=\"selectedStaff\" :clearable=\"false\"\n                        :options=\"availableStaff\" v-validate=\"'required'\" name=\"Staff\" label=\"staff_name\"\n                        placeholder=\"Select\">\n              </v-select>\n              <span class=\"text-danger text-sm\" v-show=\"errors.has('Staff')\">{{ errors.first('Staff') }}</span>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </vs-popup>\n    <!-- [end] Order details -->\n\n    <!-- Cancel Form -->\n    <vs-prompt title=\"Cancellation Reason\" :accept-text=\"`Continue`\" :cancel-text=\"`Cancel`\"\n               @cancel=\"cancellationReason=null\" color=\"secondary\"\n               @accept=\"rejectOrder()\"\n               :active.sync=\"cancellationForm\">\n      <div>\n        <vs-input placeholder=\"Reason\"  v-model=\"cancellationReason\" class=\"mt-3 w-full\"/>\n      </div>\n    </vs-prompt>\n    <!-- [end] Cancel Form -->\n\n  </div>\n</template>\n\n<script>\nimport axios from \"@/axios\";\nimport vSelect from 'vue-select'\nimport {handle} from \"@/http/handler\";\nimport Table from \"@/views/ui-elements/table/Table\";\n\nexport default {\n  components: {\n    Table,\n    vSelect\n  },\n\n  data() {\n    return {\n      selectedOrder: {},\n      orders: [],\n      orderDetailsVisible: false,\n\n      itemsPerPage: 4,\n      isMounted: false,\n\n      // Data Sidebar\n      showOrderFormSidebar: false,\n      sidebarData: {},\n\n      selectedOrderRegionId: {\"id\": null, \"region_name\": \"All Regions\"},\n      availableRegions: [],\n\n      orderFormDialog: false,\n      cartProducts: [],\n      quantity: 1,\n      selectedOrderProduct: null,\n      selectedOrderProductVariant: null,\n\n      products: [],\n      productVariants: [],\n\n      customerQuery: '',\n      customers: [],\n      selectedOrderCustomer: null,\n\n      locationQuery: '',\n      addressesRawResults: [],\n      selectedOrderAddress: null,\n\n      availableStaff: [],\n      selectedStaff: {},\n\n      cancellationReason: '',\n      cancellationForm: false\n\n    }\n  },\n\n  watch: {\n    selectedOrderRegionId: function (val) {\n      this.fetchOrders();\n    },\n    locationQuery(query) {\n      this.searchLocations();\n    },\n    customerQuery(query) {\n      this.searchCustomer();\n    },\n\n  },\n\n  computed: {\n    currentPage() {\n      if (this.isMounted) {\n        return this.$refs.table.currentx\n      }\n      return 0\n    },\n\n    addresses() {\n      return this.addressesRawResults.map(function (resultItem) {\n\n        let location = {};\n\n\n        if (resultItem.type === \"places\") {\n          location.location_name = resultItem.searchable.place_name\n          location.place_id = resultItem.searchable.id\n        }\n        if (resultItem.type === \"districts\") {\n          location.location_name = resultItem.searchable.district_name\n          location.district_id = resultItem.searchable.id\n        }\n        if (resultItem.type === \"regions\") {\n          location.location_name = resultItem.searchable.region_name\n          location.region_id = resultItem.searchable.id\n        }\n\n\n        if (resultItem.searchable.place) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.district.district_name;\n          location.place_id = resultItem.searchable.id;\n        }\n\n        if (resultItem.searchable.district) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.district.district_name;\n          location.district_id = resultItem.searchable.district.id;\n        }\n\n        if (resultItem.searchable.region) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.region.region_name;\n          location.region_id = resultItem.searchable.region.id;\n        }\n\n        if (resultItem.searchable.country) {\n          location.location_name = location.location_name + \" \" + resultItem.searchable.region.region_name;\n          location.country_id = resultItem.searchable.country.id;\n        }\n\n        return location;\n\n      })\n    }\n\n  },\n\n  methods: {\n\n    fetchOrders() {\n      console.log(JSON.stringify(this.selectedOrderRegionId));\n\n      this.rawCustomers = [];\n      this.$vs.loading({background: this.backgroundLoading, container: \"#customerLoading\", scale: 0.45})\n      console.info(\"fetching customers..\");\n      axios.get('/resources/sales/orders?region_id=' + this.selectedOrderRegionId)\n        .then((response) => {\n          this.orders = response.data.payload.orders.data;\n          this.$vs.loading.close(\"#customerLoading > .con-vs-loading\")\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    fetchOrderDetails() {\n      console.info(\"fetching details..\");\n      axios.get('/resources/sales/order?id=' + this.selectedOrder.id)\n        .then((response) => {\n          this.selectedOrder = response.data.payload.order;\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    confirmCustomerDeletion(customer) {\n      this.customerInstance = customer;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: `Confirm`,\n        text: 'Are you sure you want to remove ' + this.customerInstance.customer_name,\n        accept: this.removeCustomer\n      })\n    },\n\n    showOrderForm(order = {}) {\n      this.orderFormDialog = true;\n      this.orderInstance = order;\n    },\n\n    closeOrderForm() {\n      this.orderFormDialog = false;\n    },\n\n    addProductToCart() {\n      let cartProduct = {\n        product: this.selectedOrderProduct,\n        productVariant: this.selectedOrderProductVariant,\n        quantity: this.quantity\n      };\n\n      this.selectedOrderProduct = null;\n      this.selectedOrderProductVariant = null;\n      this.quantity = 1;\n\n      this.cartProducts.push(cartProduct)\n    },\n\n    removeFromCart(index) {\n      console.log(index)\n      delete this.cartProducts.splice(index, 1);\n    },\n\n    submitOrder() {\n      if (!this.selectedOrderCustomer) {\n        this.sadlyNotify(\"Select customer\")\n        return;\n      }\n      if (!this.selectedOrderAddress) {\n        this.sadlyNotify(\"Select address\")\n        return;\n      }\n\n      let variants = this.cartProducts.map(function (cartItem) {\n        return {\n          id: cartItem.productVariant.id,\n          quantity: cartItem.quantity\n        }\n      });\n\n      let orderData = {\n        customer_id: this.selectedOrderCustomer.id,\n        region_id: this.selectedOrderAddress.region_id,\n        district_id: this.selectedOrderAddress.district_id,\n        place_id: this.selectedOrderAddress.place_id,\n        product_variants: variants\n      };\n      console.log(JSON.stringify(orderData))\n\n      axios.post('/sales/order/add', orderData)\n        .then((response) => {\n          this.closeOrderForm();\n          this.happilyNotify(\"Order Added\");\n          this.fetchOrders();\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n\n    showOrderDetails() {\n       this.$router.push({ name: \"sales-order-details\", params: { passedOrder: this.selectedOrder }});\n     },\n\n    closeOrderDetails() {\n      this.orderDetailsVisible = false;\n    },\n\n    /**Sales person **/\n    setSalesPerson() {\n      axios.post('/sales/order/staff', {id: this.selectedOrder.id, staff_id: this.selectedStaff.id})\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n            this.happilyNotify(\"Updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    /*** Cancellation **/\n    promptCancellation(){\n      this.cancelletionReason = \"\"\n      this.cancellationForm = true;\n    },\n\n    rejectOrder() {\n      axios.post('/sales/order/cancel', {\n        id: this.selectedOrder.id,\n        cancellationReason: this.cancellationReason,\n      })\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n            this.happilyNotify(\"Updated\");\n            this.fetchOrderDetails();\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n\n    /*** Resources **/\n    fetchRegions() {\n      console.info(\"fetching regions..\");\n      console.info(JSON.stringify(this.selectedOrderCustomer));\n      axios.get('/resources/addresses/regions?country_id=1')\n        .then((response) => {\n          this.availableRegions = response.data.payload.regions;\n          this.availableRegions.unshift({\"id\": null, \"region_name\": \"All Regions\"});\n\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    fetchProducts() {\n      axios.get('/resources/products/products?category_id=')\n        .then((response) => {\n          this.products = response.data.payload.products.data;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    fetchProductVariants() {\n      this.productVariants = [];\n      this.selectedOrderProductVariant = null;\n      axios.get('/resources/product/variants?product_id=' + this.selectedOrderProduct.id)\n        .then((response) => {\n          this.productVariants = response.data.payload.product_variants;\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n    },\n\n    fetchStaff() {\n      console.info(\"fetching staff..\");\n      console.info(JSON.stringify(this.selectedDepot));\n      axios.post('/resources/staff/get')\n        .then((response) => {\n          this.availableStaff = response.data.payload.staff;\n        }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n\n\n    /*** Customers **/\n    searchCustomer() {\n      console.log(\"Finding customer...\");\n      this.customers = [];\n      if (!(this.customerQuery)) {\n        return;\n      }\n      axios.get('/resources/sales/customer/find?query=' + this.customerQuery)\n        .then((response) => {\n          if (response.data.success) {\n            this.customers = response.data.payload.customers;\n          }\n        }).catch((error) => {\n        console.log(error);\n        this.handleApiError(error);\n      })\n\n    },\n\n    pickCustomer(customer) {\n      this.customers = [];\n      this.selectedOrderCustomer = customer;\n    },\n\n    removeCustomer() {\n      this.selectedOrderCustomer = null;\n    },\n\n    /*** Location **/\n    searchLocations() {\n      this.addressesRawResults = [];\n\n      if (!(this.locationQuery)) {\n        return;\n      }\n      axios.post('/resources/addresses/find', {\n        query: this.locationQuery\n      }).then((response) => {\n        if (response.data.success) {\n          this.addressesRawResults = response.data.payload.addresses;\n        }\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    pickAddress(address) {\n      this.addressesRawResults = [];\n      this.selectedOrderAddress = address;\n    },\n\n    removeAddress() {\n      this.selectedOrderAddress = null;\n    },\n\n\n    /** Helpers **/\n    handleApiError(error) {\n      this.$vs.notify({\n        title: 'Error',\n        text: handle(error),\n        iconPack: 'feather',\n        icon: 'icon-alert-circle',\n        color: 'danger'\n      })\n    },\n\n    happilyNotify(message) {\n      this.$vs.notify({title: 'Success', text: message, color: 'success'})\n    },\n\n    sadlyNotify(message) {\n      this.$vs.notify({title: 'Error', text: message, color: 'danger', position: 'bottom-left'})\n    },\n\n\n  },\n\n\n  created() {\n    this.fetchProducts();\n    this.fetchStaff();\n  },\n  mounted() {\n    this.fetchOrders();\n    this.isMounted = true\n  }\n}\n</script>\n\n\n<style lang=\"scss\">\n\n.vs-card--content {\n  font-size: 1em !important;\n}\n\n.location-item {\n  border: 1px solid #e5e5e5;\n  background-color: #dbf4fc;\n}\n\n.selectedOrder-address {\n  border: 1px solid #2a9d8f;\n  background-color: #eaf5f4;\n  color: #2a9d8f;\n}\n\ndiv.location-item:hover {\n  background-color: #b7e9f9;\n  cursor: pointer;\n}\n\n#data-list-list-view {\n  .vs-con-table {\n\n    /*\n      Below media-queries is fix for responsiveness of action buttons\n      Note: If you change action buttons or layout of this page, Please remove below style\n    */\n    @media (max-width: 689px) {\n      .vs-table--search {\n        margin-left: 0;\n        max-width: unset;\n        width: 100%;\n\n        .vs-table--search-input {\n          width: 100%;\n        }\n      }\n    }\n\n    @media (max-width: 461px) {\n      .items-per-page-handler {\n        display: none;\n      }\n    }\n\n    @media (max-width: 341px) {\n      .data-list-btn-container {\n        width: 100%;\n\n        .dd-actions,\n        .btn-add-new {\n          width: 100%;\n          margin-right: 0 !important;\n        }\n      }\n    }\n\n    .product-name {\n      max-width: 23rem;\n    }\n\n    .vs-table--header {\n      display: flex;\n      flex-wrap: wrap;\n      margin-left: 1.5rem;\n      margin-right: 1.5rem;\n\n      > span {\n        display: flex;\n        flex-grow: 1;\n      }\n\n      .vs-table--search {\n        padding-top: 0;\n\n        .vs-table--search-input {\n          padding: 0.9rem 2.5rem;\n          font-size: 1rem;\n\n          & + i {\n            left: 1rem;\n          }\n\n          &:focus + i {\n            left: 1rem;\n          }\n        }\n      }\n    }\n\n    .vs-table {\n      border-collapse: separate;\n      border-spacing: 0 1.3rem;\n      padding: 0 1rem;\n\n      tr {\n        box-shadow: 0 4px 20px 0 rgba(0, 0, 0, .05);\n\n        td {\n          padding: 20px;\n\n          &:first-child {\n            border-top-left-radius: .5rem;\n            border-bottom-left-radius: .5rem;\n          }\n\n          &:last-child {\n            border-top-right-radius: .5rem;\n            border-bottom-right-radius: .5rem;\n          }\n        }\n\n        td.td-check {\n          padding: 20px !important;\n        }\n      }\n    }\n\n    .vs-table--thead {\n      th {\n        padding-top: 0;\n        padding-bottom: 0;\n\n        .vs-table-text {\n          text-transform: uppercase;\n          font-weight: 600;\n        }\n      }\n\n      th.td-check {\n        padding: 0 15px !important;\n      }\n\n      tr {\n        background: none;\n        box-shadow: none;\n      }\n    }\n\n    .vs-table--pagination {\n      justify-content: center;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=27657b52&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Orders.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}